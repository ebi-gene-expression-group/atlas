{"version":3,"sources":["webpack:///./expression-atlas-heatmap-highcharts/index.js","webpack:///./expression-atlas-heatmap-highcharts/src/highchartsHeatmapRenderer.js","webpack:///./expression-atlas-heatmap-highcharts/src/HighchartsHeatmapContainer.jsx","webpack:///./expression-atlas-heatmap-highcharts/src/HighchartsHeatmap.jsx","webpack:///./expression-atlas-heatmap-highcharts/~/highcharts-heatmap/heatmap.js","webpack:///./expression-atlas-heatmap-highcharts/src/HighchartsHeatmap.css?45a0","webpack:///./expression-atlas-heatmap-highcharts/src/HighchartsHeatmap.css","webpack:///./expression-atlas-heatmap-highcharts/~/css-loader/lib/css-base.js","webpack:///./expression-atlas-heatmap-highcharts/~/style-loader/addStyles.js","webpack:///./expression-atlas-heatmap-highcharts/src/highchartsUtils.js","webpack:///./expression-atlas-heatmap-highcharts/src/HighchartsHeatmapContainer.css?70f8","webpack:///./expression-atlas-heatmap-highcharts/src/HighchartsHeatmapContainer.css","webpack:///./expression-atlas-heatmap-highcharts/~/anatomogram/index.js","webpack:///./expression-atlas-heatmap-highcharts/~/anatomogram/src/Anatomogram.jsx"],"names":[],"mappings":"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ACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACjDA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAgB,mBAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,sBAAsB;AACtC;AACA;AACA,mBAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA,kBAAiB,2BAA2B;AAC5C;AACA;AACA,SAAQ,uBAAuB;AAC/B;AACA;AACA,IAAG;AACH;AACA,kBAAiB,uBAAuB;AACxC;AACA;AACA,4BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA,iCAAgC,sBAAsB;AACtD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;AACA,GAAE;AACF;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;;AAEA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,wDAAuD;AACvD;;AAEA,8BAA6B,mBAAmB;;AAEhD;;AAEA;;AAEA;AACA;AACA;;;;;;;;;;;ACrPA;;AAEA;;AAEA;AACA;AACA,iBAAgB;AAChB,MAAK;AACL;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,iBAAgB,QAAQ;AACxB;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,kBAAiB,0BAA0B;AAC3C;AACA,qBAAoB;AACpB,UAAS;;AAET;AACA;AACA;AACA,sBAAqB,yBAAyB;AAC9C;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAgB,qBAAqB;AACrC;AACA;;AAEA;AACA,iBAAgB;AAChB,MAAK;;AAEL;AACA;AACA;AACA,MAAK;;AAEL;AACA,kBAAiB,yBAAyB;AAC1C;AACA;AACA;;AAEA,wBAAuB,yBAAyB;AAChD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,kBAAiB,oBAAoB;AACrC;AACA,sBAAqB,iBAAiB;AACtC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;;AAEL;;AAEA;AACA,kBAAiB,gBAAgB;AACjC;AACA;AACA;;AAEA,wBAAuB,gCAAgC;AACvD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,kBAAiB,iBAAiB;AAClC;AACA,sBAAqB,oBAAoB;AACzC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","file":"expressionAtlasHeatmapHighcharts.bundle.js","sourcesContent":["\"use strict\";\n\n//*------------------------------------------------------------------*\n\nmodule.exports = require('./src/highchartsHeatmapRenderer.js');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap-highcharts/index.js\n ** module id = 0\n ** module chunks = 4\n **/","\"use strict\";\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\n\nvar EventEmitter = require('events');\n\n//*------------------------------------------------------------------*\n\nvar HighchartsHeatmapContainer = require('./HighchartsHeatmapContainer.jsx');\n\n//*------------------------------------------------------------------*\n\n/**\n * @param {Object}      options\n * @param {string}          options.proxyPrefix - Proxy URL with protocol: required by CTTV\n * @param {boolean=}        options.disableGoogleAnalytics - Disable Google Analytics: required by CTTV\n * @param {string=}         options.atlasHost - Atlas host with port (note: donâ€™t include port)\n * @param {string}          options.params\n * @param {boolean}         options.analyticsSearch\n * @param {boolean=}        options.isMultiExperiment\n * @param {boolean=}        options.showAnatomogram\n * @param {boolean=}        options.isWidget\n * @param {string | Object} options.target - a <div> id or a DOM element, as returned by ReactDOM.findDOMNode()\n * @param {function}        options.fail - Callback to run if the AJAX request to the server fails. (jqXHR, textStatus)\n */\nexports.render = function(options) {\n\n    var protocol = window.location.protocol + \"//\",\n        atlasHost = options.atlasHost === undefined ? \"www.ebi.ac.uk\" : options.atlasHost,\n        atlasPath = \"/gxa\";\n\n    var linksAtlasBaseURL = protocol + atlasHost + atlasPath,\n        atlasBaseURL = options.proxyPrefix ? options.proxyPrefix + \"/\" + atlasHost + atlasPath : linksAtlasBaseURL;\n\n    var endpointPath =  options.isMultiExperiment ? \"/widgets/heatmap/baselineAnalytics\" : \"/widgets/heatmap/referenceExperiment\";\n\n    var sourceURL = atlasBaseURL + endpointPath + \"?\" + options.params;\n\n    var ensemblEventEmitter = new EventEmitter();\n    ensemblEventEmitter.setMaxListeners(0);\n    var anatomogramEventEmitter = new EventEmitter();\n    anatomogramEventEmitter.setMaxListeners(0);\n\n    ReactDOM.render(\n        React.createElement(\n            HighchartsHeatmapContainer,\n            {\n                sourceURL: sourceURL,\n                atlasBaseURL: atlasBaseURL,\n                linksAtlasBaseURL: linksAtlasBaseURL,\n                showAnatomogram: options.showAnatomogram === undefined ? true : options.showAnatomogram,\n                isWidget: options.isWidget === undefined ? true : options.isWidget,\n                isMultiExperiment: options.isMultiExperiment,\n                disableGoogleAnalytics: options.disableGoogleAnalytics === undefined ? false : options.disableGoogleAnalytics,\n                fail: options.fail,\n                ensemblEventEmitter: ensemblEventEmitter,\n                anatomogramEventEmitter:anatomogramEventEmitter\n            }\n        ),\n        (typeof options.target === \"string\") ? document.getElementById(options.target) : options.target\n    );\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap-highcharts/src/highchartsHeatmapRenderer.js\n ** module id = 1047\n ** module chunks = 4\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\n\nvar $ = require('jquery');\nrequire('jQuery-ajaxTransport-XDomainRequest');\n\n//*------------------------------------------------------------------*\n\nvar HighchartsHeatmap = require('./HighchartsHeatmap.jsx');\nvar HighchartsUtils = require('./highchartsUtils.js');\nrequire('./HighchartsHeatmapContainer.css');\n\nvar Anatomogram = require('anatomogram');\n\n\n//*------------------------------------------------------------------*\n\nvar ExperimentDescription = React.createClass({\n    propTypes: {\n        linksAtlasBaseURL: React.PropTypes.string.isRequired,\n        experiment: React.PropTypes.shape({\n            URL: React.PropTypes.string.isRequired,\n            description: React.PropTypes.string.isRequired,\n            allSpecies: React.PropTypes.string.isRequired\n        }).isRequired\n    },\n\n    render: function () {\n\n        var experimentURL = this.props.linksAtlasBaseURL + this.props.experiment.URL;\n\n        return (\n            <div style={{width: \"100%\", paddingBottom: \"20px\"}}>\n                <div id=\"experimentDescription\">\n                    <a id=\"goto-experiment\" className=\"gxaThickLink\" title=\"Experiment Page\" href={experimentURL}>{this.props.experiment.description}</a>\n                </div>\n                <div id=\"experimentOrganisms\">Organism(s): <span style={{\"fontStyle\":\"italic\"}}>{this.props.experiment.allSpecies}</span></div>\n            </div>\n        );\n    }\n\n});\n\nvar HighchartsHeatmapContainer = React.createClass({\n    propTypes: {\n        sourceURL: React.PropTypes.string.isRequired,\n        atlasBaseURL: React.PropTypes.string.isRequired,\n        linksAtlasBaseURL: React.PropTypes.string.isRequired,\n        showAnatomogram:React.PropTypes.bool.isRequired,\n        isWidget: React.PropTypes.bool.isRequired,\n        isMultiExperiment: React.PropTypes.bool.isRequired,\n        disableGoogleAnalytics: React.PropTypes.bool.isRequired,\n        fail: React.PropTypes.func,\n        ensemblEventEmitter : React.PropTypes.object.isRequired,\n        anatomogramEventEmitter: React.PropTypes.object.isRequired\n    },\n\n    render: function () {\n\n    var geneURL =\n        this.props.linksAtlasBaseURL + \"/query\" +\n        \"?geneQuery=\" + this.state.heatmapConfig.geneQuery +\n        \"&exactMatch=\" + this.state.heatmapConfig.isExactMatch +\n        \"&organism=\" + this.state.heatmapConfig.species;\n\n    var display = this.props.showAnatomogram ? \"block\" : \"none\";\n    var marginLeft = this.props.showAnatomogram ? \"270px\" : \"0\";\n\n    return (\n      <div ref=\"this\">\n          { this.state.experimentData ?\n              <ExperimentDescription experiment={this.state.experimentData} linksAtlasBaseURL={this.props.linksAtlasBaseURL}/>\n              : null\n          }\n\n          { this.state.heatmapConfig ?\n              <div id=\"heatmap-anatomogram\" className=\"gxaHeatmapAnatomogramRow\">\n\n                  <div ref=\"anatomogramEnsembl\" className=\"gxaAside\" style={{display: display}}>\n                      { this.props.showAnatomogram && this.state.anatomogramData && Object.keys(this.state.anatomogramData).length\n                        ? <Anatomogram anatomogramData={this.state.anatomogramData}\n                                     expressedTissueColour={\"gray\"} hoveredTissueColour={\"red\"}\n                                     profileRows={this.state.profiles.rows} eventEmitter={this.props.anatomogramEventEmitter} atlasBaseURL={this.props.atlasBaseURL}/>\n                        : null\n                      }\n                  </div>\n\n                  <div id=\"heatmap-react\" className=\"gxaInnerHeatmap\" style={{marginLeft: marginLeft, display:\"block\"}}>\n                      <HighchartsHeatmap\n                               profiles={this.state.profiles}\n                               anatomogramEventEmitter={this.props.anatomogramEventEmitter}\n                               ensemblEventEmitter={this.props.ensemblEventEmitter}\n                               atlasBaseURL={this.props.atlasBaseURL}\n                               xAxisCategories={this.state.xAxisCategories}\n                               yAxisCategories={this.state.yAxisCategories}\n                               yAxisCategoriesLinks={this.state.yAxisCategoriesLinks}\n                               seriesDataNA={this.state.seriesDataNA}\n                               seriesDataNAString={this.state.seriesDataNAString}\n                               seriesDataBelowCutoff={this.state.seriesDataBelowCutoff}\n                               seriesDataBelowCutoffString={this.state.seriesDataBelowCutoffString}\n                               seriesDataRanges={this.state.seriesDataRanges}\n                      />\n                  </div>\n              </div>\n              :\n              <div ref=\"loadingImagePlaceholder\">\n                  <img src={this.props.atlasBaseURL + \"/resources/images/loading.gif\"}/>\n              </div>\n          }\n\n          { this.props.isWidget ?\n              <div><p><a href={geneURL}>See more expression data at Expression Atlas.</a>\n                  <br/>This expression view is provided by <a href={this.props.linksAtlasBaseURL}>Expression Atlas</a>.\n                  <br/>Please direct any queries or feedback to <a href=\"mailto:arrayexpress-atlas@ebi.ac.uk\">arrayexpress-atlas@ebi.ac.uk</a></p>\n              </div>\n              :\n              null\n          }\n\n      </div>\n      );\n    },\n\n    componentDidUpdate: function() {\n      /*\n      I am a hack and I attach event listeners to the labels.\n      There seems to be no way to do it in the HighchartsHeatmap component -\n      the labels that are selected when HighchartsHeatmap.componentDidUpdate is called are redrawn when both components appear on the screen\n      */\n      Snap.selectAll('.highcharts-yaxis-labels > *')\n        .forEach(function (v) {\n          //careful - if the label doesn't fit, the element will have two children: displayed and full title\n          //here we assume the longest text is the correct title of the experiment\n          var title =\n            v.selectAll('*').items\n            .map(function(c){return c.node.textContent})\n            .reduce(function(l,r){return l.length > r.length? l : r}, \"\");\n          if (title) {\n            v.hover(\n              function onMouseEnterSendTitle() {\n                this.props.anatomogramEventEmitter.emit('gxaHeatmapRowHoverChange', title);\n              }\n                ,\n                function onMouseLeaveSendNull() {\n                this.props.anatomogramEventEmitter.emit('gxaHeatmapRowHoverChange', null);\n              } , this, this);\n          }\n        }, this);\n    },\n\n    getInitialState: function() {\n        return {\n            heatmapConfig: '',\n            profiles: {\n                rows: [],\n                minExpressionLevel: 0,\n                maxExpressionLevel: 0\n            },\n            jsonCoexpressions : [],\n            geneSetProfiles: {},\n            anatomogramData: {},\n\n            xAxisCategories: {},\n            yAxisCategories: {},\n            yAxisCategoriesLinks: {},\n\n            seriesDataNA: [],\n            seriesDataNAString: \"NA\",\n            seriesDataBelowCutoff: [],\n            seriesDataBelowCutoffString: \"Below cutoff\",\n\n            seriesDataRanges: []\n        }\n    },\n\n    componentDidMount: function() {\n        var httpRequest = {\n            url: this.props.sourceURL,\n            dataType: \"json\",\n            method: \"GET\"\n        };\n\n        $.ajax(httpRequest).done(\n            function (data) {\n                if (this.isMounted()) {\n\n                    var orderedData = HighchartsUtils.rankColumns(data.profiles, data.columnHeaders);\n                    var filteredDataByThreshold = HighchartsUtils.applyThresholdtoColumns(orderedData.profiles, orderedData.columnHeaders, 40);\n                    var rankedExperiments = HighchartsUtils.rankExperiments(filteredDataByThreshold.rows, filteredDataByThreshold.columnHeaders.length);\n                    if (this.props.isMultiExperiment) {\n                        data.profiles.rows = HighchartsUtils.applyThresholdToRows(rankedExperiments, filteredDataByThreshold.columnHeaders, 40);\n                    } else { //We don't apply threshold for reference experiments\n                        data.profiles.rows = rankedExperiments;\n                    }\n\n                    var xAxisCategories = HighchartsUtils.getXAxisCategories(filteredDataByThreshold.columnHeaders);\n                    var yAxisCategories = HighchartsUtils.getYAxisCategories(data.profiles, data.config);\n                    var yAxisCategoriesLinks = HighchartsUtils.getYAxisCategoriesLinks();\n\n                    var seriesDataNA = [],\n                        seriesDataNAString = \"NA\";\n\n                    var seriesDataBelowCutoff = [],\n                        seriesDataBelowCutoffString = \"Below cutoff\";\n\n                    var seriesDataRanges = [{\n                        label: \"Low\",\n                        from: 0,\n                        to: 10,\n                        seriesData: []\n                    }, {\n                        label: \"Medium\",\n                        from: 10,\n                        to: 1000,\n                        seriesData: []\n                    }, {\n                        label: \"High\",\n                        from: 1000,\n                        to: 100000,\n                        seriesData: []\n                    }];\n\n                    var experimentTypes = [];\n\n                    for (var i = 0; i < data.profiles.rows.length; i++) {\n                        if (experimentTypes.indexOf(data.profiles.rows[i].experimentType) === -1) {\n                            experimentTypes.push(data.profiles.rows[i].experimentType);\n                        }\n                    }\n\n                    for (var i = 0; i < experimentTypes.length; i++) {\n                        var experimentTypeSeriesData = [];\n\n                        for (var j = 0; j < yAxisCategories.length; j++) {\n                            if (data.profiles.rows[j].experimentType !== experimentTypes[i]) {\n                                continue;\n                            }\n\n                            for (var k = 0; k < xAxisCategories.length; k++) {\n                                var expression = data.profiles.rows[j].expressions[k];\n                                //we switched from strings to doubles in April 2016, after a release you can assume we serve doubles that are optionally absent to mean \"NT\"\n                                if (!expression.hasOwnProperty(\"value\") || expression.value === \"NT\"){\n                                  seriesDataNA.push([k, j, seriesDataNAString]);\n                                } else if (!expression.value) {\n                                  seriesDataBelowCutoff.push([k, j, seriesDataBelowCutoffString]);\n                                } else {\n                                  experimentTypeSeriesData.push([k, j, +expression.value]);\n                                }\n                            }\n                        }\n\n                        experimentTypeSeriesData.sort(function(a, b) {\n                            return a[2] - b[2];\n                        });\n\n                        var experimentTypeMax = experimentTypeSeriesData[experimentTypeSeriesData.length - 1][2];\n\n\n                        for (var k = 0; k < seriesDataRanges.length; k++) {\n                            //seriesDataRanges[k].seriesData.concat(\n                            experimentTypeSeriesData.filter(\n                                function(datum) {\n                                    return datum[2] > seriesDataRanges[k].from * experimentTypeMax && datum[2] <= seriesDataRanges[k].to * experimentTypeMax;\n                                }).forEach(\n                                function(filteredDatum) {\n                                    seriesDataRanges[k].seriesData.push(filteredDatum);\n                                });\n                        }\n                    }\n\n\n                    this.setState({\n                        heatmapConfig: data.config,\n                        columnHeaders: data.columnHeaders,\n                        nonExpressedColumnHeaders: data.nonExpressedColumnHeaders,\n                        profiles: data.profiles,\n                        jsonCoexpressions : data.jsonCoexpressions,\n                        geneSetProfiles: data.geneSetProfiles,\n                        anatomogramData: data.anatomogram,\n                        experimentData: data.experiment,\n\n                        xAxisCategories: xAxisCategories,\n                        yAxisCategories: yAxisCategories,\n                        yAxisCategoriesLinks: yAxisCategoriesLinks,\n\n                        seriesDataBelowCutoff: seriesDataBelowCutoff,\n                        seriesDataBelowCutoffString: seriesDataBelowCutoffString,\n                        seriesDataNA: seriesDataNA,\n                        seriesDataNAString: seriesDataNAString,\n                        seriesDataRanges: seriesDataRanges\n\n                    });\n                }\n            }.bind(this)\n        ).fail(\n            function (jqXHR, textStatus, errorThrown) {\n                if (this.props.fail) {\n                    this.props.fail(jqXHR, textStatus, errorThrown);\n                } else if (textStatus === \"parsererror\") {\n                    $(this.refs.this.getDOMNode()).html(\"<div class='gxaError'>Could not parse JSON response</div>\");\n                } else {\n                    $(this.refs.this.getDOMNode()).html(jqXHR.responseText);\n                }\n            }.bind(this)\n        );\n\n        if (!this.props.disableGoogleAnalytics) {\n            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');\n\n            ga('create', 'UA-37676851-2', 'auto');\n            ga('send', 'pageview');\n        }\n    }\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = HighchartsHeatmapContainer;\n\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-heatmap-highcharts/src/HighchartsHeatmapContainer.jsx\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar Snap = require('imports-loader?this=>window,fix=>module.exports=0!snapsvg/dist/snap.svg.js');\n\nvar ReactHighcharts = require('react-highcharts');\nvar Highcharts = ReactHighcharts.Highcharts;\nrequire('highcharts-heatmap')(Highcharts);\n\n//*------------------------------------------------------------------*\n\nrequire('./HighchartsHeatmap.css');\n\nvar EventEmitter = require('events');\n\n//*------------------------------------------------------------------*\n\nvar HighchartsHeatmap = React.createClass({\n\n    propTypes: {\n        profiles: React.PropTypes.object.isRequired,\n        atlasBaseURL: React.PropTypes.string.isRequired,\n        anatomogramEventEmitter : React.PropTypes.instanceOf(EventEmitter).isRequired,\n        ensemblEventEmitter : React.PropTypes.instanceOf(EventEmitter)\n    },\n\n    getInitialState: function () {\n        return ({\n            xAxisCategories:{},\n            yAxisCategories:{},\n            yAxisCategoriesLinks: {},\n            seriesDataNA: [],\n            seriesDataNAString: \"NA\",\n            seriesDataBelowCutoff: [],\n            seriesDataBelowCutoffString: \"Below cutoff\",\n            seriesDataRanges: [\n                {\n                    label: \"Low\",\n                    from: 0,\n                    to: 10,\n                    seriesData: []\n                }, {\n                    label: \"Medium\",\n                    from: 10,\n                    to: 1000,\n                    seriesData: []\n                }, {\n                    label: \"High\",\n                    from: 1000,\n                    to: 100000,\n                    seriesData: []\n                }\n            ],\n\n            legend_1: false,\n            legend_2: false,\n            legend_3: false,\n            legend_4: false\n        })\n    },\n\n    handleClick: function (index) {\n        if (index == 1) {\n            this.setState({legend_1: !this.state.legend_1});\n        }\n        else if (index == 2) {\n            this.setState({legend_2: !this.state.legend_2});\n        }\n        else if (index == 3) {\n            this.setState({legend_3: !this.state.legend_3});\n        }\n        else if (index == 4) {\n            this.setState({legend_4: !this.state.legend_4});\n        }\n    },\n\n    _anatomogramTissueMouseEnter: function(svgPathId) {\n      Highcharts.fireEvent(this.refs.chart.getChart(), 'handleGxaAnatomogramTissueMouseEnter', {svgPathId: svgPathId});\n    },\n\n    _anatomogramTissueMouseLeave: function(svgPathId) {\n      Highcharts.fireEvent(this.refs.chart.getChart(), 'handleGxaAnatomogramTissueMouseLeave', {svgPathId: svgPathId});\n    },\n\n    _registerListeners: function() {\n      if (this.props.anatomogramEventEmitter) {\n          this.props.anatomogramEventEmitter.addListener('gxaAnatomogramTissueMouseEnter', this._anatomogramTissueMouseEnter);\n          this.props.anatomogramEventEmitter.addListener('gxaAnatomogramTissueMouseLeave', this._anatomogramTissueMouseLeave);\n      }\n      //ensemblEventEmitter only emits events, it doesn't receive them\n    },\n\n    componentDidMount: function () {\n        this._registerListeners();\n        var heatmap = this.refs.chart.getChart();\n        heatmap.series[0].hide();\n    },\n\n    componentDidUpdate: function () {\n        var heatmap = this.refs.chart.getChart();\n        heatmap.series[0].hide();\n\n        this.state.legend_1 ? heatmap.series[1].hide() : heatmap.series[1].show();\n        this.state.legend_2 ? heatmap.series[2].hide() : heatmap.series[2].show();\n        this.state.legend_3 ? heatmap.series[3].hide() : heatmap.series[3].show();\n        this.state.legend_4 ? heatmap.series[4].hide() : heatmap.series[4].show();\n\n    },\n\n    render: function () {\n        var atlasBaseURL = this.props.atlasBaseURL;\n        var yAxisCategoriesLinks = this.props.yAxisCategoriesLinks;\n        var yAxisCategories = this.props.yAxisCategories;\n\n        var highchartsOptions = {\n            plotOptions: {\n                series: {\n                    point: {\n                        events: {\n                            mouseOver: function() {\n                                this.series.chart.userOptions.anatomogramEventEmitter.emit('gxaHeatmapColumnHoverChange', this.series.xAxis.categories[this.x].id);\n                            }\n                        }\n                    },\n                    events: {\n                        mouseOut: function () {\n                            this.chart.userOptions.anatomogramEventEmitter.emit('gxaHeatmapColumnHoverChange', null);\n                        },\n                    },\n\n                    states: {\n                        hover: {\n                            color: '#eeec38' //#edab12 color cell on mouse over\n                        },\n                        select: {\n                            color: '#eeec38'\n                        }\n                    }\n                }\n            },\n            credits: {\n                enabled: false //remove highchart text in the bottom right corner\n            },\n            chart: {\n                type: 'heatmap',\n                marginTop: 82,//labels\n                marginRight: 36,//leave space for the export button to appear\n                plotBorderWidth: 1,\n                height: yAxisCategories.length * 12 + 200,\n                zoomType: 'xy',\n                events: {\n                  handleGxaAnatomogramTissueMouseEnter: function(e) {\n                    Highcharts.each(this.series, function (series) {\n                        Highcharts.each(series.points, function (point) {\n                            if (point.series.xAxis.categories[point.x].id === e.svgPathId) {\n                                point.select(true, true);\n                            }\n                        });\n                    });\n                  },\n                  handleGxaAnatomogramTissueMouseLeave: function(e) {\n                    var points = this.getSelectedPoints();\n                    if (points.length > 0) {\n                        Highcharts.each(points, function (point) {\n                            point.select(false);\n                        });\n                    }\n                  }\n                }\n            },\n            legend: {\n                useHTML:true,\n                enabled: false,\n                itemDistance: 18,\n                symbolWidth: 12,\n                symbolHeight:12,\n                x: 150,\n                align: 'left',\n                verticalAlign: 'bottom',\n                layout: 'horizontal',\n                itemStyle: {\n                    lineHeight:\"10px\",\n                    fontSize: \"10px\",\n                    color: '#606060',\n                    fontWeight: 'normal'\n                }\n            },\n            title: null,\n            xAxis: { //tissues\n                tickLength: 5,\n                tickColor: \"rgb(192, 192, 192)\",\n                lineColor: \"rgb(192, 192, 192)\",\n                labels: {\n                    y: -6,\n                    style: {\n                        fontSize: \"9px\"\n                    },\n                    autoRotation: [-45, -90],\n                    formatter: function() {\n                        return this.value.label\n                    }\n                },\n                opposite: 'true',\n                categories: this.props.xAxisCategories\n            },\n            yAxis: { //experiments\n                useHTML: true,\n                reversed: true,\n                labels: {\n                    style: {\n                        fontSize: \"10px\",\n                        color: \"#148ff3\"\n                    },\n                    formatter: function() {\n                        return '<a href=\"' + atlasBaseURL +'/experiments/' + yAxisCategoriesLinks[this.value] + '\">' + this.value + '</a>';\n                    }\n                },\n                categories: this.props.yAxisCategories,\n                title: null,\n                gridLineWidth: 0,\n                minorGridLineWidth: 0\n            },\n            tooltip: {\n                useHTML: true,\n                formatter: function() {\n                    return 'Sample name: <b>' + this.series.yAxis.categories[this.point.y] + '</b>  <br> Tissue: <b>' + this.series.xAxis.categories[this.point.x].label + '</b><br><b>' +\n                        '</b>' +\n                        '<span style=\"border:1px rgb(192, 192, 192) solid; margin-right: 2px; width:6px; height:6px; display:inline-block; background-color:' + this.point.color + ';\">' +\n                        '</span> Expression level: <b></span>' +\n                        'Expression level: <b>' + this.point.value + '</b>';\n                }\n            },\n            anatomogramEventEmitter: this.props.anatomogramEventEmitter,\n            ensemblEventEmitter: this.props.ensemblEventEmitter,\n            series: [{\n                name: this.props.seriesDataNAString,\n                color: \"#f7f7f7\",\n                borderWidth: 1,\n                borderColor: \"#fff\",\n                data: this.props.seriesDataNA\n            }, {\n                name: this.props.seriesDataBelowCutoffString,\n                color: \"#eaeaea\",\n                borderWidth: 1,\n                borderColor: \"#fff\",\n                data: this.props.seriesDataBelowCutoff\n            }, {\n                name: this.props.seriesDataRanges[0].label,\n                color: \"#dff8ff\",\n                borderWidth: 1,\n                borderColor: \"#fff\",\n                data: this.props.seriesDataRanges[0].seriesData\n            }, {\n                name: this.props.seriesDataRanges[1].label,\n                color: \"#9fd2fa\",\n                borderWidth: 1,\n                borderColor: \"#fff\",\n                data: this.props.seriesDataRanges[1].seriesData\n            }, {\n                name: this.props.seriesDataRanges[2].label,\n                color: \"#45affd\",\n                borderWidth: 1,\n                borderColor: \"#fff\",\n                data: this.props.seriesDataRanges[2].seriesData\n            }]\n        };\n\n        var clsName_1 = this.state.legend_1 ? 'legend-item legend-item-off' : 'legend-item';\n        var clsName_2 = this.state.legend_2 ? 'legend-item legend-item-off' : 'legend-item';\n        var clsName_3 = this.state.legend_3 ? 'legend-item legend-item-off' : 'legend-item';\n        var clsName_4 = this.state.legend_4 ? 'legend-item legend-item-off' : 'legend-item';\n\n        var barcharts_legend = (\n            <div id =\"barcharts_legend_list_items\" ref=\"barcharts_legend_items\">\n                <span>Click to interact:</span>\n\n                <div id=\"legend_1\" ref=\"legend_1\" className={clsName_1} onClick={this.handleClick.bind(this,1)} >\n                    <div className=\"legend-rectangle col_below\"></div><span>Below cutoff</span>\n                </div>\n                <div id=\"legend_2\" className={clsName_2} onClick={this.handleClick.bind(this,2)}>\n                    <div className=\"legend-rectangle col_low\"></div><span>Low</span>\n                </div>\n                <div id=\"legend_3\" className={clsName_3} onClick={this.handleClick.bind(this,3)}>\n                    <div className=\"legend-rectangle col_med\"></div><span>Medium</span>\n                </div>\n                <div id=\"legend_4\" className={clsName_4} onClick={this.handleClick.bind(this,4)}>\n                    <div className=\"legend-rectangle col_high\"></div><span>High</span>\n                </div>\n\n                <div className=\"legend-item\">\n                    <span className=\"icon icon-generic\" data-icon=\"i\" data-toggle=\"tooltip\" data-placement=\"bottom\"\n                          title=\"This range of value indicates gene expression level accross different tissues. It is calculated in different a different way between DNA and RNA experiments\">\n                    </span>\n                </div>\n\n                <div id=\"legend_5\" className=\"legend-item special\">\n                    <div className=\"legend-rectangle col_nd\"></div><span>No data available</span>\n                </div>\n            </div>\n        );\n\n        return (\n            <div>\n                <div id=\"highcharts_container\">\n                    <ReactHighcharts config={highchartsOptions} ref=\"chart\"/>\n                    {barcharts_legend}\n                </div>\n\n            </div>\n        );\n    }\n\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = HighchartsHeatmap;\n\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-heatmap-highcharts/src/HighchartsHeatmap.jsx\n **/","/*\n Highcharts JS v4.2.3 (2016-02-08)\n\n (c) 2011-2016 Torstein Honsi\n\n License: www.highcharts.com/license\n*/\n(function(d){typeof module===\"object\"&&module.exports?module.exports=d:d(Highcharts)})(function(d){var m=d.Axis,q=d.Chart,i=d.Color,x=d.Legend,s=d.LegendSymbolMixin,t=d.Series,y=d.Point,u=d.getOptions(),h=d.each,r=d.extend,v=d.extendClass,j=d.merge,k=d.pick,o=d.seriesTypes,w=d.wrap,n=function(){},p=d.ColorAxis=function(){this.isColorAxis=!0;this.init.apply(this,arguments)};r(p.prototype,m.prototype);r(p.prototype,{defaultColorAxisOptions:{lineWidth:0,minPadding:0,maxPadding:0,gridLineWidth:1,tickPixelInterval:72,\nstartOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},color:\"gray\",width:0.01},labels:{overflow:\"justify\"},minColor:\"#EFEFFF\",maxColor:\"#003875\",tickLength:5},init:function(a,b){var c=a.options.legend.layout!==\"vertical\",f;f=j(this.defaultColorAxisOptions,{side:c?2:1,reversed:!c},b,{opposite:!c,showEmpty:!1,title:null,isColor:!0});m.prototype.init.call(this,a,f);b.dataClasses&&this.initDataClasses(b);this.initStops(b);this.horiz=c;this.zoomEnabled=!1},tweenColors:function(a,b,c){var f;\n!b.rgba.length||!a.rgba.length?a=b.input||\"none\":(a=a.rgba,b=b.rgba,f=b[3]!==1||a[3]!==1,a=(f?\"rgba(\":\"rgb(\")+Math.round(b[0]+(a[0]-b[0])*(1-c))+\",\"+Math.round(b[1]+(a[1]-b[1])*(1-c))+\",\"+Math.round(b[2]+(a[2]-b[2])*(1-c))+(f?\",\"+(b[3]+(a[3]-b[3])*(1-c)):\"\")+\")\");return a},initDataClasses:function(a){var b=this,c=this.chart,f,e=0,l=this.options,g=a.dataClasses.length;this.dataClasses=f=[];this.legendItems=[];h(a.dataClasses,function(a,d){var h,a=j(a);f.push(a);if(!a.color)l.dataClassColor===\"category\"?\n(h=c.options.colors,a.color=h[e++],e===h.length&&(e=0)):a.color=b.tweenColors(i(l.minColor),i(l.maxColor),g<2?0.5:d/(g-1))})},initStops:function(a){this.stops=a.stops||[[0,this.options.minColor],[1,this.options.maxColor]];h(this.stops,function(a){a.color=i(a[1])})},setOptions:function(a){m.prototype.setOptions.call(this,a);this.options.crosshair=this.options.marker;this.coll=\"colorAxis\"},setAxisSize:function(){var a=this.legendSymbol,b=this.chart,c,f,e;if(a)this.left=c=a.attr(\"x\"),this.top=f=a.attr(\"y\"),\nthis.width=e=a.attr(\"width\"),this.height=a=a.attr(\"height\"),this.right=b.chartWidth-c-e,this.bottom=b.chartHeight-f-a,this.len=this.horiz?e:a,this.pos=this.horiz?c:f},toColor:function(a,b){var c,f=this.stops,e,l=this.dataClasses,g,d;if(l)for(d=l.length;d--;){if(g=l[d],e=g.from,f=g.to,(e===void 0||a>=e)&&(f===void 0||a<=f)){c=g.color;if(b)b.dataClass=d;break}}else{this.isLog&&(a=this.val2lin(a));c=1-(this.max-a)/(this.max-this.min||1);for(d=f.length;d--;)if(c>f[d][0])break;e=f[d]||f[d+1];f=f[d+1]||\ne;c=1-(f[0]-c)/(f[0]-e[0]||1);c=this.tweenColors(e.color,f.color,c)}return c},getOffset:function(){var a=this.legendGroup,b=this.chart.axisOffset[this.side];if(a){this.axisParent=a;m.prototype.getOffset.call(this);if(!this.added)this.added=!0,this.labelLeft=0,this.labelRight=this.width;this.chart.axisOffset[this.side]=b}},setLegendColor:function(){var a,b=this.options,c=this.reversed;a=c?1:0;c=c?0:1;a=this.horiz?[a,0,c,0]:[0,c,0,a];this.legendColor={linearGradient:{x1:a[0],y1:a[1],x2:a[2],y2:a[3]},\nstops:b.stops||[[0,b.minColor],[1,b.maxColor]]}},drawLegendSymbol:function(a,b){var c=a.padding,f=a.options,e=this.horiz,d=k(f.symbolWidth,e?200:12),g=k(f.symbolHeight,e?12:200),h=k(f.labelPadding,e?16:30),f=k(f.itemDistance,10);this.setLegendColor();b.legendSymbol=this.chart.renderer.rect(0,a.baseline-11,d,g).attr({zIndex:1}).add(b.legendGroup);this.legendItemWidth=d+c+(e?f:h);this.legendItemHeight=g+c+(e?h:0)},setState:n,visible:!0,setVisible:n,getSeriesExtremes:function(){var a;if(this.series.length)a=\nthis.series[0],this.dataMin=a.valueMin,this.dataMax=a.valueMax},drawCrosshair:function(a,b){var c=b&&b.plotX,f=b&&b.plotY,e,d=this.pos,g=this.len;if(b)e=this.toPixels(b[b.series.colorKey]),e<d?e=d-2:e>d+g&&(e=d+g+2),b.plotX=e,b.plotY=this.len-e,m.prototype.drawCrosshair.call(this,a,b),b.plotX=c,b.plotY=f,this.cross&&this.cross.attr({fill:this.crosshair.color}).add(this.legendGroup)},getPlotLinePath:function(a,b,c,f,e){return typeof e===\"number\"?this.horiz?[\"M\",e-4,this.top-6,\"L\",e+4,this.top-6,e,\nthis.top,\"Z\"]:[\"M\",this.left,e,\"L\",this.left-6,e+6,this.left-6,e-6,\"Z\"]:m.prototype.getPlotLinePath.call(this,a,b,c,f)},update:function(a,b){var c=this.chart,f=c.legend;h(this.series,function(a){a.isDirtyData=!0});if(a.dataClasses&&f.allItems)h(f.allItems,function(a){a.isDataClass&&a.legendGroup.destroy()}),c.isDirtyLegend=!0;c.options[this.coll]=j(this.userOptions,a);m.prototype.update.call(this,a,b);this.legendItem&&(this.setLegendColor(),f.colorizeItem(this,!0))},getDataClassLegendSymbols:function(){var a=\nthis,b=this.chart,c=this.legendItems,f=b.options.legend,e=f.valueDecimals,l=f.valueSuffix||\"\",g;c.length||h(this.dataClasses,function(f,m){var i=!0,j=f.from,k=f.to;g=\"\";j===void 0?g=\"< \":k===void 0&&(g=\"> \");j!==void 0&&(g+=d.numberFormat(j,e)+l);j!==void 0&&k!==void 0&&(g+=\" - \");k!==void 0&&(g+=d.numberFormat(k,e)+l);c.push(r({chart:b,name:g,options:{},drawLegendSymbol:s.drawRectangle,visible:!0,setState:n,isDataClass:!0,setVisible:function(){i=this.visible=!i;h(a.series,function(a){h(a.points,\nfunction(a){a.dataClass===m&&a.setVisible(i)})});b.legend.colorizeItem(this,i)}},f))});return c},name:\"\"});h([\"fill\",\"stroke\"],function(a){d.Fx.prototype[a+\"Setter\"]=function(){this.elem.attr(a,p.prototype.tweenColors(i(this.start),i(this.end),this.pos))}});w(q.prototype,\"getAxes\",function(a){var b=this.options.colorAxis;a.call(this);this.colorAxis=[];b&&new p(this,b)});w(x.prototype,\"getAllItems\",function(a){var b=[],c=this.chart.colorAxis[0];c&&(c.options.dataClasses?b=b.concat(c.getDataClassLegendSymbols()):\nb.push(c),h(c.series,function(a){a.options.showInLegend=!1}));return b.concat(a.call(this))});q={pointAttrToOptions:{stroke:\"borderColor\",\"stroke-width\":\"borderWidth\",fill:\"color\",dashstyle:\"dashStyle\"},pointArrayMap:[\"value\"],axisTypes:[\"xAxis\",\"yAxis\",\"colorAxis\"],optionalAxis:\"colorAxis\",trackerGroups:[\"group\",\"markerGroup\",\"dataLabelsGroup\"],getSymbol:n,parallelArrays:[\"x\",\"y\",\"value\"],colorKey:\"value\",translateColors:function(){var a=this,b=this.options.nullColor,c=this.colorAxis,f=this.colorKey;\nh(this.data,function(e){var d=e[f];if(d=e.options.color||(d===null?b:c&&d!==void 0?c.toColor(d,e):e.color||a.color))e.color=d})}};u.plotOptions.heatmap=j(u.plotOptions.scatter,{animation:!1,borderWidth:0,nullColor:\"#F8F8F8\",dataLabels:{formatter:function(){return this.point.value},inside:!0,verticalAlign:\"middle\",crop:!1,overflow:!1,padding:0},marker:null,pointRange:null,tooltip:{pointFormat:\"{point.x}, {point.y}: {point.value}<br/>\"},states:{normal:{animation:!0},hover:{halo:!1,brightness:0.2}}});\no.heatmap=v(o.scatter,j(q,{type:\"heatmap\",pointArrayMap:[\"y\",\"value\"],hasPointSpecificOptions:!0,pointClass:v(y,{setVisible:function(a){var b=this,c=a?\"show\":\"hide\";h([\"graphic\",\"dataLabel\"],function(a){if(b[a])b[a][c]()})}}),supportsDrilldown:!0,getExtremesFromAll:!0,directTouch:!0,init:function(){var a;o.scatter.prototype.init.apply(this,arguments);a=this.options;a.pointRange=k(a.pointRange,a.colsize||1);this.yAxis.axisPointRange=a.rowsize||1},translate:function(){var a=this.options,b=this.xAxis,\nc=this.yAxis,f=function(a,b,c){return Math.min(Math.max(b,a),c)};this.generatePoints();h(this.points,function(e){var d=(a.colsize||1)/2,g=(a.rowsize||1)/2,h=f(Math.round(b.len-b.translate(e.x-d,0,1,0,1)),0,b.len),d=f(Math.round(b.len-b.translate(e.x+d,0,1,0,1)),0,b.len),i=f(Math.round(c.translate(e.y-g,0,1,0,1)),0,c.len),g=f(Math.round(c.translate(e.y+g,0,1,0,1)),0,c.len);e.plotX=e.clientX=(h+d)/2;e.plotY=(i+g)/2;e.shapeType=\"rect\";e.shapeArgs={x:Math.min(h,d),y:Math.min(i,g),width:Math.abs(d-h),\nheight:Math.abs(g-i)}});this.translateColors();this.chart.hasRendered&&h(this.points,function(a){a.shapeArgs.fill=a.options.color||a.color})},drawPoints:o.column.prototype.drawPoints,animate:n,getBox:n,drawLegendSymbol:s.drawRectangle,getExtremes:function(){t.prototype.getExtremes.call(this,this.valueData);this.valueMin=this.dataMin;this.valueMax=this.dataMax;t.prototype.getExtremes.call(this)}}))});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap-highcharts/~/highcharts-heatmap/heatmap.js\n ** module id = 1211\n ** module chunks = 4\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./HighchartsHeatmap.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./HighchartsHeatmap.css\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./HighchartsHeatmap.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap-highcharts/src/HighchartsHeatmap.css\n ** module id = 1212\n ** module chunks = 4\n **/","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"body {\\n    background-color: white;\\n    font-family: Verdana, sans-serif;\\n    font-size: 10px;\\n}\\n\\n.gene_title {text-align:center; font-size:70%; border:0px red solid;}\\n\\n#container {min-width: 410px; min-height: 210px; /*avoid line overlap*/margin: 0 auto; border:0px red solid;}\\n\\n#barcharts_legend_list_items {color:#606060; margin-left: 180px; margin-top:-9px; border: 0px solid olive;position:absolute;}\\n.col_below {background:#d7d7d7;}\\n.col_low {background: #dff8ff;}\\n.col_med {background: #9fd2fa;}\\n.col_high {background: #45affd;}\\n.col_nd {background: #fff;}\\n#barcharts_legend_list_items .legend-item {cursor: pointer;  vertical-align: middle;display:inline-block; padding:4px;}\\n#barcharts_legend_list_items .legend-item:hover {color:black;}\\n#barcharts_legend_list_items .legend-item.legend-item-off {color:#ccc;}\\n#barcharts_legend_list_items .legend-item.legend-item-off div {background-color: #f7f7f7;}\\n#barcharts_legend_list_items .legend-item.special {cursor:default;margin-left:36px;color:black;}\\n\\n#barcharts_legend_list_items .legend-item .legend-rectangle {width: 12px;height: 12px; border:1px rgba(0, 0, 0, 0.2) solid;float:left;margin-right:4px;}\\n\\n\\n#barcharts_legend_list_items .legend-item  .icon-generic:before {\\n    font-size: 180%;\\n    color: #7e7e7e;\\n}\\n\\n#barcharts_legend_list_items .legend-item:hover .icon-generic:before {color:#353535;}\\n\\n/*****************************************EBI font*******************************************************/\\n@font-face{font-family:'EBI-Conceptual';src:url('http://www.ebi.ac.uk//web_guidelines/fonts/EBI-Conceptual/fonts/EBI-Conceptual.eot');src:url('http://www.ebi.ac.uk//web_guidelines/fonts/EBI-Conceptual/fonts/EBI-Conceptual.eot?#iefix') format('embedded-opentype'),\\nurl('http://www.ebi.ac.uk//web_guidelines/fonts/EBI-Conceptual/fonts/EBI-Conceptual.woff') format('woff'),\\nlocal('\\\\263A'),\\nurl('http://www.ebi.ac.uk//web_guidelines/fonts/EBI-Conceptual/fonts/EBI-Conceptual.svg#EBI-Conceptual') format('svg'),\\nurl('http://www.ebi.ac.uk//web_guidelines/fonts/EBI-Conceptual/fonts/EBI-Conceptual.ttf') format('truetype');font-weight:normal;font-style:normal}\\n\\n\\n@font-face{font-family:'EBI-Functional';src:url('http://www.ebi.ac.uk/web_guidelines/fonts/EBI-Functional/fonts/EBI-Functional.eot');src:url('http://www.ebi.ac.uk/web_guidelines/fonts/EBI-Functional/fonts/EBI-Functional.eot?#iefix') format('embedded-opentype'),\\nurl('http://www.ebi.ac.uk/web_guidelines/fonts/EBI-Functional/fonts/EBI-Functional.woff') format('woff'),\\nlocal('\\\\263A'),\\nurl('http://www.ebi.ac.uk/web_guidelines/fonts/EBI-Functional/fonts/EBI-Functional.svg#EBI-Functional') format('svg'),\\nurl('http://www.ebi.ac.uk/web_guidelines/fonts/EBI-Functional/fonts/EBI-Functional.ttf') format('truetype');font-weight:normal;font-style:normal}\\n\\n@font-face{font-family:'EBI-Generic';src:url('http://www.ebi.ac.uk//web_guidelines/fonts/EBI-Generic/fonts/EBI-Generic.eot');src:url('http://www.ebi.ac.uk//web_guidelines/fonts/EBI-Generic/fonts/EBI-Generic.eot?#iefix') format('embedded-opentype'),\\nurl('http://www.ebi.ac.uk//web_guidelines/fonts/EBI-Generic/fonts/EBI-Generic.woff') format('woff'),\\nlocal('\\\\263A'),\\nurl('http://www.ebi.ac.uk//web_guidelines/fonts/EBI-Generic/fonts/EBI-Generic.svg#EBI-Generic') format('svg'),\\nurl('http://www.ebi.ac.uk//web_guidelines/fonts/EBI-Generic/fonts/EBI-Generic.ttf') format('truetype');font-weight:normal;font-style:normal}\\n\\n\\n@font-face{font-family:'EBI-Species';src:url('http://www.ebi.ac.uk/web_guidelines/fonts/EBI-Species/fonts/EBI-Species.eot');src:url('http://www.ebi.ac.uk/web_guidelines/fonts/EBI-Species/fonts/EBI-Species.eot?#iefix') format('embedded-opentype'),\\nurl('http://www.ebi.ac.uk/web_guidelines/fonts/EBI-Species/fonts/EBI-Species.woff') format('woff'),\\nlocal('\\\\263A'),\\nurl('http://www.ebi.ac.uk/web_guidelines/fonts/EBI-Species/fonts/EBI-Species.svg#EBI-Species') format('svg'),\\nurl('http://www.ebi.ac.uk/web_guidelines/fonts/EBI-Species/fonts/EBI-Species.ttf') format('truetype');font-weight:normal;font-style:normal}\\n\\n@font-face{font-family:'EBI-SocialMedia';src:url('http://www.ebi.ac.uk/web_guidelines/fonts/EBI-SocialMedia/fonts/EBI-SocialMedia.eot');src:url('http://www.ebi.ac.uk/web_guidelines/fonts/EBI-SocialMedia/fonts/EBI-SocialMedia.eot?#iefix') format('embedded-opentype'),\\nurl('http://www.ebi.ac.uk/web_guidelines/fonts/EBI-SocialMedia/fonts/EBI-SocialMedia.woff') format('woff'),\\nlocal('\\\\263A'),\\nurl('http://www.ebi.ac.uk/web_guidelines/fonts/EBI-SocialMedia/fonts/EBI-SocialMedia.svg#EBI-Species') format('svg'),\\nurl('http://www.ebi.ac.uk/web_guidelines/fonts/EBI-SocialMedia/fonts/EBI-SocialMedia.ttf') format('truetype');font-weight:normal;font-style:normal}\\n\\n.icon-socialmedia:before {font-family: 'EBI-SocialMedia';margin: 0 0.3em 0 0;content: attr(data-icon);color: white;font-size: 100%;}\\n.icon-conceptual:before {font-family: 'EBI-Conceptual';margin: 0 0.3em 0 0;content: attr(data-icon); color: #7e7e7e;font-size: 180%;}\\n\\n.icon-species:before {\\n    font-family: 'EBI-Species';\\n    font-size: 100%;\\n    color: white;\\n    content: attr(data-icon);\\n    margin: 0 0 0 0;\\n}\\n.icon {\\n    text-decoration: none;\\n    font-style: normal;\\n}\\n\\n.icon-static:before, .icon-generic:before {\\n    font-family: 'EBI-Generic';\\n    font-size: 100%;\\n    color: #BBB;\\n    content: attr(data-icon);\\n    margin: 0 0 0 0;\\n}\\n\\n.icon-functional:before {\\n    font-family: 'EBI-Functional';\\n    font-size: 100%;\\n    color: white;\\n    content: attr(data-icon);\\n    margin: 0 0.3em 0 0;\\n}\\n/*****************************************END EBI font*******************************************************/\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap-highcharts/~/css-loader!./expression-atlas-heatmap-highcharts/src/HighchartsHeatmap.css\n ** module id = 1213\n ** module chunks = 4\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap-highcharts/~/css-loader/lib/css-base.js\n ** module id = 1214\n ** module chunks = 4\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap-highcharts/~/style-loader/addStyles.js\n ** module id = 1215\n ** module chunks = 4\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nfunction getXAxisCategories (columnHeaders) {\n    return columnHeaders.map(function (columnHeader) {\n        return {\"label\": columnHeader.factorValue, \"id\" : columnHeader.factorValueOntologyTermId};\n    });\n}\n\nvar yAxisCategoriesLinks = {};\n\nfunction getYAxisCategories (profiles, heatmapConfig) {\n\n    return profiles.rows.map(function (profile) {\n        yAxisCategoriesLinks[profile.name] = profile.id + \"?geneQuery=\" + heatmapConfig.geneQuery +\n            \"&serializedFilterFactors=\" + encodeURIComponent(profile.serializedFilterFactors);\n        return profile.name;\n    });\n}\n\nfunction getYAxisCategoriesLinks () {\n    return yAxisCategoriesLinks;\n}\n\nfunction compareLevels(a,b) {\n    var a1 = parseFloat( a.value );\n    var b1 = parseFloat( b.value );\n\n    //Both are numbers\n    if( !isNaN(a1) && !isNaN(b1) ) return a1 > b1 ? -1: 1;\n\n    //a IS number\n    if( !isNaN(a1) )  return -1;\n\n    //b IS number\n    if( !isNaN(b1) ) return 1;\n\n    return a.value.localeCompare(b.value);\n    // return a > b ? 1 : -1;\n}\n\nfunction initializeRanking(cols) {\n    var rank_array = [];\n    for(var i=0; i<cols; i++) {\n        rank_array[i] = 0;\n    }\n\n    return rank_array;\n}\n\nfunction rankColumns (profiles, columnHeaders) {\n    var rank_array = initializeRanking(columnHeaders.length);\n\n    for (var i=0; i < profiles.rows.length; i++) {\n        var mapped = profiles.rows[i].expressions.map(function(el, i) {\n            return { index: i, value: el.value, factorName: el.factorName, color: el.color };\n        });\n\n        //Compare the level values for each expression within each row and sort them\n        var sorted_array = mapped.sort(compareLevels);\n        // Rank levels\n        for (var j=0; j < sorted_array.length; j++) {\n            var ind = sorted_array[j].index;\n            rank_array[ind] = rank_array[ind] + j + 1;\n        }\n    }\n\n    //Avg rank_array by rows\n    var rank_avg = [];\n    for(var i=0; i<rank_array.length; i++) {\n        rank_avg[i] = rank_array[i] / profiles.rows.length;\n    }\n\n    var avg_mapped = rank_avg.map(function(el, i) {\n        return { index: i, value: el}\n    });\n\n    //Sort tissues by increasing average rank\n    var sort_tissues = avg_mapped.sort(function (a,b) {\n        return a.value-b.value;\n    });\n\n    //Modify the rows\n    for (var i=0; i< profiles.rows.length; i++) {\n        var expressions = profiles.rows[i].expressions;\n        var new_expressions = [];\n        var new_columnHeaders = [];\n\n        for (var j = 0; j < sort_tissues.length; j++) {\n            var position = sort_tissues[j].index;\n            new_expressions.push(expressions[position]);\n            new_columnHeaders.push(columnHeaders[position]);\n        }\n\n        profiles.rows[i].expressions = new_expressions;\n    }\n\n    return {\n        profiles: profiles.rows,\n        columnHeaders: new_columnHeaders\n    }\n}\n\nfunction applyThresholdtoColumns(rows, columns, threshold) {\n\n    var percentageExpressedBelowThreshold = [];\n    var percentageExpressedAboveThreshold = [];\n    for (var i=0; i < columns.length; i++) {\n        var count = 0;\n        for (var j=0; j < rows.length; j++) {\n            var value = rows[j].expressions[i].value;\n            if(value != \"NT\" && value != \"\") {\n                count++;\n            }\n        }\n\n        var totalExpressed = {};\n        totalExpressed.total = count;\n        totalExpressed.percentage = (count / rows.length) * 100;\n        totalExpressed.index = i;\n\n        if(totalExpressed.percentage > threshold) {\n            percentageExpressedAboveThreshold.push(totalExpressed);\n        } else {\n            percentageExpressedBelowThreshold.push(totalExpressed);\n        }\n    }\n\n    //Sort by percentage\n    var percentageExpressedAboveThresholdSorted = percentageExpressedAboveThreshold.sort(function (a,b) {\n        return b.percentage-a.percentage;\n    });\n    var percentageExpressedBelowThresholdSorted = percentageExpressedBelowThreshold.sort(function (a,b) {\n        return b.percentage-a.percentage;\n    });\n\n    var percentageExpressed = percentageExpressedAboveThresholdSorted.concat(percentageExpressedBelowThresholdSorted);\n\n    //Filter and order the columns with the new percentage\n    for (var i=0; i< rows.length; i++) {\n        var expressions = rows[i].expressions;\n        var new_expressions = [];\n        var new_columnHeaders = [];\n\n        for (var j = 0; j < percentageExpressed.length; j++) {\n            var position = percentageExpressed[j].index;\n            new_expressions.push(expressions[position]);\n            new_columnHeaders.push(columns[position]);\n        }\n\n        rows[i].expressions = new_expressions;\n    }\n\n    return {\n        rows: rows,\n        columnHeaders: new_columnHeaders\n    }\n}\n\nfunction applyThresholdToRows(rows, columns, threshold) {\n    var percentageExpressedBelowThreshold = [];\n    var percentageExpressedAboveThreshold = [];\n\n    for (var i=0; i < rows.length; i++) {\n        var count = 0;\n        for (var j=0; j < columns.length; j++) {\n            var value = rows[i].expressions[j].value;\n            if(value != \"NT\" && value != \"\") {\n                count++;\n            }\n        }\n\n        var totalExpressed = {};\n        totalExpressed.total = count;\n        totalExpressed.percentage = (count / columns.length) * 100;\n        totalExpressed.index = i;\n\n        if(totalExpressed.percentage > threshold) {\n            percentageExpressedAboveThreshold.push(totalExpressed);\n        } else {\n            percentageExpressedBelowThreshold.push(totalExpressed);\n        }\n    }\n\n    //Sort by percentage\n    var percentageExpressedAboveThresholdSorted = percentageExpressedAboveThreshold.sort(function (a,b) {\n        return b.percentage-a.percentage;\n    });\n    var percentageExpressedBelowThresholdSorted = percentageExpressedBelowThreshold.sort(function (a,b) {\n        return b.percentage-a.percentage;\n    });\n\n    var percentageExpressed = percentageExpressedAboveThresholdSorted.concat(percentageExpressedBelowThresholdSorted);\n\n    //Filter and order the rows with the new percentage\n    var new_rows = [];\n    for (var i = 0; i < percentageExpressed.length; i++) {\n        var position = percentageExpressed[i].index;\n        new_rows.push(rows[position]);\n    }\n\n    return new_rows;\n}\n\nfunction rankExperiments(rows, columns) {\n\n    //Initialize ranking\n    var rank_experiments = [];\n    for(i=0; i< columns; i++) {\n        rank_experiments[i] = new Array(rows.length);\n    }\n\n    for(i=0; i< columns; i++) {\n        for (j=0; j<rows.length; j++) {\n            rank_experiments[i][j] = 0;\n        }\n    }\n\n    //Sort\n    var sorted_cols = [];\n    for (var i=0; i < columns; i++) {\n\n        var cols_expressions = [];\n        for (j = 0; j < rows.length; j++) {\n            var expr = {};\n            expr.factorName = rows[j].expressions[i].factorName;\n            expr.value = rows[j].expressions[i].value;\n            expr.index = j;\n\n            cols_expressions.push(expr)\n        }\n\n        //Compare the level values for each expression within each row and sort them\n        var sorted_profiles = cols_expressions.sort(compareLevels);\n        sorted_cols.push(sorted_profiles);\n    }\n\n    // Rank levels\n    for (var j=0; j < sorted_cols.length; j++) {\n        for (var k=0; k < rows.length; k++) {\n            var ind = sorted_cols[j][k].index;\n            rank_experiments[j][ind] = rank_experiments[j][ind] + k + 1;\n        }\n    }\n\n    //Avg rank_experiments by cols\n    var exp_rank_avg = [];\n    for (var r=0; r<rows.length; r++) {\n        var sum = 0;\n        for (var cols=0; cols<rank_experiments.length; cols++) {\n            sum = sum + rank_experiments[cols][r];\n        }\n        exp_rank_avg.push(sum/rank_experiments.length);\n    }\n\n    var exp_rank_avg_mapped = exp_rank_avg.map(function(el, i) {\n        return { index: i, value: el}\n    });\n\n    //Sort experiments by increasing average rank\n    var sort_experiments = exp_rank_avg_mapped.sort(function (a,b) {\n        return a.value-b.value;\n    });\n\n    //Replace new rows\n    var new_rows = [];\n\n    for(var i=0; i<sort_experiments.length; i++) {\n        var position = sort_experiments[i].index;\n        new_rows.push(rows[position]);\n    }\n\n    return new_rows;\n}\n\n//*------------------------------------------------------------------*\n\nexports.getXAxisCategories = getXAxisCategories;\nexports.getYAxisCategories = getYAxisCategories;\nexports.getYAxisCategoriesLinks = getYAxisCategoriesLinks;\nexports.rankColumns = rankColumns;\nexports.rankExperiments = rankExperiments;\nexports.applyThresholdtoColumns = applyThresholdtoColumns;\nexports.applyThresholdToRows = applyThresholdToRows;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap-highcharts/src/highchartsUtils.js\n ** module id = 1216\n ** module chunks = 4\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./HighchartsHeatmapContainer.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./HighchartsHeatmapContainer.css\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./HighchartsHeatmapContainer.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap-highcharts/src/HighchartsHeatmapContainer.css\n ** module id = 1217\n ** module chunks = 4\n **/","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaInnerHeatmap {\\n    position: relative;\\n    overflow: hidden;\\n}\\n\\n.gxaAside {\\n    float: left;\\n}\\n\\n.gxaInnerHeatmap:after {\\n    clear: both;\\n    content: \\\".\\\";\\n    display: block;\\n    visibility: hidden;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap-highcharts/~/css-loader!./expression-atlas-heatmap-highcharts/src/HighchartsHeatmapContainer.css\n ** module id = 1218\n ** module chunks = 4\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nmodule.exports = require('./src/Anatomogram.jsx');\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap-highcharts/~/anatomogram/index.js\n ** module id = 1219\n ** module chunks = 4\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\n\nvar $ = require('jquery');\nrequire('jquery-hc-sticky');\nrequire('jquery-ui-bundle');\n\nvar Snap = require('imports-loader?this=>window,fix=>module.exports=0!snapsvg/dist/snap.svg.js');\n\nvar EventEmitter = require('events');\n\n//*------------------------------------------------------------------*\n\nvar AnatomogramSelectImageButton = React.createClass({\n    propTypes: {\n        anatomogramId: React.PropTypes.string.isRequired,\n        selected: React.PropTypes.bool.isRequired,\n        toggleSrcTemplate: React.PropTypes.string.isRequired,\n        onClick: React.PropTypes.func.isRequired\n    },\n\n    render: function() {\n        var selectedToggleSrc = this.props.toggleSrcTemplate + \"_selected.png\",\n            unselectedToggleSrc = this.props.toggleSrcTemplate + \"_unselected.png\";\n\n        return(\n            <div>\n                <img ref=\"toggleButton\" onClick={this._onClick} src={this.props.selected ? selectedToggleSrc : unselectedToggleSrc}\n                     style={{width: \"20px\", height: \"20px\", padding: \"2px\"}}/>\n            </div>\n        );\n    },\n\n    componentDidMount: function() {\n        $(ReactDOM.findDOMNode(this.refs.toggleButton)).button();\n    },\n\n    _onClick: function() {\n        this.props.onClick(this.props.anatomogramId);\n    }\n});\n\n\nvar AnatomogramSelectImageButtons = React.createClass({\n    propTypes: {\n        selectedId: React.PropTypes.string.isRequired,\n        availableAnatomograms: React.PropTypes.array.isRequired,\n        onClick: React.PropTypes.func.isRequired\n    },\n\n    render: function() {\n        if (this.props.availableAnatomograms.length > 1) {\n            var selectedId = this.props.selectedId,\n                onClick = this.props.onClick;\n            var anatomogramSelectImageButtons = this.props.availableAnatomograms.map(function(availableAnatomogram) {\n               return(\n                   <AnatomogramSelectImageButton key={availableAnatomogram.id + \"_toggle\"}\n                    anatomogramId={availableAnatomogram.id} selected={selectedId === availableAnatomogram.id} toggleSrcTemplate={availableAnatomogram.toggleSrcTemplate} onClick={onClick}/>\n               )\n            });\n\n            return (\n                <span>\n                    {anatomogramSelectImageButtons}\n                </span>\n            );\n\n        } else {\n            return (\n                null\n            )\n        }\n    }\n\n});\n\nvar AnatomogramImageParts = React.createClass({\n  propTypes: {\n    idsExpressedInExperiment: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n    idsHeatmapWantsHighlighted: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n    idsMousedOver: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n    idsNotHighlighted: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n    expressedTissueColour: React.PropTypes.string.isRequired,\n    hoveredTissueColour: React.PropTypes.string.isRequired\n  },\n\n  getInitialState: function () {\n    return {toDraw: [].concat(\n      AnatomogramImageParts.idsThatShouldBeStronglyHighlighted(this.props)\n        .map(this._highlightStrongly)\n      ,\n      this.props.idsExpressedInExperiment\n        .map(this._highlightSlightly)\n      ,\n      this.props.idsNotHighlighted\n        .map(this._highlightAsBackground)\n      )};\n  },\n\n  render: function() {\n    return <span/>;\n  },\n\n  _highlightStrongly: function(svgPathId) {\n    return {id: svgPathId, colour: this.props.hoveredTissueColour, opacity: 0.7 };\n  },\n\n  _highlightSlightly: function(svgPathId) {\n    return {id: svgPathId, colour: this.props.expressedTissueColour, opacity: 0.7 };\n  },\n\n  _highlightAsBackground: function(svgPathId) {\n    return {id: svgPathId, colour: \"gray\", opacity: 0.5 };\n  },\n\n  componentWillReceiveProps: function(nextProps) {\n    var oldStrong = AnatomogramImageParts.idsThatShouldBeStronglyHighlighted(this.props);\n    var newStrong = AnatomogramImageParts.idsThatShouldBeStronglyHighlighted(nextProps);\n    var oldWeak = this.props.idsExpressedInExperiment;\n    var newWeak = nextProps.idsExpressedInExperiment;\n\n    var toDraw = [].concat(\n      //ids that heatmap wants highlighted are the most highlighted\n      newStrong\n        .filter(function(id){return oldStrong.indexOf(id)<0})\n        .map(this._highlightStrongly)\n      ,\n      //ids that are expressed in the experiment are highlighted with a weaker colour\n      newWeak\n        .filter(function(id){return newStrong.indexOf(id)<0})\n        .filter(function(id){return oldWeak.indexOf(id)<0}.bind(this))\n        .map(this._highlightSlightly)\n      ,\n      nextProps.idsNotHighlighted\n        .filter(function(id){return this.props.idsNotHighlighted.indexOf(id)<0}.bind(this))\n        .map(this._highlightAsBackground)\n      );\n\n    this.setState({toDraw:toDraw});\n  },\n\n  statics: {\n    idsThatShouldBeStronglyHighlighted(properties){\n      return properties.idsHeatmapWantsHighlighted.concat(properties.idsMousedOver);\n    }\n  }\n});\n\nvar AnatomogramImage = React.createClass({\n  propTypes: {\n    file: React.PropTypes.string.isRequired,\n    height: React.PropTypes.string.isRequired,\n    expressedFactors: React.PropTypes.arrayOf(React.PropTypes.string),\n    expressedFactorsPerRow: React.PropTypes.object.isRequired,\n    allSvgPathIds: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n    expressedTissueColour: React.PropTypes.string.isRequired,\n    hoveredTissueColour: React.PropTypes.string.isRequired\n  },\n\n  getInitialState: function() {\n    return {\n      hoveredPathId: null,\n      hoveredRowId: null,\n      mousedOverSvgIds: []\n    };\n  },\n\n  componentWillReceiveProps: function(nextProps) {\n    this._loadAnatomogram(nextProps.file);\n  },\n\n  componentDidMount: function() {\n      this._loadAnatomogram(this.props.file);\n      this._draw();\n  },\n\n  componentDidUpdate: function(){\n    this._draw();\n  },\n\n  _draw: function() {\n    var svg= Snap(ReactDOM.findDOMNode(this.refs.anatomogram)).select(\"g\");\n    if(svg!==null){\n      this._drawOnSvg(svg);\n    }\n  },\n\n  _drawOnSvg: function(svg){\n    this.refs.imageParts.state.toDraw.forEach(function(instruction){\n      this._highlightOrganismParts(svg,instruction.id, instruction.colour, instruction.opacity);\n    }.bind(this));\n    this.refs.imageParts.setState({toDraw:[]});\n  },\n\n  render: function () {\n    var idsExpressedInExperiment =[],\n        idsHoveredOver=[],\n        idsHeatmapWantsHighlighted = [],\n        idsNotHighlighted = [];\n    for(var i = 0 ; i< this.props.allSvgPathIds.length; i++){\n      var id = this.props.allSvgPathIds[i];\n      if(this.state.mousedOverSvgIds.indexOf(id)>-1){\n        idsHoveredOver.push(id);\n      } else if(this._hoveredRowContainsPathId(id) || this.state.hoveredPathId === id){\n        idsHeatmapWantsHighlighted.push(id);\n      } else if(this.props.expressedFactors.indexOf(id)>-1){\n        idsExpressedInExperiment.push(id);\n      } else {\n        idsNotHighlighted.push(id);\n      }\n    }\n\n    return (<span>\n        <svg ref=\"anatomogram\" style={{display: \"table-cell\", width: \"230px\", height:this.props.height + \"px\"}} />\n        <AnatomogramImageParts ref=\"imageParts\" key={this.props.file}\n            idsExpressedInExperiment={idsExpressedInExperiment}\n            idsHeatmapWantsHighlighted={idsHeatmapWantsHighlighted}\n            idsMousedOver={idsHoveredOver}\n            idsNotHighlighted={idsNotHighlighted}\n            expressedTissueColour={this.props.expressedTissueColour}\n            hoveredTissueColour={this.props.hoveredTissueColour}/>\n      </span>);\n  },\n\n  _highlightPath: function(svgPathId) {\n      this.setState({hoveredPathId: svgPathId});\n  },\n\n  _highlightRow: function(rowId) {\n      this.setState({hoveredRowId: rowId});\n  },\n\n  _loadAnatomogram: function(svgFile) {\n\n      var svgCanvas = Snap(ReactDOM.findDOMNode(this.refs.anatomogram)),\n          $svgCanvas = $(ReactDOM.findDOMNode(this.refs.anatomogram)),\n          allElements = svgCanvas.selectAll(\"*\");\n\n      if (allElements) {\n          allElements.remove();\n      }\n\n      var displayAllOrganismPartsCallback = this._drawOnSvg;\n      var registerHoverEventsCallback = this._registerHoverEvents;\n      Snap.load(\n          svgFile,\n          function (fragment) {\n              var g = fragment.select(\"g\");\n              g.transform(\"S1.6,0,0\");\n              displayAllOrganismPartsCallback(g);\n              registerHoverEventsCallback(g);\n              svgCanvas.append(g);\n              var img = fragment.select(\"#ccLogo\");\n              var heightTranslate = $svgCanvas.height() - 15;\n              var widthTranslate = $svgCanvas.width() / 2 - 40;\n              img.transform(\"t\"+widthTranslate+\",\"+heightTranslate);\n              svgCanvas.append(img);\n          }\n      );\n  },\n\n  _hoveredRowContainsPathId: function(svgPathId) {\n    return (this.state.hoveredRowId\n            && this.props.expressedFactorsPerRow.hasOwnProperty(this.state.hoveredRowId)\n            && this.props.expressedFactorsPerRow[this.state.hoveredRowId].indexOf(svgPathId) > -1 );\n  },\n\n  _registerHoverEvents: function(svg) {\n      if (svg) {  // Sometimes svg is null... why?\n          var mouseoverCallback = function(svgPathId) {\n              this.props.eventEmitter.emit('gxaAnatomogramTissueMouseEnter', svgPathId);\n              this.setState(function(previousState, currentProps){\n                  var a = [].concat(previousState.mousedOverSvgIds);\n                  a.push(svgPathId);\n                  while(a.length >5){\n                    a.shift();\n                  }\n                  return {mousedOverSvgIds: a};\n              });\n          }.bind(this);\n          var mouseoutCallback = function(svgPathId) {\n              this.props.eventEmitter.emit('gxaAnatomogramTissueMouseLeave', svgPathId);\n              this.setState(function(previousState, currentProps){\n                  var a = previousState.mousedOverSvgIds.map(\n                      function(el){return el===svgPathId ? \"\" : el}\n                    );\n                  return {mousedOverSvgIds: a};\n                });\n          }.bind(this);\n\n          this.props.allSvgPathIds.forEach(function(svgPathId) {\n              var svgElement = svg.select(\"#\" + svgPathId);\n              if (svgElement) {\n                  svgElement.mouseover(function() {mouseoverCallback(svgPathId)});\n                  svgElement.mouseout(function() {mouseoutCallback(svgPathId)});\n              }\n          }, this);\n      }\n  },\n\n  _highlightOrganismParts: function(svg, svgPathId, colour, opacity) {\n      AnatomogramImage._recursivelyChangeProperties(svg.select(\"#\" + svgPathId), colour, opacity);\n  },\n\n  statics: {\n    _recursivelyChangeProperties: function(svgElement, colour, opacity) {\n\n        if (svgElement) {\n            var innerElements = svgElement.selectAll(\"*\");\n\n            if (innerElements.length > 0) {\n                innerElements.forEach(function(innerElement) {\n                    AnatomogramImage._recursivelyChangeProperties(innerElement);\n                });\n            }\n\n            svgElement.attr({\"fill\": colour, \"fill-opacity\": opacity});\n        }\n    },\n    _recursivelySelectElements: function(svgElement) {\n        if (!svgElement) {\n            return [];\n        }\n\n        var innerElements = svgElement.selectAll(\"*\");\n        if (innerElements.length === 0) {\n            return [svgElement];\n        } else {\n            var allElements = [];\n            innerElements.forEach(function(innerElement) {\n                allElements = allElements.concat(AnatomogramImage._recursivelySelectElements(innerElement));\n            });\n            return allElements;\n        }\n    }\n  }\n});\n\n\n\nvar Anatomogram = React.createClass({\n\n    propTypes: {\n        anatomogramData: React.PropTypes.object.isRequired,\n        expressedTissueColour: React.PropTypes.string.isRequired,\n        hoveredTissueColour: React.PropTypes.string.isRequired,\n        profileRows: React.PropTypes.arrayOf(\n            React.PropTypes.shape({\n                id: React.PropTypes.string,\n                name: React.PropTypes.string.isRequired,\n                expressions: React.PropTypes.arrayOf(\n                    React.PropTypes.shape({\n                        factorName: React.PropTypes.string,\n                        color: React.PropTypes.string,\n                        value: React.PropTypes.number, // missing represents \"NA\"/\"NT\"\n                        svgPathId: React.PropTypes.string\n                    })\n                ).isRequired\n            })\n        ).isRequired,\n        eventEmitter: React.PropTypes.instanceOf(EventEmitter),\n        atlasBaseURL: React.PropTypes.string.isRequired\n    },\n\n    getInitialState: function() {\n\n        var availableAnatomograms = [];\n        if (this.props.anatomogramData.maleAnatomogramFile) {\n            availableAnatomograms.push(\n                {id: \"male\",\n                 anatomogramFile: this.props.atlasBaseURL + \"/resources/svg/\" + this.props.anatomogramData.maleAnatomogramFile,\n                 toggleSrcTemplate: this.props.atlasBaseURL + this.props.anatomogramData.toggleButtonMaleImageTemplate}\n            );\n        }\n        if (this.props.anatomogramData.femaleAnatomogramFile) {\n            availableAnatomograms.push(\n                {id: \"female\",\n                 anatomogramFile: this.props.atlasBaseURL + \"/resources/svg/\" + this.props.anatomogramData.femaleAnatomogramFile,\n                 toggleSrcTemplate: this.props.atlasBaseURL + this.props.anatomogramData.toggleButtonFemaleImageTemplate}\n            );\n        }\n        if (this.props.anatomogramData.brainAnatomogramFile) {\n            availableAnatomograms.push(\n                {id: \"brain\",\n                 anatomogramFile: this.props.atlasBaseURL + \"/resources/svg/\" + this.props.anatomogramData.brainAnatomogramFile,\n                 toggleSrcTemplate: this.props.atlasBaseURL + this.props.anatomogramData.toggleButtonBrainImageTemplate}\n            );\n        }\n\n\n        var allExpressedFactors = [],\n            expressedFactorsPerRow = {};\n        this.props.profileRows.forEach(function(profileRow) {\n            var expressedFactors = [];\n            profileRow.expressions.forEach(function(expression) {\n                if (! typeof expression.value !== \"undefined\" && expression.value) {\n                    expressedFactors.push(expression.svgPathId);\n                }\n            });\n            expressedFactorsPerRow[profileRow.name] = expressedFactors;\n            allExpressedFactors = allExpressedFactors.concat(expressedFactors);\n        });\n\n        function onlyUnique(value, index, self) {\n            return self.indexOf(value) === index;\n        }\n\n        return {\n            selectedId: availableAnatomograms[0].id,\n            availableAnatomograms: availableAnatomograms,\n            expressedFactors: allExpressedFactors.filter(onlyUnique),\n            expressedFactorsPerRow: expressedFactorsPerRow\n        }\n    },\n\n    render: function () {\n        function containsHuman(str) {\n            return str.indexOf(\"human\") > -1;\n        }\n\n        return (\n            <div className=\"gxaAnatomogram\" style={{display: \"table\", paddingTop: \"4px\"}}>\n                <div style={{display: \"table-row\"}}>\n                    <div style={{display: \"table-cell\", verticalAlign: \"top\"}}>\n                        <AnatomogramSelectImageButtons selectedId={this.state.selectedId} availableAnatomograms={this.state.availableAnatomograms} onClick={this._handleChange}/>\n                    </div>\n                    <AnatomogramImage\n                      ref=\"currentImage\"\n                      file={this._getAnatomogramSVGFile(this.state.selectedId)}\n                      height={containsHuman(this.props.anatomogramData.maleAnatomogramFile) ? \"375\" : \"265\"}\n                      expressedFactors={this.state.expressedFactors}\n                      expressedFactorsPerRow={this.state.expressedFactorsPerRow}\n                      allSvgPathIds={this.props.anatomogramData.allSvgPathIds}\n                      eventEmitter={this.props.eventEmitter}\n                      expressedTissueColour={this.props.expressedTissueColour}\n                      hoveredTissueColour={this.props.hoveredTissueColour}/>\n                </div>\n            </div>\n        );\n    },\n\n    componentDidMount: function() {\n        this.props.eventEmitter.addListener(\"gxaHeatmapColumnHoverChange\", this._highlightPath);\n        this.props.eventEmitter.addListener(\"gxaHeatmapRowHoverChange\", this._highlightRow);\n    },\n\n    _handleChange: function(newSelectedId) {\n        if (newSelectedId !== this.state.selectedId) {\n            this.setState({selectedId: newSelectedId});\n        }\n    },\n\n    _highlightPath: function(svgPathId) {\n        this.refs.currentImage._highlightPath(svgPathId);\n    },\n\n    _highlightRow: function(rowId) {\n      this.refs.currentImage._highlightRow(rowId);\n    },\n\n    _getAnatomogramSVGFile: function(id) {\n        for (var i = 0 ; i < this.state.availableAnatomograms.length ; i++) {\n            if (id === this.state.availableAnatomograms[i].id) {\n                return this.state.availableAnatomograms[i].anatomogramFile;\n            }\n        }\n    }\n\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = Anatomogram;\n\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-heatmap-highcharts/~/anatomogram/src/Anatomogram.jsx\n **/"],"sourceRoot":""}
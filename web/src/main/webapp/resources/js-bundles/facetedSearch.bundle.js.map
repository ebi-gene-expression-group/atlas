{"version":3,"sources":["webpack:///./faceted-search/index.js","webpack:///./faceted-search/src/baseline-heatmaps-router.js","webpack:///./faceted-search/src/baseline-facets-tree.jsx","webpack:///./faceted-search/src/facets-tree.css?50b1","webpack:///./faceted-search/src/facets-tree.css","webpack:///./faceted-search/~/css-loader/lib/css-base.js","webpack:///./faceted-search/~/style-loader/addStyles.js","webpack:///./faceted-search/src/baseline-heatmaps.jsx","webpack:///./faceted-search/src/baseline-heatmap-widget.jsx","webpack:///./faceted-search/~/heatmap-anatomogram/index.js","webpack:///./faceted-search/~/heatmap-anatomogram/src/heatmap-anatomogram.js","webpack:///./faceted-search/~/heatmap-anatomogram/src/heatmap-anatomogram-container.jsx","webpack:///./faceted-search/~/heatmap-anatomogram/~/anatomogram/index.js","webpack:///./faceted-search/~/heatmap-anatomogram/~/anatomogram/src/Anatomogram.jsx","webpack:///./faceted-search/~/heatmap-anatomogram/src/heatmap.jsx","webpack:///./faceted-search/~/react-dom/server.js","webpack:///./faceted-search/~/fancybox/dist/css/jquery.fancybox.css?7994","webpack:///./faceted-search/~/fancybox/dist/css/jquery.fancybox.css","webpack:///./faceted-search/~/fancybox/dist/img/fancybox_sprite.png","webpack:///./faceted-search/~/fancybox/dist/img/fancybox_loading.gif","webpack:///./faceted-search/~/fancybox/dist/img/blank.gif","webpack:///./faceted-search/~/fancybox/dist/img/fancybox_overlay.png","webpack:///./faceted-search/~/fancybox/dist/img/fancybox_sprite@2x.png","webpack:///./faceted-search/~/fancybox/dist/img/fancybox_loading@2x.gif","webpack:///./faceted-search/~/heatmap-anatomogram/~/jquery-toolbar/jquery.toolbar.css?9bd6","webpack:///./faceted-search/~/heatmap-anatomogram/~/jquery-toolbar/jquery.toolbar.css","webpack:///./faceted-search/~/heatmap-anatomogram/src/jquery-toolbar-white.css?934c","webpack:///./faceted-search/~/heatmap-anatomogram/src/jquery-toolbar-white.css","webpack:///./faceted-search/~/heatmap-anatomogram/~/heatmap-baseline-cell-variance/index.js","webpack:///./faceted-search/~/heatmap-anatomogram/~/heatmap-baseline-cell-variance/src/HeatmapBaselineCellVariance.jsx","webpack:///./faceted-search/~/legend/index.js","webpack:///./faceted-search/~/legend/src/LegendDifferential.jsx","webpack:///./faceted-search/~/legend/src/LegendRow.jsx","webpack:///./faceted-search/~/legend/src/gxaGradient.css?dac8","webpack:///./faceted-search/~/legend/src/gxaGradient.css","webpack:///./faceted-search/~/legend/~/help-tooltips/src/gxaHelpTooltip.css","webpack:///./faceted-search/~/legend/src/gxaLegend.css?62f7","webpack:///./faceted-search/~/legend/src/gxaLegend.css","webpack:///./faceted-search/~/legend/src/LegendBaseline.jsx","webpack:///./faceted-search/~/legend/~/number-format/src/NumberFormat.jsx","webpack:///./faceted-search/~/cell-differential/index.js","webpack:///./faceted-search/~/cell-differential/src/CellDifferential.jsx","webpack:///./faceted-search/~/cell-differential/src/gxaShowHideCell.css?3ad1","webpack:///./faceted-search/~/cell-differential/src/gxaShowHideCell.css","webpack:///./faceted-search/~/cell-differential/src/gxaDifferentialCellTooltip.css?61a6","webpack:///./faceted-search/~/cell-differential/src/gxaDifferentialCellTooltip.css","webpack:///./faceted-search/~/display-levels-button/index.js","webpack:///./faceted-search/~/display-levels-button/src/DisplayLevelsButton.jsx","webpack:///./faceted-search/~/contrast-tooltips/index.js","webpack:///./faceted-search/~/contrast-tooltips/src/ContrastTooltipModule.js","webpack:///./faceted-search/~/contrast-tooltips/src/ContrastTooltip.jsx","webpack:///./faceted-search/~/contrast-tooltips/src/gxaContrastTooltip.css?3a66","webpack:///./faceted-search/~/contrast-tooltips/src/gxaContrastTooltip.css","webpack:///./faceted-search/~/heatmap-anatomogram/src/gene-properties-tooltip-module.js","webpack:///./faceted-search/~/heatmap-anatomogram/src/gene-properties-tooltip-module.css?9e40","webpack:///./faceted-search/~/heatmap-anatomogram/src/gene-properties-tooltip-module.css","webpack:///./faceted-search/~/heatmap-anatomogram/src/factor-tooltip-module.js","webpack:///./faceted-search/~/heatmap-anatomogram/src/factor-tooltip.jsx","webpack:///./faceted-search/~/heatmap-anatomogram/src/factor-tooltip-module.css?1b72","webpack:///./faceted-search/~/heatmap-anatomogram/src/factor-tooltip-module.css","webpack:///./faceted-search/~/heatmap-anatomogram/src/sticky-header-module.js","webpack:///./faceted-search/~/heatmap-anatomogram/src/sticky-header-module.css?ff78","webpack:///./faceted-search/~/heatmap-anatomogram/src/sticky-header-module.css","webpack:///./faceted-search/~/heatmap-anatomogram/src/heatmap.css?d4ef","webpack:///./faceted-search/~/heatmap-anatomogram/src/heatmap.css","webpack:///./faceted-search/~/heatmap-anatomogram/src/experiments-list.jsx","webpack:///./faceted-search/~/heatmap-anatomogram/src/experiment-types.js","webpack:///./faceted-search/~/heatmap-anatomogram/src/heatmap-anatomogram-container.css?5eef","webpack:///./faceted-search/~/heatmap-anatomogram/src/heatmap-anatomogram-container.css","webpack:///./faceted-search/src/differential-router.js","webpack:///./faceted-search/src/differential-facets-tree.jsx","webpack:///./faceted-search/src/differential-results.jsx","webpack:///./faceted-search/src/download-differential-button.jsx","webpack:///./faceted-search/src/differential-results.css?6d59","webpack:///./faceted-search/src/differential-results.css","webpack:///./faceted-search/~/legend/~/help-tooltips/index.js","webpack:///./faceted-search/~/legend/~/help-tooltips/src/HelpTooltips.js","webpack:///./faceted-search/~/legend/~/help-tooltips/src/gxaHelpTooltip.css?a323","webpack:///./faceted-search/~/legend/~/number-format/index.js"],"names":[],"mappings":";;;;;;;;AAAA;;AAEA;;AAEA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,8BAA6B;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA,4BAA2B;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,wBAAuB,mBAAmB,2CAA2C;;AAErF;;AAEA;AACA,cAAa;AACb;AACA,wCAAuC;;AAEvC,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA6B;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/OA;;;;AAIA,KAAI,QAAQ,oBAAQ,gBAAR,CAAR;;;;AAIJ,qBAAQ,6BAAR;;;;AAIA,KAAI,qBAAqB,MAAM,WAAN,CAAkB;;;AACvC,gBAAW;;;;;;;AAOP,iBAAQ,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UAAvB;;;;AAIR,wBAAe,MAAM,SAAN,CAAgB,MAAhB;AACf,qBAAY,MAAM,SAAN,CAAgB,IAAhB,CAAqB,UAArB;AACZ,2BAAkB,MAAM,SAAN,CAAgB,IAAhB,CAAqB,UAArB;AAClB,6BAAoB,MAAM,SAAN,CAAgB,IAAhB,CAAqB,UAArB;AACpB,sCAA6B,MAAM,SAAN,CAAgB,IAAhB,CAAqB,UAArB;MAfjC;;AAkBA,kBAAa,UAAU,OAAV,EAAmB,KAAnB,EAA0B,SAA1B,EAAqC;AAC9C,cAAK,KAAL,CAAW,UAAX,CAAsB,OAAtB,EAA+B,KAA/B,EAAsC,SAAtC,EAD8C;MAArC;;AAIb,aAAQ,YAAY;AAChB,aAAI,SAAS,OAAO,IAAP,CAAY,KAAK,KAAL,CAAW,MAAX,CAAZ,CAA+B,GAA/B,CAAmC,UAAU,KAAV,EAAiB;AAC7D,oBAAO,oBAAC,KAAD,IAAO,KAAK,KAAL,EAAY,WAAW,KAAX,EAAkB,YAAY,KAAK,KAAL,CAAW,MAAX,CAAkB,KAAlB,CAAZ;AACxC,oCAAmB,KAAK,KAAL,CAAW,aAAX,IAA4B,KAAK,KAAL,CAAW,aAAX,CAAyB,KAAzB,CAA5B;AACnB,6BAAY,KAAK,WAAL;cAFT,CAAP,CAD6D;UAAjB,CAK9C,IAL8C,CAKzC,IALyC,CAAnC,CAAT,CADY;;AAQhB,gBACI;;eAAK,WAAU,8BAAV,EAAL;aACI;;mBAAI,OAAO,EAAC,SAAS,CAAT,EAAR,EAAJ;iBACI,+BAAO,MAAK,UAAL,EAAgB,SAAS,KAAK,KAAL,CAAW,gBAAX,EAA6B,UAAU,KAAK,KAAL,CAAW,kBAAX,EAA+B,UAAU,KAAK,KAAL,CAAW,2BAAX,EAAhH,CADJ;iBAEI;;uBAAM,WAAW,KAAK,KAAL,CAAW,2BAAX,GAAyC,qBAAzC,GAAiE,EAAjE,EAAjB;;kBAFJ;cADJ;aAKI;;;;cALJ;aAMK,MANL;UADJ,CARgB;MAAZ;EAvBa,CAArB;;AA4CJ,KAAI,QAAQ,MAAM,WAAN,CAAkB;;;AAC1B,gBAAW;AACP,oBAAW,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UAAvB;AACX,qBAAY,MAAM,SAAN,CAAgB,OAAhB,CAAwB,MAAM,SAAN,CAAgB,KAAhB,CAAsB;AACtD,mBAAM,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UAAvB;AACN,oBAAO,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UAAvB;UAFyB,CAAxB,EAGR,UAHQ;AAIZ,4BAAmB,MAAM,SAAN,CAAgB,MAAhB;AACnB,qBAAY,MAAM,SAAN,CAAgB,IAAhB,CAAqB,UAArB;MAPhB;;AAUA,kBAAa,UAAU,OAAV,EAAmB,SAAnB,EAA8B;AACvC,cAAK,KAAL,CAAW,UAAX,CAAsB,OAAtB,EAA+B,KAAK,KAAL,CAAW,SAAX,EAAsB,SAArD,EADuC;MAA9B;;AAIb,aAAQ,YAAY;AAChB,aAAI,aAAa,KAAK,KAAL,CAAW,UAAX,CAAsB,GAAtB,CAA0B,UAAU,SAAV,EAAqB;AAC5D,oBAAO,oBAAC,SAAD,IAAW,KAAK,UAAU,IAAV,EAAgB,MAAM,UAAU,IAAV,EAAgB,OAAO,UAAU,KAAV;AAChE,0BAAS,KAAK,KAAL,CAAW,iBAAX,IAAgC,KAAK,KAAL,CAAW,iBAAX,CAA6B,UAAU,IAAV,CAA7D;AACT,6BAAY,KAAK,WAAL;cAFT,CAAP,CAD4D;UAArB,CAMzC,IANyC,CAMpC,IANoC,CAA1B,CAAb,CADY;;AAShB,gBACI;;eAAK,WAAU,cAAV,EAAL;aACI;;;iBAAK,KAAK,KAAL,CAAW,SAAX;cADT;aAEI;;;iBACK,UADL;cAFJ;UADJ,CATgB;MAAZ;EAfA,CAAR;;AAmCJ,KAAI,YAAY,MAAM,WAAN,CAAkB;;;AAC9B,gBAAW;AACP,eAAM,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UAAvB;AACN,gBAAO,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UAAvB;AACP,kBAAS,MAAM,SAAN,CAAgB,IAAhB;AACT,qBAAY,MAAM,SAAN,CAAgB,IAAhB,CAAqB,UAArB;MAJhB;;AAOA,kBAAa,YAAY;AACrB,cAAK,KAAL,CAAW,UAAX,CAAsB,CAAC,KAAK,KAAL,CAAW,OAAX,EAAoB,KAAK,KAAL,CAAW,IAAX,CAA3C,CADqB;MAAZ;;AAIb,aAAQ,YAAY;AAChB,gBACI;;;aACI,+BAAO,MAAK,UAAL,EAAgB,SAAS,KAAK,KAAL,CAAW,OAAX,GAAqB,IAArB,GAA4B,KAA5B,EAAmC,UAAU,KAAK,WAAL,EAA7E,CADJ;aAEK,KAAK,KAAL,CAAW,KAAX;UAHT,CADgB;MAAZ;EAZI,CAAZ;;;;AAwBJ,QAAO,OAAP,GAAiB,kBAAjB,C;;;;;;;;;ACnHA;;AAEA;AACA;AACA;AACA;AACA,2FAAgF;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;;;;ACpBA;AACA;;;AAGA;AACA,sEAAqE,kBAAkB,yBAAyB,mDAAmD,iFAAiF,4BAA4B,qBAAqB,GAAG,uCAAuC,0BAA0B,GAAG,kHAAkH,iCAAiC,GAAG,0CAA0C,wBAAwB,sBAAsB,iBAAiB,GAAG,8DAA8D,kBAAkB,GAAG,8CAA8C,uBAAuB,GAAG,8BAA8B,yBAAyB,GAAG;;AAEn0B;;;;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,iBAAiB;AACjC;AACA;AACA,yCAAwC,gBAAgB;AACxD,KAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA,aAAY,oBAAoB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACjDA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAgB,mBAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,sBAAsB;AACtC;AACA;AACA,mBAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA,kBAAiB,2BAA2B;AAC5C;AACA;AACA,SAAQ,uBAAuB;AAC/B;AACA;AACA,IAAG;AACH;AACA,kBAAiB,uBAAuB;AACxC;AACA;AACA,4BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA,iCAAgC,sBAAsB;AACtD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;AACA,GAAE;AACF;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAC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,6BAA6B,8BAA8B,kCAAkC,gCAAgC,GAAG,0BAA0B,yCAAyC,oCAAoC,GAAG,0BAA0B,kCAAkC,0BAA0B,GAAG,gDAAgD,6BAA6B,mBAAmB,GAAG;;AAElnB;;;;;;;;;;ACPA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa;AACb;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa;;AAEb;;AAEA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,cAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB,cAAa;AACb;AACA;AACA;AACA,kBAAiB;AACjB,cAAa;AACb;AACA;AACA;AACA;AACA,kBAAiB;AACjB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB,cAAa;AACb;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;;AAEA;;AAEA;;;;;;;;;;AC/IA;;AAEA;AACA;AACA;AACA;AACA,4FAAsE;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;;;;ACpBA;AACA;;;AAGA;AACA,gDAA+C,uBAAuB,yBAAyB,yBAAyB,kBAAkB,GAAG,iDAAiD,uBAAuB,GAAG,6BAA6B,oBAAoB,GAAG,iCAAiC,gBAAgB,yBAAyB,kBAAkB,iFAAiF,GAAG,wIAAwI,yBAAyB,sBAAsB,kBAAkB,GAAG,6CAA6C,kBAAkB,kBAAkB,uBAAuB,gDAAgD,kBAAkB,GAAG,mDAAmD,6BAA6B,GAAG,gCAAgC,gCAAgC,6BAA6B,4BAA4B,GAAG,qBAAqB,gBAAgB,kBAAkB,GAAG,qBAAqB,kBAAkB,GAAG,sHAAsH,uDAAuD,wBAAwB,OAAO,GAAG;;AAEvzC;;;;;;;;;;ACPA;;AAEA;AACA;AACA;AACA;AACA,4FAAsE;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;;;;ACpBA;AACA;;;AAGA;AACA,2DAA0D,yBAAyB,qBAAqB,oBAAoB,kBAAkB,uBAAuB,GAAG,mBAAmB,qBAAqB,8BAA8B,2CAA2C,wBAAwB,wBAAwB,mBAAmB,uBAAuB,kBAAkB,gCAAgC,GAAG,0DAA0D,qBAAqB,6BAA6B,2CAA2C,mBAAmB,kBAAkB,0BAA0B,GAAG,wDAAwD,0BAA0B,sDAAsD,GAAG,oDAAoD,2CAA2C,GAAG,kCAAkC,sBAAsB,GAAG,gKAAgK,sDAAsD,gCAAgC,kBAAkB,GAAG,gCAAgC,gCAAgC,0BAA0B,kBAAkB,kCAAkC,GAAG,2DAA2D,sDAAsD,GAAG,iIAAiI,sDAAsD,GAAG,qBAAqB,qBAAqB,8BAA8B,kBAAkB,mBAAmB,0BAA0B,yBAAyB,GAAG,qCAAqC,0BAA0B,uBAAuB,gCAAgC,GAAG,+BAA+B,wBAAwB,GAAG,kCAAkC,oBAAoB,gCAAgC,6BAA6B,6BAA6B,iCAAiC,yBAAyB,gBAAgB,kBAAkB,uBAAuB,0BAA0B,qCAAqC,sCAAsC,oCAAoC,qCAAqC,wCAAwC,yCAAyC,mCAAmC,oCAAoC,GAAG,iCAAiC,sCAAsC,yCAAyC,qCAAqC,oCAAoC,GAAG,sBAAsB,wCAAwC,kCAAkC,sCAAsC,mBAAmB,GAAG;;AAE72F;;;;;;;;;;ACPA;;;;AAIA,KAAI,QAAQ,oBAAQ,gBAAR,CAAR;AACJ,KAAI,kBAAkB,oBAAQ,sCAAR,CAAlB;;;;AAIJ,KAAI,kBAAkB,MAAM,WAAN,CAAkB;;;AACpC,gBAAW;AACP,mBAAU,MAAM,SAAN,CAAgB,KAAhB,CAAsB;AAC5B,mBAAM,MAAM,SAAN,CAAgB,KAAhB,CAAsB,UAAtB;UADA,EAEP,UAFO;AAGV,uBAAc,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UAAvB;AACd,4BAAmB,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UAAvB;AACnB,oBAAW,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UAAvB;MANf;;AASA,sBAAiB,YAAW;AACxB,gBAAO,EAAC,cAAc,KAAK,KAAL,CAAW,QAAX,CAAoB,IAApB,CAAyB,MAAzB,GAAkC,EAAlC,EAAtB,CADwB;MAAX;;AAIjB,wBAAmB,YAAW;AAC1B,aAAI,OAAO,KAAK,KAAL,CAAW,QAAX,CAAoB,IAApB,CAAyB,IAAzB,CAA8B,KAAK,YAAL,CAArC,CADsB;AAE1B,gBAAO,KAAK,KAAL,CAAW,UAAX,GAAwB,IAAxB,GAA+B,KAAK,KAAL,CAAW,CAAX,EAAa,EAAb,CAA/B,CAFmB;MAAX;;AAKnB,kBAAa,YAAW;AACtB,cAAK,QAAL,CAAc,EAAC,cAAe,IAAf,EAAf,EADsB;MAAX;;AAIb,mBAAc,UAAS,WAAT,EAAsB,WAAtB,EAAmC;AAC7C,aAAI,YAAY,IAAZ,GAAmB,YAAY,IAAZ,EAAkB;AACrC,oBAAO,CAAP,CADqC;UAAzC;AAGA,aAAI,YAAY,IAAZ,GAAmB,YAAY,IAAZ,EAAkB;AACrC,oBAAO,CAAC,CAAD,CAD8B;UAAzC;AAGA,gBAAO,CAAP,CAP6C;MAAnC;;AAUd,sBAAiB,UAAU,OAAV,EAAmB;AAChC,aAAI,gBACA,KAAK,KAAL,CAAW,iBAAX,GACA,eADA,GACkB,QAAQ,EAAR,GAAa,aAD/B,GAC+C,KAAK,KAAL,CAAW,SAAX,IAC9C,QAAQ,uBAAR,GACD,8BAA8B,mBAAmB,QAAQ,uBAAR,CAAjD,GAAoF,EADnF,CAFD,CAF4B;;AAOhC,gBACI;;eAAI,KAAK,QAAQ,IAAR,EAAT;aACI;;mBAAG,QAAO,QAAP,EAAgB,MAAM,aAAN,EAAnB;iBAAyC,QAAQ,IAAR;cAD7C;UADJ,CAPgC;MAAnB;;AAcjB,uBAAkB,UAAS,OAAT,EAAkB;AAChC,gBAAO,KAAK,iBAAL,GAAyB,GAAzB,CAA6B,KAAK,eAAL,CAApC,CADgC;MAAlB;;AAIlB,aAAQ,YAAW;AACf,gBACI;;eAAI,OAAO,EAAC,eAAe,MAAf,EAAuB,aAAa,GAAb,EAA/B,EAAJ;aACK,KAAK,gBAAL,EADL;aAEK,KAAK,KAAL,CAAW,UAAX,GAAuB,8BAAvB,GAA8B;AAAC,gCAAD;mBAAiB,SAAQ,SAAR,EAAkB,QAAO,QAAP,EAAgB,SAAS,KAAK,WAAL,EAA5D;;cAA9B;UAHT,CADe;MAAX;EAnDU,CAAlB;;;;AA+DJ,QAAO,OAAP,GAAiB,eAAjB,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxEA;;AAEA;;AAEA;AACA,gBAAe,qEAAqE;AACpF,2BAA0B,2FAA2F;AACrH,oBAAmB,6EAA6E;AAChG,uBAAsB;AACtB;;;;;;;;;;ACTA;;AAEA;AACA;AACA;AACA;AACA,4FAAsE;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;;;;ACpBA;AACA;;;AAGA;AACA,sDAAqD,yBAAyB,GAAG,qCAAqC,kBAAkB,qBAAqB,qBAAqB,yBAAyB,GAAG,sBAAsB,yBAAyB,uBAAuB,GAAG,eAAe,kBAAkB,GAAG;;AAE3T;;;;;;;;;;ACPA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAiB,mBAAmB;AACpC;AACA,uBAAsB,wFAAwF;AAC9G;AACA;AACA;AACA;AACA,iCAAgC,oCAAoC;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,+BAA8B,yFAAyF;AACvH;AACA;AACA;;AAEA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,MAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAS;;AAET;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,uDAAsD;AACtD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;;AAEA,sBAAqB;AACrB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,0CAAyC;AACzC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAi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","file":"facetedSearch.bundle.js","sourcesContent":["\"use strict\";\n\n//*------------------------------------------------------------------*\n\nexports.baseline = require('./src/baseline-heatmaps-router.js');\n\nexports.differential = require('./src/differential-router.js');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/index.js\n ** module id = 0\n ** module chunks = 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\n\nvar $ = require('jquery');\nrequire('jquery.browser');\n\nvar URI = require('urijs');\n\n//*------------------------------------------------------------------*\n\nvar FacetsTree = require('./baseline-facets-tree.jsx');\nvar Heatmaps = require('./baseline-heatmaps.jsx');\n\n//*------------------------------------------------------------------*\n\n/**\n * @param {Object} options\n * @param {string} options.facetsContainer - id of the facets container, i.e. a <div> id\n * @param {string} options.resultsContainer - id of the results container, i.e. a <div> id\n * @param {string} options.showAnatomogramsInput - id of the show/hide anatomograms control, i.e. an <input> id\n * @param {Object} options.facetsTreeData\n * @param {string} options.atlasHost\n * @param {string} options.selectedSpecies\n * @param {string} options.identifier\n * @param {string} options.queryType - \"gene\", \"geneSet\"\n */\nmodule.exports = function (options) {\n\n    var ie9 = $.browser.msie && $.browser.version < 10;\n    !ie9 && window.addEventListener(\"popstate\", backButtonListener, false);\n\n    var facetsElement = document.getElementById(options.facetsContainer),\n        heatmapsElement = document.getElementById(options.resultsContainer),\n        host = options.atlasHost ? options.atlasHost : window.location.host;\n\n    var query = {\n        geneQuery : options.identifier,\n        queryType : options.queryType,\n        select    : {}\n    };\n\n    var selectedSpecies = options.selectedSpecies,\n        facetsTreeData = options.facetsTreeData;\n\n    if (selectedSpecies && facetsTreeData.hasOwnProperty(selectedSpecies)) {\n        var selectedSpeciesFactors = facetsTreeData[selectedSpecies];\n        for(var selectedSpeciesFactor in selectedSpeciesFactors) {\n            if (selectedSpeciesFactors.hasOwnProperty(selectedSpeciesFactor)) {\n                addSelection(query.select, selectedSpecies, selectedSpeciesFactors[selectedSpeciesFactor].name);\n            }\n        }\n    } else {\n        parseSelectedFacetsFromLocation();\n    }\n\n    var anatomogramsInManualMode = false,\n        showAnatomogramsManual, showAnatomograms;\n    showAnatomogramsManual = showAnatomograms = organismPartInQuerySelect();\n\n    pushQueryIntoBrowserHistory(true);\n    renderQueryPage();\n\n    function backButtonListener() {\n        if (window.location.hash === \"#baseline\") {\n            parseSelectedFacetsFromLocation();\n            renderQueryPage();\n        }\n    }\n\n    function parseSelectedFacetsFromLocation() {\n        var currentURL = new URI(window.location);\n        var selectString = currentURL.search(true)[\"bs\"];\n\n        if (!selectString) {\n            initializeQuerySelect();\n        } else {\n            query.select = JSON.parse(selectString);\n        }\n    }\n\n    function organismPartInQuerySelect() {\n        for (var species in query.select) {\n            if (query.select.hasOwnProperty(species)) {\n                if (query.select[species].hasOwnProperty(\"ORGANISM_PART\") && query.select[species][\"ORGANISM_PART\"]) {\n                        return true;\n                    }\n                }\n            }\n        return false;\n    }\n\n    function toggleAnatomograms() {\n        anatomogramsInManualMode = true;\n        showAnatomogramsManual = showAnatomograms = !showAnatomograms;\n\n        renderQueryPage();\n    }\n\n    function renderQueryPage() {\n        ReactDOM.render(\n            React.createElement(\n                FacetsTree, {facets: facetsTreeData, checkedFacets: query.select, setChecked: setChecked,\n                    toggleAnatomograms: toggleAnatomograms, showAnatomograms: showAnatomograms, disableAnatomogramsCheckbox: !organismPartInQuerySelect()}\n            ),\n            facetsElement\n        );\n\n        ReactDOM.render(\n            React.createElement(\n                Heatmaps, {geneQuery: query.geneQuery, heatmaps: queryToHeatmaps(query), showAnatomograms: showAnatomograms, atlasHost: host}\n            ),\n            heatmapsElement, triggerScrollEvent\n        );\n    }\n\n    function triggerScrollEvent() {\n        if (ie9) {\n            var event = document.createEvent(\"Events\");\n            event.initEvent(\"scroll\", true, true);\n            window.dispatchEvent(event);\n        } else {\n            window.dispatchEvent(new Event(\"scroll\"));\n        }\n    }\n\n    function initializeQuerySelect() {\n\n        for (var facet in options.facetsTreeData) {\n            if (options.facetsTreeData.hasOwnProperty(facet)) {\n\n                var factors = facetsTreeData[facet];\n                var checked = false;\n                for(var factor in factors) {\n                    if (factors.hasOwnProperty(factor) && factors[factor].name === \"ORGANISM_PART\") {\n                        addSelection(query.select, facet, factors[factor].name);\n                        checked = true;\n                        break;\n                    }\n                }\n\n                if(factors.length >= 1 && !checked) {\n                    addSelection(query.select, facet, factors[0].name);\n                }\n\n            }\n        }\n\n    }\n\n    function setChecked(checked, species, factor) {\n        if (checked) {\n            addSelection(query.select, species, factor);\n        } else {\n            removeSelection(query.select, species, factor);\n        }\n\n        if (anatomogramsInManualMode) {\n            showAnatomograms = showAnatomogramsManual && organismPartInQuerySelect();\n        } else {\n            showAnatomograms = organismPartInQuerySelect();\n        }\n\n        pushQueryIntoBrowserHistory(false);\n        renderQueryPage();\n    }\n\n\n    function pushQueryIntoBrowserHistory(replace) {\n        var newURL = new URI(window.location).search(function(data) {\n            data.bs = JSON.stringify(query.select);\n        });\n\n        if (!ie9) {\n            if (replace) {\n                history.replaceState(null, \"\", newURL);\n            } else {\n                history.pushState(null, \"\", newURL);\n            }\n        }\n    }\n\n    function addSelection(querySelect, species, factor) {\n        if (!querySelect[species]) {\n            querySelect[species] = {};\n        }\n        querySelect[species][factor] = true;\n    }\n\n    function removeSelection(select, species, factor) {\n        select[species][factor] = false;\n    }\n\n    function queryToHeatmaps(query) {\n        /* eg:\n         query.geneQuery=blood\n         query.select={ \"homo sapiens\" : { \"CELL_LINE\": true, \"ORGANISM_PART\": true } }\n\n         ->\n\n         [\n            {\"geneQuery\": \"blood\",\n             \"species\": \"Homo sapiens\",\n             \"factor\": \"ORGANISM_PART\"},\n\n            {\"geneQuery\": \"blood\",\n             \"species\": \"Homo sapiens\",\n             \"factor\": \"CELL_LINE\"}\n         ]\n        */\n        var select = query.select;\n        var geneQuery = query.geneQuery;\n        var heatmaps = [];\n\n        for (var species in select) {\n            if (select.hasOwnProperty(species)) {\n\n                var factors = select[species];\n\n                for (var factor in factors) {\n                    if (factors.hasOwnProperty(factor)) {\n                        if (factors[factor]) {\n                            heatmaps.push({\n                                \"geneQuery\": geneQuery,\n                                \"species\": species,\n                                \"factor\": factor\n                            });\n                        }\n                    }\n                }\n            }\n        }\n\n        return heatmaps;\n    }\n\n};\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/src/baseline-heatmaps-router.js\n ** module id = 861\n ** module chunks = 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\n\n//*------------------------------------------------------------------*\n\nrequire('./facets-tree.css');\n\n//*------------------------------------------------------------------*\n\nvar BaselineFacetsTree = React.createClass({\n    propTypes: {\n        /*\n        {\n            \"homo sapiens\" : [ {\"name\": \"CELL_LINE\", \"value\": \"Cell line\"}, {\"name\": \"ORGANISM_PART\", \"value\": \"Tissue\"} ],\n            \"mus musculus\" : [ {\"name\": \"CELL_LINE\", \"value\": \"Cell line\"}, {\"name\": \"INDIVIDUAL\", \"value\": \"Individual\"} ]\n        }\n        */\n        facets: React.PropTypes.object.isRequired,\n        /*\n        { \"homo sapiens\" : { \"CELL_LINE\": true, \"ORGANISM_PART\": true } }\n        */\n        checkedFacets: React.PropTypes.object,\n        setChecked: React.PropTypes.func.isRequired,\n        showAnatomograms: React.PropTypes.bool.isRequired,\n        toggleAnatomograms: React.PropTypes.func.isRequired,\n        disableAnatomogramsCheckbox: React.PropTypes.bool.isRequired\n    },\n\n    _setChecked: function (checked, facet, facetItem) {\n        this.props.setChecked(checked, facet, facetItem);\n    },\n\n    render: function () {\n        var facets = Object.keys(this.props.facets).map(function (facet) {\n            return <Facet key={facet} facetName={facet} facetItems={this.props.facets[facet]}\n                checkedFacetItems={this.props.checkedFacets && this.props.checkedFacets[facet]}\n                setChecked={this._setChecked}\n            />;\n        }.bind(this));\n\n        return (\n            <div className=\"hidden-xs gxaFacetsContainer\">\n                <h5 style={{padding: 0}}>\n                    <input type=\"checkbox\" checked={this.props.showAnatomograms} onChange={this.props.toggleAnatomograms} disabled={this.props.disableAnatomogramsCheckbox}/>\n                    <span className={this.props.disableAnatomogramsCheckbox ? \"gxaDisabledCheckbox\" : \"\"}>Show anatomograms</span>\n                </h5>\n                <h3>Filter your results</h3>\n                {facets}\n            </div>\n        );\n    }\n});\n\nvar Facet = React.createClass({\n    propTypes: {\n        facetName: React.PropTypes.string.isRequired,\n        facetItems: React.PropTypes.arrayOf(React.PropTypes.shape({\n            name: React.PropTypes.string.isRequired,\n            value: React.PropTypes.string.isRequired\n        })).isRequired,\n        checkedFacetItems: React.PropTypes.object,\n        setChecked: React.PropTypes.func.isRequired\n    },\n\n    _setChecked: function (checked, facetItem) {\n        this.props.setChecked(checked, this.props.facetName, facetItem);\n    },\n\n    render: function () {\n        var facetItems = this.props.facetItems.map(function (facetItem) {\n            return <FacetItem key={facetItem.name} name={facetItem.name} value={facetItem.value}\n                checked={this.props.checkedFacetItems && this.props.checkedFacetItems[facetItem.name]}\n                setChecked={this._setChecked}\n            />;\n\n        }.bind(this));\n\n        return (\n            <div className=\"gxaFacetItem\">\n                <h4>{this.props.facetName}</h4>\n                <ul>\n                    {facetItems}\n                </ul>\n            </div>\n        );\n    }\n});\n\nvar FacetItem = React.createClass({\n    propTypes: {\n        name: React.PropTypes.string.isRequired,\n        value: React.PropTypes.string.isRequired,\n        checked: React.PropTypes.bool,\n        setChecked: React.PropTypes.func.isRequired\n    },\n\n    _setChecked: function () {\n        this.props.setChecked(!this.props.checked, this.props.name);\n    },\n\n    render: function () {\n        return (\n            <li>\n                <input type=\"checkbox\" checked={this.props.checked ? true : false} onChange={this._setChecked}/>\n                {this.props.value}\n            </li>\n        );\n    }\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = BaselineFacetsTree;\n\n\n/** WEBPACK FOOTER **\n ** ./faceted-search/src/baseline-facets-tree.jsx\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./facets-tree.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./facets-tree.css\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./facets-tree.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/src/facets-tree.css\n ** module id = 1026\n ** module chunks = 3\n **/","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/*Responsive*/\\n@media (max-width: 768px) {\\n    .hidden-xs {display: none!important;} /*remove column like filter for small devices*/\\n}\\n\\n/* Facets-tree container */\\n.gxaFacetsContainer ul, .gxaFacetsContainer li {\\n    list-style-type: none;\\n    padding: 2px 0;\\n}\\n\\n.gxaFacetsContainer .gxaFacetItem {\\n    padding-bottom: 8px;\\n}\\n\\n.gxaFacetsContainer .gxaFacetItem h4:first-letter, .gxaFacetsContainer .gxaFacetItem ul li span:first-letter {\\n    text-transform: capitalize;\\n}\\n\\n.gxaFacetsContainer .gxaFacetItem h4 {\\n    font-weight: bold;\\n    font-size: 133%;\\n    padding: 0;\\n}\\n\\n.gxaFacetsContainer .gxaFacetItem .gxaDisabledFacet span {\\n    color: gray;\\n}\\n\\n.gxaFacetsContainer .gxaDisabledCheckbox {\\n    color: lightgray;\\n}\\n\\n.gxaSpeciesFacet li span {\\n    font-style: italic;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/css-loader!./faceted-search/src/facets-tree.css\n ** module id = 1027\n ** module chunks = 3\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/css-loader/lib/css-base.js\n ** module id = 1028\n ** module chunks = 3\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/style-loader/addStyles.js\n ** module id = 1029\n ** module chunks = 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\n\n//*------------------------------------------------------------------*\n\nvar BaselineHeatmapWidget = require('./baseline-heatmap-widget.jsx');\n\n//*------------------------------------------------------------------*\n\nvar Heatmaps = React.createClass({\n    propTypes: {\n        geneQuery: React.PropTypes.string.isRequired,\n        atlasHost: React.PropTypes.string.isRequired,\n        /*\n         [{\"geneQuery\":\"GO:0001234\",\"species\":\"Homo sapiens\",\"factor\":\"CELL_LINE\"},\n          {\"geneQuery\":\"GO:0001234\",\"species\":\"Mus musculus\",\"factor\":\"ORGANISM_PART\"}]\n         */\n        showAnatomograms: React.PropTypes.bool.isRequired,\n        heatmaps: React.PropTypes.arrayOf(React.PropTypes.shape({\n            geneQuery: React.PropTypes.string.isRequired,\n            species: React.PropTypes.string.isRequired,\n            factor: React.PropTypes.string.isRequired\n        })).isRequired\n    },\n\n    _isOrganismPart: function(a){\n        return a.factor===\"ORGANISM_PART\";\n    },\n    _isNotOrganismPart: function(a){\n        return ! this._isOrganismPart(a);\n    },\n\n    render: function () {\n        var heatmapsInOrderWeWant=this.props.heatmaps.filter(this._isOrganismPart).concat(this.props.heatmaps.filter(this._isNotOrganismPart));\n        return (\n            <div>\n                {heatmapsInOrderWeWant.map(function (heatmap) {\n                    return <BaselineHeatmapWidget key={heatmap.species + \"_\" + heatmap.factor}\n                                                  showAnatomogram={this.props.showAnatomograms}\n                                                  showHeatmapLabel={this._hasMoreThanOneSpecies()} species={heatmap.species} factor={heatmap.factor}\n                                                  atlasHost={this.props.atlasHost} geneQuery={this.props.geneQuery} />;\n                }.bind(this))}\n            </div>\n        );\n    },\n\n    _hasMoreThanOneSpecies: function() {\n        var species = [];\n        for (var i = 0 ; i < this.props.heatmaps.length ; i++) {\n            if (species.indexOf(this.props.heatmaps[i].species) === -1) {\n                species.push(this.props.heatmaps[i].species);\n            }\n        }\n        return species.length > 1;\n    }\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = Heatmaps;\n\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./faceted-search/src/baseline-heatmaps.jsx\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\n\n//*------------------------------------------------------------------*\n\nvar AtlasHeatmapBuilder = require('heatmap-anatomogram');\n\n//*------------------------------------------------------------------*\n\nvar BaselineHeatmapWidget = React.createClass({\n    propTypes: {\n        atlasHost: React.PropTypes.string.isRequired,\n        geneQuery: React.PropTypes.string.isRequired,\n        species: React.PropTypes.string.isRequired,\n        factor: React.PropTypes.string.isRequired,\n        showAnatomogram: React.PropTypes.bool.isRequired,\n        showHeatmapLabel: React.PropTypes.bool.isRequired,\n    },\n\n    componentDidMount: function() {\n        AtlasHeatmapBuilder({\n            atlasHost: this.props.atlasHost,\n            params: \"geneQuery=\" + this.props.geneQuery + \"&species=\" + this.props.species + \"&source=\" + this.props.factor,\n            analyticsSearch: true,\n            isMultiExperiment: true,\n            target: ReactDOM.findDOMNode(this.refs.widgetBody),\n            isWidget: false,\n            showAnatomogram: this.props.showAnatomogram\n        });\n    },\n\n    componentDidUpdate: function() {\n        AtlasHeatmapBuilder({\n            atlasHost: this.props.atlasHost,\n            params: \"geneQuery=\" + this.props.geneQuery + \"&species=\" + this.props.species + \"&source=\" + this.props.factor,\n            analyticsSearch: true,\n            isMultiExperiment: true,\n            target: ReactDOM.findDOMNode(this.refs.widgetBody),\n            isWidget: false,\n            showAnatomogram: this.props.showAnatomogram\n        });\n    },\n\n    render: function() {\n        var speciesLabel = this._capitalize(this.props.species);\n        var factorLabel = this._capitalize(this._removeUnderScore(this.props.factor));\n\n        var widgetTitle = <h5>{(this.props.showHeatmapLabel ? speciesLabel + \"  \" : \"\") + factorLabel}</h5>;\n\n        return(\n            <div className=\"gxaBaselineHeatmap\">\n                {widgetTitle}\n                <div ref=\"widgetBody\" style={{paddingBottom: \"30px\"}}></div>\n            </div>\n        );\n    },\n\n    _capitalize: function capitalizeFirstLetter(str) {\n        return str.charAt(0).toUpperCase() + str.slice(1).toLowerCase();\n    },\n\n    _removeUnderScore: function removeUnderScoreForWhiteSpace(str) {\n        return str.replace(/[-_.]/g, ' ');\n    }\n\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = BaselineHeatmapWidget;\n\n\n\n/** WEBPACK FOOTER **\n ** ./faceted-search/src/baseline-heatmap-widget.jsx\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nmodule.exports = require('./src/heatmap-anatomogram.js');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/heatmap-anatomogram/index.js\n ** module id = 1032\n ** module chunks = 3\n **/","\"use strict\";\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\n\n//*------------------------------------------------------------------*\n\nvar HeatmapAnatomogramContainer = require('./heatmap-anatomogram-container.jsx');\n\nvar ExperimentTypes = require('./experiment-types.js');\n\n//*------------------------------------------------------------------*\n\n/**\n * @param {Object}      options\n * @param {string}          options.proxyPrefix - Proxy URL with protocol: required by CTTV\n * @param {boolean=}        options.disableGoogleAnalytics - Disable Google Analytics: required by CTTV\n * @param {string=}         options.atlasHost - Atlas host with port (note: dont include port)\n * @param {string}          options.params\n * @param {boolean}         options.analyticsSearch\n * @param {boolean=}        options.isMultiExperiment\n * @param {boolean=}        options.showAnatomogram\n * @param {boolean=}        options.isWidget\n * @param {string | Object} options.target - a <div> id or a DOM element, as returned by ReactDOM.findDOMNode()\n * @param {function}        options.fail - Callback to run if the AJAX request to the server fails. (jqXHR, textStatus)\n */\nmodule.exports = function(options) {\n\n    var protocol = window.location.protocol + \"//\",\n        atlasHost = options.atlasHost === undefined ? \"www.ebi.ac.uk\" : options.atlasHost,\n        atlasPath = \"/gxa\";\n\n    var linksAtlasBaseURL =\n        (atlasHost.indexOf(\"http://\") === 0 || atlasHost.indexOf(\"https://\") === 0) ? atlasHost + atlasPath :\n        protocol + atlasHost + atlasPath;\n\n    var atlasBaseURL = options.proxyPrefix ? options.proxyPrefix + \"/\" + atlasHost + atlasPath : linksAtlasBaseURL;\n\n    var endpointPath =\n        options.analyticsSearch ? \"/widgets/heatmap/baselineAnalytics\" :\n            options.isMultiExperiment ? \"/widgets/heatmap/multiExperiment\" : \"/widgets/heatmap/referenceExperiment\";\n\n    var sourceURL = atlasBaseURL + endpointPath + \"?\" + options.params;\n\n\n    ReactDOM.render(\n        React.createElement(\n            HeatmapAnatomogramContainer,\n            {\n                sourceURL: sourceURL,\n                atlasBaseURL: atlasBaseURL,\n                linksAtlasBaseURL: linksAtlasBaseURL,\n                type: options.isMultiExperiment ? ExperimentTypes.MULTIEXPERIMENT : ExperimentTypes.BASELINE,\n                showAnatomogram: options.showAnatomogram === undefined ? true : options.showAnatomogram,\n                isWidget: options.isWidget === undefined ? true : options.isWidget,\n                disableGoogleAnalytics: options.disableGoogleAnalytics === undefined ? false : options.disableGoogleAnalytics,\n                fail: options.fail\n            }\n        ),\n        (typeof options.target === \"string\") ? document.getElementById(options.target) : options.target\n    );\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/heatmap-anatomogram/src/heatmap-anatomogram.js\n ** module id = 1033\n ** module chunks = 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\n\nvar $ = require('jquery');\nrequire('jQuery-ajaxTransport-XDomainRequest');\nrequire('jquery-hc-sticky');\n\nvar URI = require('urijs');\n\nvar EventEmitter = require('events');\n\n//*------------------------------------------------------------------*\n\nvar Anatomogram = require('anatomogram');\nvar Heatmap = require('./heatmap.jsx');\nvar ExperimentsList = require('./experiments-list.jsx');\nvar ExperimentTypes = require('./experiment-types.js');\n\n//*------------------------------------------------------------------*\n\nrequire('./heatmap-anatomogram-container.css');\n\n//*------------------------------------------------------------------*\n\nvar ExperimentDescription = React.createClass({\n    propTypes: {\n        linksAtlasBaseURL: React.PropTypes.string.isRequired,\n        experiment: React.PropTypes.shape({\n            URL: React.PropTypes.string.isRequired,\n            description: React.PropTypes.string.isRequired,\n            allSpecies: React.PropTypes.string.isRequired\n        }).isRequired\n    },\n\n    render: function () {\n\n        var experimentURL = this.props.linksAtlasBaseURL + this.props.experiment.URL;\n\n        return (\n            <div style={{width: \"100%\", paddingBottom: \"20px\"}}>\n                <div id=\"experimentDescription\">\n                    <a id=\"goto-experiment\" className=\"gxaThickLink\" title=\"Experiment Page\" href={experimentURL}>{this.props.experiment.description}</a>\n                </div>\n                <div id=\"experimentOrganisms\">Organism(s): <span style={{\"fontStyle\":\"italic\"}}>{this.props.experiment.allSpecies}</span></div>\n            </div>\n        );\n    }\n\n});\n\nvar HeatmapAnatomogramContainer = React.createClass({\n    propTypes: {\n        sourceURL: React.PropTypes.string.isRequired,\n        atlasBaseURL: React.PropTypes.string.isRequired,\n        linksAtlasBaseURL: React.PropTypes.string.isRequired,\n        type: React.PropTypes.oneOf([\n            ExperimentTypes.BASELINE, ExperimentTypes.MULTIEXPERIMENT, ExperimentTypes.DIFFERENTIAL, ExperimentTypes.PROTEOMICS_BASELINE\n        ]).isRequired,\n        showAnatomogram: React.PropTypes.bool.isRequired,\n        isWidget: React.PropTypes.bool.isRequired,\n        disableGoogleAnalytics: React.PropTypes.bool.isRequired,\n        fail: React.PropTypes.func\n    },\n\n    render: function () {\n        var ensemblEventEmitter = new EventEmitter();\n        ensemblEventEmitter.setMaxListeners(0);\n        var anatomogramEventEmitter = new EventEmitter();\n        anatomogramEventEmitter.setMaxListeners(0);\n\n        var anatomogramExpressedTissueColour = this.props.type.isMultiExperiment ? \"red\" : \"gray\";\n        var anatomogramHoveredTissueColour = this.props.type.isMultiExperiment ? \"indigo\" : \"red\";\n\n        var geneURL =\n            this.props.linksAtlasBaseURL + \"/query\" +\n            \"?geneQuery=\" + this.state.heatmapConfig.geneQuery +\n            \"&exactMatch=\" + this.state.heatmapConfig.isExactMatch +\n            \"&organism=\" + this.state.heatmapConfig.species;\n\n        var display = this.props.showAnatomogram ? \"block\" : \"none\";\n        var marginLeft = this.props.showAnatomogram ? \"270px\" : \"0\";\n\n        var homoSapiensCellLine = this.state.heatmapConfig.species === \"homo sapiens\" && new URI(this.props.sourceURL).search(true).source === \"CELL_LINE\";\n\n        return (\n            <div ref=\"this\" className=\"gxaBlock\">\n\n                { this.state.experimentData ?\n                    <ExperimentDescription experiment={this.state.experimentData} linksAtlasBaseURL={this.props.linksAtlasBaseURL}/>\n                    : null\n                }\n\n                { this.state.heatmapConfig ?\n                    <div id=\"heatmap-anatomogram\" className=\"gxaHeatmapAnatomogramRow\">\n\n                        <div ref=\"anatomogramEnsembl\" className=\"gxaAside\" style={{display: display}}>\n                            { this.state.anatomogramData ?\n                                <Anatomogram anatomogramData={this.state.anatomogramData}\n                                             expressedTissueColour={anatomogramExpressedTissueColour} hoveredTissueColour={anatomogramHoveredTissueColour}\n                                             profileRows={this.state.profiles.rows} eventEmitter={anatomogramEventEmitter} atlasBaseURL={this.props.atlasBaseURL}/>\n                                : null\n                            }\n                        </div>\n\n                        { !homoSapiensCellLine ?\n                            <div id=\"heatmap-react\" className=\"gxaInnerHeatmap\" style={{marginLeft: marginLeft}}>\n                                <Heatmap type={this.props.type}\n                                         heatmapConfig={this.state.heatmapConfig}\n                                         columnHeaders={this.state.columnHeaders}\n                                         nonExpressedColumnHeaders={this.state.nonExpressedColumnHeaders}\n                                         profiles={this.state.profiles}\n                                         geneSetProfiles={this.state.geneSetProfiles}\n                                         ensemblEventEmitter={ensemblEventEmitter}\n                                         anatomogramEventEmitter={anatomogramEventEmitter}\n                                         atlasBaseURL={this.props.atlasBaseURL}\n                                         linksAtlasBaseURL={this.props.linksAtlasBaseURL}/>\n                            </div> :\n                            <div style={{marginLeft: marginLeft}}>\n                                <ExperimentsList profiles={this.state.profiles}\n                                                 atlasBaseURL={this.props.atlasBaseURL}\n                                                 linksAtlasBaseURL={this.props.linksAtlasBaseURL}\n                                                 geneQuery={this.state.heatmapConfig.geneQuery}/>\n                            </div>\n                        }\n\n                    </div>\n                    :\n                    <div ref=\"loadingImagePlaceholder\">\n                        <img src={this.props.atlasBaseURL + \"/resources/images/loading.gif\"}/>\n                    </div>\n                }\n\n                { this.props.isWidget ?\n                    <div><p><a href={geneURL}>See more expression data at Expression Atlas.</a>\n                        <br/>This expression view is provided by <a href={this.props.linksAtlasBaseURL}>Expression Atlas</a>.\n                        <br/>Please direct any queries or feedback to <a href=\"mailto:arrayexpress-atlas@ebi.ac.uk\">arrayexpress-atlas@ebi.ac.uk</a></p>\n                    </div>\n                    :\n                    null\n                }\n\n            </div>\n        );\n    },\n\n    getInitialState: function() {\n        return {\n            heatmapConfig: '',\n            columnHeaders: [],\n            nonExpressedColumnHeaders: [],\n            profiles: {\n                rows: [],\n                minExpressionLevel: 0,\n                maxExpressionLevel: 0\n            },\n            geneSetProfiles: {},\n            anatomogramData: {},\n            experimentData: ''\n        }\n    },\n\n    _updateStateAsynchronously: function (data) {\n        this.setState({\n            heatmapConfig: data.config,\n            columnHeaders: data.columnHeaders,\n            nonExpressedColumnHeaders: data.nonExpressedColumnHeaders,\n            profiles: data.profiles,\n            geneSetProfiles: data.geneSetProfiles,\n            anatomogramData: data.anatomogram,\n            experimentData: data.experiment\n        })\n    },\n\n    componentDidMount: function() {\n        var httpRequest = {\n            url: this.props.sourceURL,\n            dataType: \"json\",\n            method: \"GET\"\n        };\n\n        this.serverRequest = $.ajax(httpRequest).done(\n             this._updateStateAsynchronously\n        ).fail(\n            function (jqXHR, textStatus, errorThrown) {\n                if (this.props.fail) {\n                    this.props.fail(jqXHR, textStatus, errorThrown);\n                } else if (textStatus === \"parsererror\") {\n                    $(ReactDOM.findDOMNode(this.refs.this)).html(\"<div class='gxaError'>Could not parse JSON response</div>\");\n                } else {\n                    $(ReactDOM.findDOMNode(this.refs.this)).html(jqXHR.responseText);\n                }\n            }.bind(this)\n        );\n\n        if (!this.props.disableGoogleAnalytics) {\n            var _gaq = _gaq || [];\n            _gaq.push([\"_setAccount\", \"UA-37676851-1\"]);\n            _gaq.push([\"_trackPageview\"]);\n            (function () {\n                var ga = document.createElement(\"script\");\n                ga.type = \"text/javascript\";\n                ga.async = true;\n                ga.src = (\"https:\" == document.location.protocol ? \"https://ssl\" : \"http://www\") + \".google-analytics.com/ga.js\";\n                var s = document.getElementsByTagName(\"script\")[0];\n                s.parentNode.insertBefore(ga, s);\n            })();\n        }\n    },\n\n    componentDidUpdate: function() {\n        // This mounted component is only going to be updated when changing this.props.showAnatomogram, so we only take\n        // care of the anatomogram, the legend and the sticky header (the last two through an event)\n        var $anatomogram = $(ReactDOM.findDOMNode(this.refs.anatomogramEnsembl));\n\n        if (this.props.showAnatomogram) {\n            $anatomogram.hcSticky({responsive: true});\n        }\n\n        $(window).trigger(\"gxaResizeHeatmapAnatomogramHeader\");\n    },\n    componentWillUnmount: function() {\n        this.serverRequest.abort();\n    }\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = HeatmapAnatomogramContainer;\n\n\n/** WEBPACK FOOTER **\n ** ./faceted-search/~/heatmap-anatomogram/src/heatmap-anatomogram-container.jsx\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nmodule.exports = require('./src/Anatomogram.jsx');\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/heatmap-anatomogram/~/anatomogram/index.js\n ** module id = 1037\n ** module chunks = 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\n\nvar $ = require('jquery');\nrequire('jquery-hc-sticky');\nrequire('jquery-ui-bundle');\n\nvar Snap = require('imports-loader?this=>window,fix=>module.exports=0!snapsvg/dist/snap.svg.js');\n\nvar EventEmitter = require('events');\n\n//*------------------------------------------------------------------*\n\nvar AnatomogramSelectImageButton = React.createClass({\n    propTypes: {\n        anatomogramId: React.PropTypes.string.isRequired,\n        selected: React.PropTypes.bool.isRequired,\n        toggleSrcTemplate: React.PropTypes.string.isRequired,\n        onClick: React.PropTypes.func.isRequired\n    },\n\n    render: function() {\n        var selectedToggleSrc = this.props.toggleSrcTemplate + \"_selected.png\",\n            unselectedToggleSrc = this.props.toggleSrcTemplate + \"_unselected.png\";\n\n        return(\n            <div>\n                <img ref=\"toggleButton\" onClick={this._onClick} src={this.props.selected ? selectedToggleSrc : unselectedToggleSrc}\n                     style={{width: \"20px\", height: \"20px\", padding: \"2px\"}}/>\n            </div>\n        );\n    },\n\n    componentDidMount: function() {\n        $(ReactDOM.findDOMNode(this.refs.toggleButton)).button();\n    },\n\n    _onClick: function() {\n        this.props.onClick(this.props.anatomogramId);\n    }\n});\n\n\nvar AnatomogramSelectImageButtons = React.createClass({\n    propTypes: {\n        selectedId: React.PropTypes.string.isRequired,\n        availableAnatomograms: React.PropTypes.array.isRequired,\n        onClick: React.PropTypes.func.isRequired\n    },\n\n    render: function() {\n        if (this.props.availableAnatomograms.length > 1) {\n            var selectedId = this.props.selectedId,\n                onClick = this.props.onClick;\n            var anatomogramSelectImageButtons = this.props.availableAnatomograms.map(function(availableAnatomogram) {\n               return(\n                   <AnatomogramSelectImageButton key={availableAnatomogram.id + \"_toggle\"}\n                    anatomogramId={availableAnatomogram.id} selected={selectedId === availableAnatomogram.id} toggleSrcTemplate={availableAnatomogram.toggleSrcTemplate} onClick={onClick}/>\n               )\n            });\n\n            return (\n                <span>\n                    {anatomogramSelectImageButtons}\n                </span>\n            );\n\n        } else {\n            return (\n                null\n            )\n        }\n    }\n\n});\n\n\nvar Anatomogram = React.createClass({\n    /*\n     E.g. of profileRows:\n     {\"id\":\"ENSMUSG00000029019\",\"name\":\"Nppb\",\"expressions\":[{\"factorName\":\"heart\",\"color\":\"#C0C0C0\",\"value\":\"152\",\"svgPathId\":\"UBERON_0000948\"},{\"factorName\":\"hippocampus\",\"color\":\"\",\"value\":\"\",\"svgPathId\":\"EFO_0000530\"},{\"factorName\":\"liver\",\"color\":\"\",\"value\":\"\",\"svgPathId\":\"UBERON_0002107\"},{\"factorName\":\"lung\",\"color\":\"\",\"value\":\"\",\"svgPathId\":\"UBERON_0002048\"},{\"factorName\":\"spleen\",\"color\":\"\",\"value\":\"\",\"svgPathId\":\"UBERON_0002106\"},{\"factorName\":\"thymus\",\"color\":\"\",\"value\":\"\",\"svgPathId\":\"UBERON_0002370\"}]},\n     {\"id\":\"ENSMUSG00000027350\",\"name\":\"Chgb\",\"expressions\":[{\"factorName\":\"heart\",\"color\":\"\",\"value\":\"\",\"svgPathId\":\"UBERON_0000948\"},{\"factorName\":\"hippocampus\",\"color\":\"#C0C0C0\",\"value\":\"148\",\"svgPathId\":\"EFO_0000530\"},{\"factorName\":\"liver\",\"color\":\"\",\"value\":\"\",\"svgPathId\":\"UBERON_0002107\"},{\"factorName\":\"lung\",\"color\":\"\",\"value\":\"\",\"svgPathId\":\"UBERON_0002048\"},{\"factorName\":\"spleen\",\"color\":\"\",\"value\":\"\",\"svgPathId\":\"UBERON_0002106\"},{\"factorName\":\"thymus\",\"color\":\"\",\"value\":\"\",\"svgPathId\":\"UBERON_0002370\"}]},\n     {\"id\":\"ENSMUSG00000033981\",\"name\":\"Gria2\",\"expressions\":[{\"factorName\":\"heart\",\"color\":\"\",\"value\":\"\",\"svgPathId\":\"UBERON_0000948\"},{\"factorName\":\"hippocampus\",\"color\":\"#C0C0C0\",\"value\":\"140\",\"svgPathId\":\"EFO_0000530\"},{\"factorName\":\"liver\",\"color\":\"\",\"value\":\"\",\"svgPathId\":\"UBERON_0002107\"},{\"factorName\":\"lung\",\"color\":\"\",\"value\":\"\",\"svgPathId\":\"UBERON_0002048\"},{\"factorName\":\"spleen\",\"color\":\"\",\"value\":\"\",\"svgPathId\":\"UBERON_0002106\"},{\"factorName\":\"thymus\",\"color\":\"\",\"value\":\"\",\"svgPathId\":\"UBERON_0002370\"}]},\n     {\"id\":\"ENSMUSG00000026368\",\"name\":\"F13b\",\"expressions\":[{\"factorName\":\"heart\",\"color\":\"\",\"value\":\"\",\"svgPathId\":\"UBERON_0000948\"},{\"factorName\":\"hippocampus\",\"color\":\"\",\"value\":\"\",\"svgPathId\":\"EFO_0000530\"},{\"factorName\":\"liver\",\"color\":\"#C0C0C0\",\"value\":\"136\",\"svgPathId\":\"UBERON_0002107\"},{\"factorName\":\"lung\",\"color\":\"\",\"value\":\"\",\"svgPathId\":\"UBERON_0002048\"},{\"factorName\":\"spleen\",\"color\":\"\",\"value\":\"\",\"svgPathId\":\"UBERON_0002106\"},{\"factorName\":\"thymus\",\"color\":\"\",\"value\":\"\",\"svgPathId\":\"UBERON_0002370\"}]},\n     {\"id\":\"ENSMUSG00000039278\",\"name\":\"Pcsk1n\",\"expressions\":[{\"factorName\":\"heart\",\"color\":\"\",\"value\":\"\",\"svgPathId\":\"UBERON_0000948\"},{\"factorName\":\"hippocampus\",\"color\":\"#C0C0C0\",\"value\":\"132\",\"svgPathId\":\"EFO_0000530\"},{\"factorName\":\"liver\",\"color\":\"\",\"value\":\"\",\"svgPathId\":\"UBERON_0002107\"},{\"factorName\":\"lung\",\"color\":\"\",\"value\":\"\",\"svgPathId\":\"UBERON_0002048\"},{\"factorName\":\"spleen\",\"color\":\"\",\"value\":\"\",\"svgPathId\":\"UBERON_0002106\"},{\"factorName\":\"thymus\",\"color\":\"\",\"value\":\"\",\"svgPathId\":\"UBERON_0002370\"}]},\n     {\"id\":\"ENSMUSG00000090298\",\"name\":\"Gm4794\",\"expressions\":[{\"factorName\":\"heart\",\"color\":\"\",\"value\":\"\",\"svgPathId\":\"UBERON_0000948\"},{\"factorName\":\"hippocampus\",\"color\":\"\",\"value\":\"\",\"svgPathId\":\"EFO_0000530\"},{\"factorName\":\"liver\",\"color\":\"#C0C0C0\",\"value\":\"132\",\"svgPathId\":\"UBERON_0002107\"},{\"factorName\":\"lung\",\"color\":\"\",\"value\":\"\",\"svgPathId\":\"UBERON_0002048\"},{\"factorName\":\"spleen\",\"color\":\"\",\"value\":\"\",\"svgPathId\":\"UBERON_0002106\"},{\"factorName\":\"thymus\",\"color\":\"\",\"value\":\"\",\"svgPathId\":\"UBERON_0002370\"}]},\n     {\"id\":\"ENSMUSG00000002500\",\"name\":\"Rpl3l\",\"expressions\":[{\"factorName\":\"heart\",\"color\":\"#C0C0C0\",\"value\":\"127\",\"svgPathId\":\"UBERON_0000948\"},{\"factorName\":\"hippocampus\",\"color\":\"\",\"value\":\"\",\"svgPathId\":\"EFO_0000530\"},{\"factorName\":\"liver\",\"color\":\"\",\"value\":\"\",\"svgPathId\":\"UBERON_0002107\"},{\"factorName\":\"lung\",\"color\":\"\",\"value\":\"\",\"svgPathId\":\"UBERON_0002048\"},{\"factorName\":\"spleen\",\"color\":\"\",\"value\":\"\",\"svgPathId\":\"UBERON_0002106\"},{\"factorName\":\"thymus\",\"color\":\"\",\"value\":\"\",\"svgPathId\":\"UBERON_0002370\"}]},\n     {\"id\":\"ENSMUSG00000029158\",\"name\":\"Yipf7\",\"expressions\":[{\"factorName\":\"heart\",\"color\":\"#C0C0C0\",\"value\":\"123\",\"svgPathId\":\"UBERON_0000948\"},{\"factorName\":\"hippocampus\",\"color\":\"\",\"value\":\"\",\"svgPathId\":\"EFO_0000530\"},{\"factorName\":\"liver\",\"color\":\"\",\"value\":\"\",\"svgPathId\":\"UBERON_0002107\"},{\"factorName\":\"lung\",\"color\":\"\",\"value\":\"\",\"svgPathId\":\"UBERON_0002048\"},{\"factorName\":\"spleen\",\"color\":\"\",\"value\":\"\",\"svgPathId\":\"UBERON_0002106\"},{\"factorName\":\"thymus\",\"color\":\"\",\"value\":\"\",\"svgPathId\":\"UBERON_0002370\"}]},\n     */\n    propTypes: {\n        anatomogramData: React.PropTypes.object.isRequired,\n        expressedTissueColour: React.PropTypes.string.isRequired,\n        hoveredTissueColour: React.PropTypes.string.isRequired,\n        profileRows: React.PropTypes.arrayOf(\n            React.PropTypes.shape({\n                id: React.PropTypes.string,\n                name: React.PropTypes.string.isRequired,\n                expressions: React.PropTypes.arrayOf(\n                    React.PropTypes.shape({\n                        factorName: React.PropTypes.string,\n                        color: React.PropTypes.string,\n                        value: React.PropTypes.string.isRequired,\n                        svgPathId: React.PropTypes.string\n                    })\n                ).isRequired\n            })\n        ).isRequired,\n        eventEmitter: React.PropTypes.instanceOf(EventEmitter),\n        atlasBaseURL: React.PropTypes.string.isRequired\n    },\n\n    getInitialState: function() {\n\n        var availableAnatomograms = [];\n        if (this.props.anatomogramData.maleAnatomogramFile) {\n            availableAnatomograms.push(\n                {id: \"male\",\n                 anatomogramFile: this.props.atlasBaseURL + \"/resources/svg/\" + this.props.anatomogramData.maleAnatomogramFile,\n                 toggleSrcTemplate: this.props.atlasBaseURL + this.props.anatomogramData.toggleButtonMaleImageTemplate}\n            );\n        }\n        if (this.props.anatomogramData.femaleAnatomogramFile) {\n            availableAnatomograms.push(\n                {id: \"female\",\n                 anatomogramFile: this.props.atlasBaseURL + \"/resources/svg/\" + this.props.anatomogramData.femaleAnatomogramFile,\n                 toggleSrcTemplate: this.props.atlasBaseURL + this.props.anatomogramData.toggleButtonFemaleImageTemplate}\n            );\n        }\n        if (this.props.anatomogramData.brainAnatomogramFile) {\n            availableAnatomograms.push(\n                {id: \"brain\",\n                 anatomogramFile: this.props.atlasBaseURL + \"/resources/svg/\" + this.props.anatomogramData.brainAnatomogramFile,\n                 toggleSrcTemplate: this.props.atlasBaseURL + this.props.anatomogramData.toggleButtonBrainImageTemplate}\n            );\n        }\n\n\n        var allExpressedFactors = [],\n            expressedFactorsPerRow = {};\n        this.props.profileRows.forEach(function(profileRow) {\n            var expressedFactors = [];\n            profileRow.expressions.forEach(function(expression) {\n                if (expression.value !== \"NT\" && expression.value !== \"\") {\n                    expressedFactors.push(expression.svgPathId);\n                }\n            });\n            expressedFactorsPerRow[profileRow.name] = expressedFactors;\n            allExpressedFactors = allExpressedFactors.concat(expressedFactors);\n        });\n\n        function onlyUnique(value, index, self) {\n            return self.indexOf(value) === index;\n        }\n\n        return {\n            selectedId: availableAnatomograms[0].id,\n            availableAnatomograms: availableAnatomograms,\n            expressedFactors: allExpressedFactors.filter(onlyUnique),\n            expressedFactorsPerRow: expressedFactorsPerRow,\n            hoveredPathId: null,\n            hoveredRowId: null\n        }\n    },\n\n    render: function () {\n        function containsHuman(str) {\n            return str.indexOf(\"human\") > -1;\n        }\n\n        var height = containsHuman(this.props.anatomogramData.maleAnatomogramFile) ? \"360\" : \"250\";\n\n        return (\n            <div className=\"gxaAnatomogram\" style={{display: \"table\", paddingTop: \"4px\"}}>\n                <div style={{display: \"table-row\"}}>\n                    <div style={{display: \"table-cell\", verticalAlign: \"top\"}}>\n                        <AnatomogramSelectImageButtons selectedId={this.state.selectedId} availableAnatomograms={this.state.availableAnatomograms} onClick={this._handleChange}/>\n                    </div>\n\n                    <svg ref=\"anatomogram\" style={{display: \"table-cell\", width: \"230px\", height:height + \"px\"}}>\n                    </svg>\n                </div>\n            </div>\n        );\n    },\n\n    componentDidMount: function() {\n        this.props.eventEmitter.addListener(\"gxaHeatmapColumnHoverChange\", this._highlightPath);\n        this.props.eventEmitter.addListener(\"gxaHeatmapRowHoverChange\", this._highlightRow);\n        this._loadAnatomogram(this._getAnatomogramSVGFile(this.state.selectedId));\n    },\n\n    // Only displays/highlights the relevant tissues to avoid loading the anatomogram every time we hover over a tissue or a factor header\n    componentDidUpdate: function() {\n        var svg = Snap(ReactDOM.findDOMNode(this.refs.anatomogram)).select(\"g\");\n        this._displayAllOrganismParts(svg);\n    },\n\n    _handleChange: function(newSelectedId) {\n        if (newSelectedId !== this.state.selectedId) {\n            this._loadAnatomogram(this._getAnatomogramSVGFile(newSelectedId));\n            this.setState({selectedId: newSelectedId});\n        }\n    },\n\n    // TODO We could manually highlight un-highlight the affected tissues instead of re-displaying all of them, as setState triggers componentDidUpdate\n    _highlightPath: function(svgPathId) {\n        this.setState({hoveredPathId: svgPathId});\n    },\n\n    _highlightRow: function(rowId) {\n        this.setState({hoveredRowId: rowId});\n\n    },\n\n    _getAnatomogramSVGFile: function(id) {\n        for (var i = 0 ; i < this.state.availableAnatomograms.length ; i++) {\n            if (id === this.state.availableAnatomograms[i].id) {\n                return this.state.availableAnatomograms[i].anatomogramFile;\n            }\n        }\n    },\n\n    _loadAnatomogram: function(svgFile) {\n\n        var svgCanvas = Snap(ReactDOM.findDOMNode(this.refs.anatomogram)),\n            allElements = svgCanvas.selectAll(\"*\");\n\n        if (allElements) {\n            allElements.remove();\n        }\n\n        var displayAllOrganismPartsCallback = this._displayAllOrganismParts;\n        var registerHoverEventsCallback = this._registerHoverEvents;\n        Snap.load(\n            svgFile,\n            function (fragment) {\n                var g = fragment.select(\"g\");\n                g.transform(\"S1.6,0,0\");\n                displayAllOrganismPartsCallback(g);\n                registerHoverEventsCallback(g);\n                svgCanvas.append(g);\n            }\n        );\n    },\n\n    _displayAllOrganismParts: function(svg) {\n        if (svg) {  // Sometimes svg is null... why?\n            this.props.anatomogramData.allSvgPathIds.forEach(function(svgPathId) {\n                this._displayOrganismPartsWithDefaultProperties(svg, svgPathId);\n            }, this);\n        }\n    },\n\n    _hoveredRowContainsPathId: function(svgPathId) {\n        if (!this.state.hoveredRowId) {\n            return false;\n        }\n\n        return (this.state.expressedFactorsPerRow[this.state.hoveredRowId].indexOf(svgPathId) > -1);\n    },\n\n    _displayOrganismPartsWithDefaultProperties: function(svg, svgPathId) {\n\n        var colour = this.props.expressedTissueColour;\n        if (this.state.hoveredPathId === svgPathId || this._hoveredRowContainsPathId(svgPathId))  {\n            colour = this.props.hoveredTissueColour;\n        }\n\n        if (this.state.expressedFactors.indexOf(svgPathId) > -1) {\n            this._highlightOrganismParts(svg, svgPathId, colour, 0.7);\n        } else {\n            this._highlightOrganismParts(svg, svgPathId, \"gray\", 0.5);\n        }\n    },\n\n    _highlightOrganismParts: function(svg, svgPathId, colour, opacity) {\n        Anatomogram._recursivelyChangeProperties(svg.select(\"#\" + svgPathId), colour, opacity);\n    },\n\n    _registerHoverEvents: function(svg) {\n        if (svg) {  // Sometimes svg is null... why?\n\n            var eventEmitter = this.props.eventEmitter,\n                hoverColour = this.props.hoveredTissueColour,\n                highlightOrganismPartsCallback = this._highlightOrganismParts,\n                displayOrganismPartsWithDefaultPropertiesCallback = this._displayOrganismPartsWithDefaultProperties;\n            var mouseoverCallback = function(svgPathId) {\n                highlightOrganismPartsCallback(svg, svgPathId, hoverColour, 0.7);\n                eventEmitter.emit('gxaAnatomogramTissueMouseEnter', svgPathId);\n            };\n            var mouseoutCallback = function(svgPathId) {\n                displayOrganismPartsWithDefaultPropertiesCallback(svg, svgPathId);\n                eventEmitter.emit('gxaAnatomogramTissueMouseLeave', svgPathId);\n            };\n\n            this.props.anatomogramData.allSvgPathIds.forEach(function(svgPathId) {\n                var svgElement = svg.select(\"#\" + svgPathId);\n                if (svgElement) {\n                    svgElement.mouseover(function() {mouseoverCallback(svgPathId)});\n                    svgElement.mouseout(function() {mouseoutCallback(svgPathId)});\n                }\n            }, this);\n        }\n    },\n\n    statics: {\n        _recursivelyChangeProperties: function(svgElement, colour, opacity) {\n\n            if (svgElement) {\n                var innerElements = svgElement.selectAll(\"*\");\n\n                if (innerElements.length > 0) {\n                    innerElements.forEach(function(innerElement) {\n                        Anatomogram._recursivelyChangeProperties(innerElement);\n                    });\n                }\n\n                svgElement.attr({\"fill\": colour, \"fill-opacity\": opacity});\n            }\n        },\n\n        _recursivelySelectElements: function(svgElement) {\n            if (!svgElement) {\n                return [];\n            }\n\n            var innerElements = svgElement.selectAll(\"*\");\n            if (innerElements.length === 0) {\n                return [svgElement];\n            } else {\n                var allElements = [];\n                innerElements.forEach(function(innerElement) {\n                    allElements = allElements.concat(Anatomogram._recursivelySelectElements(innerElement));\n                });\n                return allElements;\n            }\n        }\n    }\n\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = Anatomogram;\n\n\n\n/** WEBPACK FOOTER **\n ** ./faceted-search/~/heatmap-anatomogram/~/anatomogram/src/Anatomogram.jsx\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\nvar ReactDOMServer = require('react-dom/server');\nvar RadioGroup = require('react-radio-group');\n\nvar $ = require('jquery');\n\nrequire('jquery-ui-bundle');\nrequire('jquery.browser');\nrequire('jquery-hc-sticky');\nrequire('atlas-modernizr');  // Leaks Modernizr to the global window namespace\n\nrequire('fancybox')($);\nrequire('fancybox/dist/css/jquery.fancybox.css');\n\nrequire('jquery-toolbar');\nrequire('jquery-toolbar/jquery.toolbar.css');\nrequire('./jquery-toolbar-white.css');\n\n//*------------------------------------------------------------------*\n\nvar HeatmapBaselineCellVariance = require('heatmap-baseline-cell-variance');\nvar Legend = require('legend');\nvar LegendBaseline = Legend.LegendBaseline;\nvar LegendDifferential = Legend.LegendDifferential;\nvar CellDifferential = require('cell-differential');\nvar DisplayLevelsButton = require('display-levels-button');\nvar NumberFormat = require('number-format');\nvar HelpTooltips = require('help-tooltips');\nvar ContrastTooltips = require('contrast-tooltips');\n\nvar GenePropertiesTooltipModule = require('./gene-properties-tooltip-module.js');\nvar FactorTooltipModule = require('./factor-tooltip-module.js');\n\nvar StickyHeaderModule = require('./sticky-header-module.js');\nrequire('./sticky-header-module.css');\n\n//*------------------------------------------------------------------*\n\nrequire('./heatmap.css');\n\n//*------------------------------------------------------------------*\n\nvar Heatmap = React.createClass({\n\n    propTypes: {\n        type: React.PropTypes.shape({\n            isBaseline: React.PropTypes.bool,\n            isProteomics: React.PropTypes.bool,\n            isDifferential: React.PropTypes.bool,\n            isMultiExperiment: React.PropTypes.bool,\n            heatmapTooltip: React.PropTypes.string.isRequired\n        }),\n        heatmapConfig: React.PropTypes.object.isRequired,\n        columnHeaders: React.PropTypes.oneOfType([\n            React.PropTypes.arrayOf(React.PropTypes.shape({\n                assayGroupId: React.PropTypes.string.isRequired,\n                factorValue: React.PropTypes.string.isRequired,\n                factorValueOntologyTermId: React.PropTypes.string\n            })),\n            React.PropTypes.arrayOf(React.PropTypes.shape({\n                id: React.PropTypes.string.isRequired,\n                referenceAssayGroup: React.PropTypes.shape({\n                    id: React.PropTypes.string.isRequired,\n                    assayAccessions: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n                    replicates: React.PropTypes.number.isRequired\n                }).isRequired,\n                testAssayGroup: React.PropTypes.shape({\n                    id: React.PropTypes.string.isRequired,\n                    assayAccessions: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n                    replicates: React.PropTypes.number.isRequired\n                }).isRequired,\n                displayName: React.PropTypes.string.isRequired\n            }))\n        ]).isRequired,\n        nonExpressedColumnHeaders: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n        profiles: React.PropTypes.object.isRequired,\n        geneSetProfiles: React.PropTypes.object,\n        prefFormDisplayLevels: React.PropTypes.object,\n        ensemblEventEmitter: React.PropTypes.object,\n        anatomogramEventEmitter: React.PropTypes.object,\n        googleAnalytics: React.PropTypes.bool,\n        atlasBaseURL: React.PropTypes.string.isRequired,\n        linksAtlasBaseURL: React.PropTypes.string.isRequired\n    },\n\n    getInitialState: function () {\n        var displayLevels = this.props.prefFormDisplayLevels ? (this.props.prefFormDisplayLevels.val() === \"true\") : false;\n\n        return {\n            showGeneSetProfiles: false,\n            displayLevels: displayLevels,\n            profiles: this.props.profiles,\n            selectedColumnId: null,\n            selectedGeneId: null,\n            hoveredColumnId: null,\n            hoveredGeneId: null,\n            selectedRadioButton: \"gradients\"\n        };\n    },\n\n    _hoverColumn: function(columnId) {\n        this.setState({hoveredColumnId: columnId}, function() {\n            this.props.anatomogramEventEmitter.emit('gxaHeatmapColumnHoverChange', columnId);\n        });\n    },\n\n    _hoverRow: function(rowId) {\n        this.setState({hoveredRowId: rowId}, function() {\n            this.props.anatomogramEventEmitter.emit('gxaHeatmapRowHoverChange', rowId);\n        });\n    },\n\n    selectColumn: function (columnId) {\n        var selectedColumnId = (columnId === this.state.selectedColumnId) ? null : columnId;\n        this.setState({selectedColumnId: selectedColumnId}, function() {\n            this.props.ensemblEventEmitter.emit('onColumnSelectionChange', selectedColumnId);\n        });\n    },\n\n    selectGene: function (geneId) {\n        var selectedGeneId = (geneId === this.state.selectedGeneId) ? null : geneId;\n        this.setState({selectedGeneId: selectedGeneId}, function() {\n            this.props.ensemblEventEmitter.emit('onGeneSelectionChange', selectedGeneId);\n        });\n    },\n\n    toggleGeneSets: function () {\n        var newProfiles = this.state.showGeneSetProfiles ? this.props.profiles : this.props.geneSetProfiles;\n        this.setState({showGeneSetProfiles: !this.state.showGeneSetProfiles, profiles: newProfiles});\n    },\n\n    toggleDisplayLevels: function () {\n        var newDisplayLevels = !this.state.displayLevels;\n        this.setState({displayLevels: newDisplayLevels});\n        if (this.props.prefFormDisplayLevels) {\n            this.props.prefFormDisplayLevels.val(newDisplayLevels);\n        }\n        $(window).resize();\n    },\n\n    toggleRadioButton: function(newSelected) {\n        this.setState({selectedRadioButton: newSelected});\n        this.setState({displayLevels: (newSelected === \"levels\")}); //update the LegendType\n    },\n\n    isMicroarray: function () {\n        return !(typeof(this.props.profiles.rows[0].designElement) === \"undefined\");\n    },\n\n    hasQuartiles: function() {\n        var hasQuartiles = false;\n        for(var i=0; i < this.props.profiles.rows[0].expressions.length; i++) {\n            if(this.props.profiles.rows[0].expressions[i].quartiles != undefined) {\n                hasQuartiles = true;\n                break;\n            }\n        }\n        return hasQuartiles;\n    },\n\n    isSingleGeneResult: function () {\n        return (this.props.profiles.rows.length == 1);\n    },\n\n    componentDidMount: function() {\n        var table\t        = ReactDOM.findDOMNode(this.refs.heatmapTable),\n            stickyIntersect = ReactDOM.findDOMNode(this.refs.stickyIntersect),\n            stickyColumn    = ReactDOM.findDOMNode(this.refs.stickyColumn),\n            stickyHeadRow   = ReactDOM.findDOMNode(this.refs.stickyHeader),\n            stickyWrap      = ReactDOM.findDOMNode(this.refs.stickyWrap),\n            countAndLegend  = ReactDOM.findDOMNode(this.refs.countAndLegend);\n\n        var stickyHeader = StickyHeaderModule(table, stickyIntersect, stickyColumn, stickyHeadRow, stickyWrap, countAndLegend);\n\n        stickyHeader.setWidthsAndReposition();\n        $(countAndLegend).hcSticky({bottomEnd: stickyHeader.calculateAllowance()});\n\n        $(stickyWrap).scroll(stickyHeader.stickyReposition);\n        $(window).resize(stickyHeader.setWidthsAndReposition)\n                 .scroll(stickyHeader.stickyReposition)\n                 .on(\n                     \"gxaResizeHeatmapAnatomogramHeader\",\n                     function() {\n                         stickyHeader.setWidthAndHeight();\n                         $(countAndLegend).hcSticky(\"resize\");\n                     }\n                 );\n    },\n\n    legendType: function () {\n        return (this.props.type.isBaseline || this.props.type.isMultiExperiment ?\n            <LegendBaseline atlasBaseURL={this.props.atlasBaseURL}\n                                   minExpressionLevel={this.state.profiles.minExpressionLevel.toString()}\n                                   maxExpressionLevel={this.state.profiles.maxExpressionLevel.toString()}\n                                   isMultiExperiment={this.props.type.isMultiExperiment ? true : false}/> :\n            <LegendDifferential atlasBaseURL={this.props.atlasBaseURL}\n                                       minDownLevel={this.state.profiles.minDownLevel.toString()}\n                                       maxDownLevel={this.state.profiles.maxDownLevel.toString()}\n                                       minUpLevel={this.state.profiles.minUpLevel.toString()}\n                                       maxUpLevel={this.state.profiles.maxUpLevel.toString()}/>);\n    },\n\n    render: function () {\n        var paddingMargin = \"15px\";\n\n        return (\n            <div>\n\n                <div ref=\"countAndLegend\" className=\"gxaHeatmapCountAndLegend\" style={{\"paddingBottom\": paddingMargin, \"position\": \"sticky\"}}>\n                    <div style={{display: \"inline-block\", 'verticalAlign': \"top\"}}>\n                        {this.props.type.isMultiExperiment ? <span id=\"geneCount\">Showing {this.state.profiles.rows.length} of {this.state.profiles.searchResultTotal} experiments found: </span> :\n                            <span id=\"geneCount\">Showing {this.state.profiles.rows.length} of {this.state.profiles.searchResultTotal} {this.state.showGeneSetProfiles ? 'gene sets' : 'genes' } found: </span> }\n                        {this.props.geneSetProfiles && !this.props.type.isMultiExperiment ? <a href=\"javascript:void(0)\" onClick={this.toggleGeneSets}>{this.state.showGeneSetProfiles ? '(show individual genes)' : '(show by gene set)'}</a> : ''}\n                    </div>\n                    <div style={{display: \"inline-block\", \"paddingLeft\": \"10px\", \"verticalAlign\": \"top\"}}>\n                        <DownloadProfilesButton ref=\"downloadProfilesButton\"\n                                                downloadProfilesURL={this.props.heatmapConfig.downloadProfilesURL}\n                                                atlasBaseURL={this.props.atlasBaseURL}/>\n                    </div>\n                    <div style={{display: \"inline-block\", \"paddingLeft\": \"20px\"}}>\n                        {this.legendType()}\n                    </div>\n                </div>\n\n                <div ref=\"stickyWrap\" className=\"gxaStickyTableWrap\" style={{\"marginTop\": paddingMargin}}>\n                    <table ref=\"heatmapTable\" className=\"gxaTableGrid gxaStickyEnabled\" id=\"heatmap-table\">\n                        <HeatmapTableHeader ref=\"heatmapTableHeader\"\n                                            radioId=\"table\"\n                                            isMicroarray={this.isMicroarray()}\n                                            hasQuartiles={this.hasQuartiles()}\n                                            isSingleGeneResult={this.isSingleGeneResult()}\n                                            type={this.props.type}\n                                            columnHeaders={this.props.columnHeaders}\n                                            nonExpressedColumnHeaders={this.props.nonExpressedColumnHeaders}\n                                            multipleColumnHeaders={this.props.multipleColumnHeaders}\n                                            selectedColumnId={this.state.selectedColumnId}\n                                            selectColumn={this.selectColumn}\n                                            hoverColumnCallback={this._hoverColumn}\n                                            heatmapConfig={this.props.heatmapConfig}\n                                            atlasBaseURL={this.props.atlasBaseURL}\n                                            displayLevels={this.state.displayLevels}\n                                            toggleDisplayLevels={this.toggleDisplayLevels}\n                                            showGeneSetProfiles={this.state.showGeneSetProfiles}\n                                            selectedRadioButton={this.state.selectedRadioButton}\n                                            toggleRadioButton={this.toggleRadioButton}\n                                            renderContrastFactorHeaders={true}\n                                            anatomogramEventEmitter={this.props.anatomogramEventEmitter}/>\n                        <HeatmapTableRows profiles={this.state.profiles.rows}\n                                          nonExpressedColumnHeaders={this.props.nonExpressedColumnHeaders}\n                                          selectedGeneId={this.state.selectedGeneId}\n                                          selectGene={this.selectGene}\n                                          type={this.props.type}\n                                          heatmapConfig={this.props.heatmapConfig}\n                                          atlasBaseURL={this.props.atlasBaseURL}\n                                          linksAtlasBaseURL={this.props.linksAtlasBaseURL}\n                                          displayLevels={this.state.displayLevels}\n                                          showGeneSetProfiles={this.state.showGeneSetProfiles}\n                                          selectedRadioButton={this.state.selectedRadioButton}\n                                          hoverColumnCallback={this._hoverColumn}\n                                          hoverRowCallback={this._hoverRow}\n                                          hasQuartiles={this.hasQuartiles()}\n                                          isSingleGeneResult={this.isSingleGeneResult()}\n                                          renderExpressionCells={true}/>\n                    </table>\n\n                    <div ref=\"stickyIntersect\" className=\"gxaStickyTableIntersect\">\n                        <table className=\"gxaTableGrid\">\n                            <HeatmapTableHeader isMicroarray={this.isMicroarray()}\n                                                    radioId=\"intersect\"\n                                                    hasQuartiles={this.hasQuartiles()}\n                                                    isSingleGeneResult={this.isSingleGeneResult()}\n                                                    type={this.props.type}\n                                                    columnHeaders={this.props.columnHeaders}\n                                                    nonExpressedColumnHeaders={this.props.nonExpressedColumnHeaders}\n                                                    multipleColumnHeaders={this.props.multipleColumnHeaders}\n                                                    selectedColumnId={this.state.selectedColumnId}\n                                                    selectColumn={this.selectColumn}\n                                                    heatmapConfig={this.props.heatmapConfig}\n                                                    atlasBaseURL={this.props.atlasBaseURL}\n                                                    linksAtlasBaseURL={this.props.linksAtlasBaseURL}\n                                                    displayLevels={this.state.displayLevels}\n                                                    toggleDisplayLevels={this.toggleDisplayLevels}\n                                                    showGeneSetProfiles={this.state.showGeneSetProfiles}\n                                                    selectedRadioButton={this.state.selectedRadioButton}\n                                                    toggleRadioButton={this.toggleRadioButton}\n                                                    renderContrastFactorHeaders={false}/>\n\n                        </table>\n                    </div>\n\n                    <div ref=\"stickyColumn\" className=\"gxaStickyTableColumn\">\n                        <table className=\"gxaTableGrid\">\n                            <HeatmapTableHeader isMicroarray={this.isMicroarray()}\n                                                radioId=\"column\"\n                                                hasQuartiles={this.hasQuartiles()}\n                                                isSingleGeneResult={this.isSingleGeneResult()}\n                                                columnHeaders={this.props.columnHeaders}\n                                                nonExpressedColumnHeaders={this.props.nonExpressedColumnHeaders}\n                                                type={this.props.type}\n                                                multipleColumnHeaders={this.props.multipleColumnHeaders}\n                                                selectedColumnId={this.state.selectedColumnId}\n                                                selectColumn={this.selectColumn}\n                                                heatmapConfig={this.props.heatmapConfig}\n                                                atlasBaseURL={this.props.atlasBaseURL}\n                                                displayLevels={this.state.displayLevels}\n                                                toggleDisplayLevels={this.toggleDisplayLevels}\n                                                showGeneSetProfiles={this.state.showGeneSetProfiles}\n                                                selectedRadioButton={this.state.selectedRadioButton}\n                                                toggleRadioButton={this.toggleRadioButton}\n                                                renderContrastFactorHeaders={false}/>\n                            <HeatmapTableRows profiles={this.state.profiles.rows}\n                                              nonExpressedColumnHeaders={this.props.nonExpressedColumnHeaders}\n                                              selectedGeneId={this.state.selectedGeneId}\n                                              selectGene={this.selectGene}\n                                              type={this.props.type}\n                                              heatmapConfig={this.props.heatmapConfig}\n                                              atlasBaseURL={this.props.atlasBaseURL}\n                                              linksAtlasBaseURL={this.props.linksAtlasBaseURL}\n                                              displayLevels={this.state.displayLevels}\n                                              showGeneSetProfiles={this.state.showGeneSetProfiles}\n                                              selectedRadioButton={this.state.selectedRadioButton}\n                                              hoverRowCallback={this._hoverRow}\n                                              hasQuartiles={this.hasQuartiles()}\n                                              isSingleGeneResult={this.isSingleGeneResult()}\n                                              renderExpressionCells={false}/>\n                        </table>\n                    </div>\n\n\n                    <div ref=\"stickyHeader\" className=\"gxaStickyTableHeader\">\n                        <table className=\"gxaTableGrid\">\n                            <HeatmapTableHeader isMicroarray={this.isMicroarray()}\n                                                    radioId=\"header\"\n                                                    hasQuartiles={this.hasQuartiles()}\n                                                    isSingleGeneResult={this.isSingleGeneResult()}\n                                                    hoverColumnCallback={this._hoverColumn}\n                                                    type={this.props.type}\n                                                    columnHeaders={this.props.columnHeaders}\n                                                    nonExpressedColumnHeaders={this.props.nonExpressedColumnHeaders}\n                                                    multipleColumnHeaders={this.props.multipleColumnHeaders}\n                                                    selectedColumnId={this.state.selectedColumnId}\n                                                    selectColumn={this.selectColumn}\n                                                    heatmapConfig={this.props.heatmapConfig}\n                                                    atlasBaseURL={this.props.atlasBaseURL}\n                                                    linksAtlasBaseURL={this.props.linksAtlasBaseURL}\n                                                    displayLevels={this.state.displayLevels}\n                                                    toggleDisplayLevels={this.toggleDisplayLevels}\n                                                    showGeneSetProfiles={this.state.showGeneSetProfiles}\n                                                    selectedRadioButton={this.state.selectedRadioButton}\n                                                    toggleRadioButton={this.toggleRadioButton}\n                                                    renderContrastFactorHeaders={true}\n                                                    anatomogramEventEmitter={this.props.anatomogramEventEmitter}/>\n\n                        </table>\n                    </div>\n                </div>\n\n            </div>\n        );\n    }\n\n});\n\n\nvar DownloadProfilesButton = React.createClass({\n    propTypes: {\n        atlasBaseURL: React.PropTypes.string.isRequired,\n        downloadProfilesURL: React.PropTypes.string.isRequired\n    },\n\n    render: function () {\n        var downloadURL = this.props.atlasBaseURL + this.props.downloadProfilesURL;\n        var downloadImgSrcURL = this.props.atlasBaseURL + \"/resources/images/download_blue_small.png\";\n\n        return (\n            <a id=\"download-profiles-link\" ref=\"downloadProfilesLink\" className=\"gxaNoTextButton\"\n               title=\"Download all results\"\n               href={downloadURL} target=\"_blank\">\n               <img id=\"download-profiles\" alt=\"Download query results\" style={{width: \"20px\"}} src={downloadImgSrcURL}/>\n            </a>\n        );\n    },\n\n    componentDidMount: function () {\n        var $downloadProfilesLink = $(ReactDOM.findDOMNode(this.refs.downloadProfilesLink));\n        $downloadProfilesLink.tooltip({\n            tooltipClass: \"gxaHelpTooltip\"\n        });\n        $downloadProfilesLink.button();\n        $downloadProfilesLink.addClass(\"gxaNoTextButton\");\n    }\n});\n\n\nvar HeatmapTableHeader = React.createClass({\n    propTypes: {\n        nonExpressedColumnHeaders: React.PropTypes.arrayOf(React.PropTypes.string)\n    },\n\n    renderContrastFactorHeaders: function () {\n        var heatmapConfig = this.props.heatmapConfig;\n        if (this.props.type.isBaseline) {\n            return renderFactorHeaders(heatmapConfig, this.props.atlasBaseURL, this.props.mainHeaderNames, this.props.type, this.props.columnHeaders, this.props.nonExpressedColumnHeaders, heatmapConfig.experimentAccession,\n                                        this.props.selectColumn, this.props.selectedColumnId, this.props.hoverColumnCallback, this.props.anatomogramEventEmitter);\n        }\n        else if (this.props.type.isDifferential) {\n            return (<ContrastHeaders heatmapConfig={heatmapConfig}\n                                     atlasBaseURL={this.props.atlasBaseURL}\n                                     contrasts={this.props.columnHeaders}\n                                     selectedColumnId={this.props.selectedColumnId}\n                                     selectColumn={this.props.selectColumn}\n                                     experimentAccession={heatmapConfig.experimentAccession}\n                                     showMaPlotButton={heatmapConfig.showMaPlotButton}\n                                     gseaPlots={heatmapConfig.gseaPlots}/>);\n        }\n        else if (this.props.type.isMultiExperiment) {\n            return renderFactorHeaders(heatmapConfig, this.props.atlasBaseURL, null, this.props.type, this.props.columnHeaders, this.props.nonExpressedColumnHeaders, \"\",\n                this.props.selectColumn, this.props.selectedColumnId, this.props.hoverColumnCallback, this.props.anatomogramEventEmitter);\n        }\n    },\n\n    render: function () {\n        var showGeneProfile = this.props.showGeneSetProfiles ? \"Gene set\" : \"Gene\";\n        var showExperimentProfile = this.props.type.isMultiExperiment ? \"Experiment\" : showGeneProfile;\n\n        return (\n            <thead>\n                <tr>\n                    <th className=\"gxaHorizontalHeaderCell gxaHeatmapTableIntersect\" colSpan={this.props.isMicroarray ? 2 : undefined}>\n                        <TopLeftCorner type={this.props.type}\n                                       hasQuartiles={this.props.hasQuartiles}\n                                       radioId={this.props.radioId}\n                                       isSingleGeneResult={this.props.isSingleGeneResult}\n                                       heatmapConfig={this.props.heatmapConfig}\n                                       displayLevels={this.props.displayLevels}\n                                       toggleDisplayLevels={this.props.toggleDisplayLevels}\n                                       selectedRadioButton={this.props.selectedRadioButton}\n                                       toggleRadioButton={this.props.toggleRadioButton}\n                                       atlasBaseURL={this.props.atlasBaseURL}/>\n                    </th>\n\n                    { this.props.renderContrastFactorHeaders ? this.renderContrastFactorHeaders() : null }\n                </tr>\n\n                <tr>\n                    <th className=\"gxaHorizontalHeaderCell gxaHeatmapTableIntersect\" style={ this.props.isMicroarray ? {width: \"166px\"} : {}}><div>{ showExperimentProfile }</div></th>\n                    { this.props.isMicroarray ? <th className=\"gxaHorizontalHeaderCell gxaHeatmapTableIntersect\"><div>Design Element</div></th> : null}\n                </tr>\n            </thead>\n        );\n    }\n});\n\n\nfunction restrictLabelSize(label, maxSize) {\n    var result = label;\n    if (result.length > maxSize + 1) {  // +1 to account for the extra ellipsis character appended\n        result = result.substring(0, maxSize);\n        if (result.lastIndexOf(\" \") > maxSize - 5) {\n            result = result.substring(0, result.lastIndexOf(\" \"));\n        }\n        result = result + \"\";\n    }\n    return result;\n}\n\n\nfunction renderFactorHeaders(heatmapConfig, atlasBaseURL, mainHeaderNames, type, assayGroupFactors, nonExpressedGroupFactors, experimentAccession, selectColumn,\n                             selectedColumnId, hoverColumnCallback, anatomogramEventEmitter) {\n\n    return assayGroupFactors.map(function (assayGroupFactor) {\n        return <FactorHeader key={mainHeaderNames + assayGroupFactor.factorValue}\n                             type={type}\n                             heatmapConfig={heatmapConfig}\n                             factorName={assayGroupFactor.factorValue}\n                             svgPathId={assayGroupFactor.factorValueOntologyTermId}\n                             assayGroupId={assayGroupFactor.assayGroupId}\n                             experimentAccession={experimentAccession}\n                             selectColumn={selectColumn}\n                             selected={assayGroupFactor.assayGroupId === selectedColumnId}\n                             hoverColumnCallback={hoverColumnCallback}\n                             anatomogramEventEmitter={anatomogramEventEmitter}\n                             atlasBaseURL={atlasBaseURL}/>;\n    });\n}\n\nvar FactorHeader = React.createClass({\n\n    getInitialState: function () {\n        return ({hover: false, selected: false});\n    },\n\n    onMouseEnter: function () {\n        if (this.props.heatmapConfig.enableEnsemblLauncher) {\n            this.setState({hover: true});\n        }\n        this.props.hoverColumnCallback(this.props.svgPathId);\n    },\n\n    onMouseLeave: function () {\n        if (this.props.heatmapConfig.enableEnsemblLauncher) {\n            this.setState({hover: false});\n        }\n        this.props.hoverColumnCallback(null);\n        this._closeTooltip();\n    },\n\n    _closeTooltip: function() {\n        if(!this.props.type.isMultiExperiment) {\n            $(ReactDOM.findDOMNode(this)).tooltip(\"close\");\n        }\n    },\n\n    _anatomogramTissueMouseEnter: function(svgPathId) {\n        if (svgPathId === this.props.svgPathId) {\n            $(ReactDOM.findDOMNode(this.refs.headerCell)).addClass(\"gxaHeaderHover\");\n        }\n    },\n\n    _anatomogramTissueMouseLeave: function(svgPathId) {\n        if (svgPathId === this.props.svgPathId) {\n            $(ReactDOM.findDOMNode(this.refs.headerCell)).removeClass(\"gxaHeaderHover\");\n        }\n    },\n\n    onClick: function () {\n        if (this.props.heatmapConfig.enableEnsemblLauncher) {\n            this.props.selectColumn(this.props.assayGroupId);\n        }\n    },\n\n    componentDidMount: function () {\n        if(!this.props.type.isMultiExperiment) {\n            FactorTooltipModule.init(this.props.atlasBaseURL, this.props.heatmapConfig.accessKey, ReactDOM.findDOMNode(this), this.props.experimentAccession, this.props.assayGroupId);\n        }\n        if (this.props.anatomogramEventEmitter) {\n            this.props.anatomogramEventEmitter.addListener('gxaAnatomogramTissueMouseEnter', this._anatomogramTissueMouseEnter);\n            this.props.anatomogramEventEmitter.addListener('gxaAnatomogramTissueMouseLeave', this._anatomogramTissueMouseLeave);\n        }\n    },\n\n    render: function () {\n        var showSelectTextOnHover = this.state.hover && !this.props.selected ? <span style={{position: \"absolute\", width:\"10px\", right:\"0px\", left:\"95px\", float:\"right\", color:\"green\"}}>  select</span> : null;\n        var showTickWhenSelected = this.props.selected ? <span className=\"rotate_tick\" style={{position: \"absolute\", width:\"5px\", right:\"0px\", left:\"125px\", float:\"right\", color:\"green\"}}> &#10004; </span>: null ;\n        var thClass = \"rotated_cell gxaHoverableHeader\" + (this.props.selected ? \" gxaVerticalHeaderCell-selected\" : \" gxaVerticalHeaderCell\") + (this.props.heatmapConfig.enableEnsemblLauncher ? \" gxaSelectableHeader\" : \"\");\n        var divClass = \"rotate_text factor-header\";\n        var factorName = Modernizr.csstransforms ? restrictLabelSize(this.props.factorName, 14) : this.props.factorName;\n\n        return (\n            <th ref=\"headerCell\" className={thClass} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave} onClick={this.onClick} rowSpan=\"2\">\n                <div data-assay-group-id={this.props.assayGroupId} data-experiment-accession={this.props.experimentAccession} className={divClass}>\n                    {factorName}\n                    {showSelectTextOnHover}\n                    {showTickWhenSelected}\n                </div>\n            </th>\n        );\n    }\n\n});\n\n\nvar ContrastHeaders = React.createClass({\n\n    render: function () {\n        var heatmapConfig = this.props.heatmapConfig;\n\n        var contrastHeaders = this.props.contrasts.map(function (contrast) {\n            var gseaPlotsThisContrast = this.props.gseaPlots ? this.props.gseaPlots[contrast.id] : {go: false, interpro: false, reactome: false};\n            return <ContrastHeader key={contrast.id}\n                                   heatmapConfig={heatmapConfig}\n                                   atlasBaseURL={this.props.atlasBaseURL}\n                                   selectColumn={this.props.selectColumn}\n                                   selected={contrast.id === this.props.selectedColumnId}\n                                   contrastName={contrast.displayName} arrayDesignAccession={contrast.arrayDesignAccession}\n                                   contrastId={contrast.id} experimentAccession={this.props.experimentAccession}\n                                   showMaPlotButton={this.props.showMaPlotButton}\n                                   showGseaGoPlot={gseaPlotsThisContrast.go}\n                                   showGseaInterproPlot={gseaPlotsThisContrast.interpro}\n                                   showGseaReactomePlot={gseaPlotsThisContrast.reactome}/>;\n        }.bind(this));\n\n        return (\n            <div>{contrastHeaders}</div>\n        );\n    }\n\n});\n\n\nvar ContrastHeader = React.createClass({\n\n    getInitialState: function () {\n        return ({hover:false, selected:false});\n    },\n\n    onMouseEnter: function () {\n        this.setState({hover:true});\n    },\n\n    onMouseLeave: function () {\n        this.setState({hover:false});\n        this._closeTooltip();\n    },\n\n    _closeTooltip: function() {\n        $(ReactDOM.findDOMNode(this)).tooltip(\"close\");\n    },\n\n    onClick: function () {\n        this.props.selectColumn(this.props.contrastId);\n    },\n\n    componentDidMount: function () {\n        ContrastTooltips(this.props.atlasBaseURL, this.props.heatmapConfig.accessKey, ReactDOM.findDOMNode(this), this.props.experimentAccession, this.props.contrastId);\n\n        if (this.showPlotsButton()) {\n            this.renderToolBarContent(ReactDOM.findDOMNode(this.refs.plotsToolBarContent));\n\n            var $plotsButton = $(ReactDOM.findDOMNode(this.refs.plotsButton));\n            $plotsButton.tooltip({\n                hide: false,\n                show: false,\n                tooltipClass: \"gxaHelpTooltip\"\n            }).button();\n            $plotsButton.toolbar({\n                content: ReactDOM.findDOMNode(this.refs.plotsToolBarContent),\n                position: \"right\",\n                style: \"white\",\n                event: \"click\",\n                hideOnClick: true\n            });\n            $plotsButton.addClass(\"gxaNoTextButton\");\n        }\n    },\n\n    renderToolBarContent: function(contentNode) {\n\n        var $contentNode = $(contentNode);\n\n        var maPlotURL = this.props.atlasBaseURL + \"/external-resources/\" + this.props.experimentAccession + '/' + (this.props.arrayDesignAccession ? this.props.arrayDesignAccession + \"/\" : \"\" ) + this.props.contrastId + \"/ma-plot.png\";\n        var maPlotImgSrcURL = this.props.atlasBaseURL + \"/resources/images/maplot-button.png\";\n\n        var gseaGoPlotURL = this.props.atlasBaseURL + \"/external-resources/\" + this.props.experimentAccession + '/' + this.props.contrastId + \"/gsea_go.png\";\n        var gseaGoPlotImgSrcURL = this.props.atlasBaseURL + \"/resources/images/gsea-go-button.png\";\n\n        var gseaInterproPlotURL = this.props.atlasBaseURL + \"/external-resources/\" + this.props.experimentAccession + '/' + this.props.contrastId + \"/gsea_interpro.png\";\n        var gseaInterproImgSrcURL = this.props.atlasBaseURL + '/resources/images/gsea-interpro-button.png';\n\n        var gseaReactomePlotURL = this.props.atlasBaseURL + \"/external-resources/\" + this.props.experimentAccession + '/' + this.props.contrastId + \"/gsea_reactome.png\";\n        var gseaReactomePlotImgSrcURL = this.props.atlasBaseURL + \"/resources/images/gsea-reactome-button.png\";\n\n        var content =\n            <div>\n                {this.props.showMaPlotButton ? <a href={maPlotURL} id=\"maButtonID\" title=\"Click to view MA plot for the contrast across all genes\" onClick={this.clickButton}><img src={maPlotImgSrcURL} /></a> : null }\n                {this.props.showGseaGoPlot ? <a href={gseaGoPlotURL} id=\"goButtonID\" title=\"Click to view GO terms enrichment analysis plot\" onClick={this.clickButton}><img src={gseaGoPlotImgSrcURL} /></a> : null }\n                {this.props.showGseaInterproPlot ? <a href={gseaInterproPlotURL} id=\"interproButtonID\" title=\"Click to view Interpro domains enrichment analysis plot\" onClick={this.clickButton}><img src={gseaInterproImgSrcURL} /></a> : null }\n                {this.props.showGseaReactomePlot ? <a href={gseaReactomePlotURL} id=\"reactomeButtonID\" title=\"Click to view Reactome pathways enrichment analysis plot\" onClick={this.clickButton}><img src={gseaReactomePlotImgSrcURL} /></a> : null }\n            </div>;\n\n        // the tool bar content will be copied around the DOM by the toolbar plugin\n        // so we render using static markup because otherwise when copied, we'll end up with\n        // duplicate data-reactids\n        $contentNode.html(ReactDOMServer.renderToStaticMarkup(content));\n\n        $contentNode.find('a').tooltip({\n            tooltipClass: \"gxaHelpTooltip\"\n        });\n\n        //need to use each here otherwise we get a fancybox error\n        $contentNode.find('a').each(function (index, button) {\n            $(button).fancybox({\n                padding:0,\n                openEffect:'elastic',\n                closeEffect:'elastic'\n            });\n        });\n    },\n\n    clickButton: function (event) {\n        // prevent contrast from being selected\n        event.stopPropagation();\n    },\n\n    showPlotsButton: function () {\n        return this.props.showMaPlotButton || this.props.showGseaGoPlot || this.props.showGseaInterproPlot || this.props.showGseaReactomePlot;\n    },\n\n    render: function () {\n        var thStyle = this.showPlotsButton() ? {minWidth: \"80px\"} : {};\n        var textStyle = this.showPlotsButton() ? {top: \"57px\"} : {};\n\n        var plotsImgSrcURL = this.props.atlasBaseURL + \"/resources/images/yellow-chart-icon.png\";\n\n        var plotsButton = (\n            <div style={{textAlign: \"right\", paddingRight: \"3px\"}} >\n                <a href=\"#\" ref=\"plotsButton\" onClick={this.clickButton} title=\"Click to view plots\"><img src={plotsImgSrcURL}/></a>\n            </div>\n        );\n\n        var showSelectTextOnHover = this.state.hover && !this.props.selected ? <span style={{position: \"absolute\", width: \"10px\", right: \"0px\", left: \"95px\", bottom: \"-35px\", color: \"green\"}}>  select</span> : null;\n        var showTickWhenSelected = this.props.selected ? <span className=\"rotate_tick\" style={{position: \"absolute\", width: \"5px\", right: \"0px\", left: \"125px\", bottom: \"-35px\", color: \"green\"}}> &#10004; </span>: null;\n        var thClass = \"rotated_cell gxaHoverableHeader\" + (this.props.selected ? \" gxaVerticalHeaderCell-selected\" : \" gxaVerticalHeaderCell\") + (this.props.heatmapConfig.enableEnsemblLauncher ? \" gxaSelectableHeader \" : \"\");\n        var divClass = \"rotate_text factor-header\";\n        var contrastName = Modernizr.csstransforms ? restrictLabelSize(this.props.contrastName, 17) : this.props.contrastName;\n\n        return (\n            <th className={thClass} rowSpan=\"2\" style={thStyle} onMouseEnter={this.props.heatmapConfig.enableEnsemblLauncher ? this.onMouseEnter : undefined} onMouseLeave={this.props.heatmapConfig.enableEnsemblLauncher ? this.onMouseLeave : this._closeTooltip} onClick={this.props.heatmapConfig.enableEnsemblLauncher ? this.onClick : undefined}>\n                <div data-contrast-id={this.props.contrastId} data-experiment-accession={this.props.experimentAccession} className={divClass} style={textStyle}>\n                    {contrastName}\n                    {showSelectTextOnHover}\n                    {showTickWhenSelected}\n                </div>\n                {this.showPlotsButton() ? plotsButton : null}\n                {this.showPlotsButton() ? <div ref=\"plotsToolBarContent\" style={{display: \"none\"}}>placeholder</div> : null}\n            </th>\n        );\n    }\n\n});\n\n\nvar TopLeftCorner = React.createClass({\n\n    displayLevelsBaseline: function() {\n        if (this.props.hasQuartiles && this.props.isSingleGeneResult) {\n            return (\n                <LevelsRadioGroup radioId={this.props.radioId}\n                                  selectedRadioButton={this.props.selectedRadioButton}\n                                  toggleRadioButton={this.props.toggleRadioButton}/>\n            );\n        } else if (this.props.type.isBaseline || this.props.type.isMultiExperiment) {\n            return (\n                    <DisplayLevelsButton hideText=\"Hide levels\"\n                                         showText=\"Display levels\"\n                                         onClickCallback={this.props.toggleDisplayLevels}\n                                         displayLevels={this.props.displayLevels}\n                                         width=\"150px\" fontSize=\"14px\"/>\n            );\n        } else {\n            return (\n                    <DisplayLevelsButton hideText=\"Hide log<sub>2</sub>-fold change\"\n                                         showText=\"Display log<sub>2</sub>-fold change\"\n                                         onClickCallback={this.props.toggleDisplayLevels}\n                                         displayLevels={this.props.displayLevels}\n                                         width=\"200px\" fontSize=\"14px\"/>\n            );\n        }\n    },\n\n    render: function () {\n        return (\n            <div className=\"gxaHeatmapMatrixTopLeftCorner\">\n                <span data-help-loc={this.props.type.heatmapTooltip} ref=\"tooltipSpan\"/>\n                <div style={{display: \"table-cell\", verticalAlign: \"middle\", textAlign: \"center\"}}>\n                    {this.displayLevelsBaseline()}\n                </div>\n            </div>\n        );\n    },\n\n    componentDidMount: function () {\n        HelpTooltips(this.props.atlasBaseURL, 'experiment', ReactDOM.findDOMNode(this.refs.tooltipSpan));\n    }\n\n});\n\n\nvar LevelsRadioGroup = React.createClass({\n\n    getInitialState: function() {\n        return {value: this.props.selectedRadioButton};\n    },\n\n    render: function() {\n        return (\n            <RadioGroup name={\"displayLevelsGroup_\" + this.props.radioId} value={this.props.selectedRadioButton} onChange={this.handleChange}>\n                <div style={{\"marginLeft\": \"10px\", \"marginTop\": \"8px\"}}>\n                    <input type=\"radio\" value=\"gradients\"/>Display gradients<br />\n                    <input type=\"radio\" value=\"levels\"/>Display levels<br />\n                    <input type=\"radio\" value=\"variance\"/>Display variance\n                </div>\n            </RadioGroup>\n        );\n    },\n\n    handleChange: function(event) {\n        this.props.toggleRadioButton(event.target.value);\n        this.setState({value: this.props.selectedRadioButton});\n\n        // To resize the sticky column/header in case the row height or column width changes\n        $(window).resize();\n    }\n});\n\n\nvar HeatmapTableRows = React.createClass({\n    propTypes: {\n        nonExpressedColumnHeaders: React.PropTypes.arrayOf(React.PropTypes.string)\n    },\n\n    profileRowType: function (profile)  {\n        var geneProfileKey = this.props.heatmapConfig.species + \"-\" + (this.props.type.isDifferential ? profile.name + \"-\" + profile.designElement : profile.name);\n        return (this.props.type.isMultiExperiment ?\n            <GeneProfileRow key={geneProfileKey}\n                            id={profile.id}\n                            name={profile.name}\n                            type={this.props.type}\n                            experimentType={profile.experimentType}\n                            expressions={profile.expressions}\n                            nonExpressedColumnHeaders={this.props.nonExpressedColumnHeaders}\n                            serializedFilterFactors={profile.serializedFilterFactors}\n                            heatmapConfig={this.props.heatmapConfig}\n                            atlasBaseURL={this.props.atlasBaseURL}\n                            linksAtlasBaseURL={this.props.linksAtlasBaseURL}\n                            displayLevels={this.props.displayLevels}\n                            renderExpressionCells={this.props.renderExpressionCells}\n                            hoverColumnCallback={this.props.hoverColumnCallback}\n                            hoverRowCallback={this.props.hoverRowCallback}/>\n            :\n            <GeneProfileRow key={geneProfileKey}\n                            selected={profile.id === this.props.selectedGeneId}\n                            selectGene={this.props.selectGene}\n                            designElement={profile.designElement}\n                            id={profile.id}\n                            name={profile.name}\n                            type={this.props.type}\n                            expressions={profile.expressions}\n                            nonExpressedColumnHeaders={this.props.nonExpressedColumnHeaders}\n                            heatmapConfig={this.props.heatmapConfig}\n                            atlasBaseURL={this.props.atlasBaseURL}\n                            linksAtlasBaseURL={this.props.linksAtlasBaseURL}\n                            displayLevels={this.props.displayLevels}\n                            showGeneSetProfiles={this.props.showGeneSetProfiles}\n                            selectedRadioButton={this.props.selectedRadioButton}\n                            hasQuartiles={this.props.hasQuartiles}\n                            isSingleGeneResult={this.props.isSingleGeneResult}\n                            renderExpressionCells={this.props.renderExpressionCells}\n                            hoverColumnCallback={this.props.hoverColumnCallback}\n                            hoverRowCallback={this.props.hoverRowCallback}/>\n        );\n    },\n\n    render: function () {\n        var geneProfilesRows = this.props.profiles.map(function (profile) {\n\n            return this.profileRowType(profile);\n        }.bind(this));\n\n        return (\n            <tbody>\n            {geneProfilesRows}\n            </tbody>\n        );\n    }\n});\n\n\nvar GeneProfileRow = React.createClass({\n    propTypes: {\n        nonExpressedColumnHeaders: React.PropTypes.arrayOf(React.PropTypes.string),\n        atlasBaseURL: React.PropTypes.string.isRequired,\n        linksAtlasBaseURL: React.PropTypes.string.isRequired\n    },\n\n    getInitialState: function () {\n        return ({hover:false, selected:false, levels: this.props.displayLevels});\n    },\n\n    onMouseEnter: function () {\n        if (this.props.heatmapConfig.enableEnsemblLauncher) {\n            this.setState({hover:true});\n        }\n        // We use name instead of id because in multiexperiment the same id can appear under different name (same experiment, different conditions)\n        this.props.hoverRowCallback(this.props.name);\n    },\n\n    onMouseLeave: function () {\n        if (this.props.heatmapConfig.enableEnsemblLauncher) {\n            this.setState({hover:false});\n        }\n        this._closeTooltip();\n        this.props.hoverRowCallback(null);\n    },\n\n    onClick: function () {\n        if (this.props.heatmapConfig.enableEnsemblLauncher) {\n            this.props.selectGene(this.props.id);\n        }\n    },\n\n    geneNameLinked: function () {\n        var experimentURL = '/experiments/' + this.props.id + '?geneQuery=' + this.props.heatmapConfig.geneQuery + (this.props.serializedFilterFactors ? \"&serializedFilterFactors=\" + encodeURIComponent(this.props.serializedFilterFactors) : \"\");\n        var geneURL = this.props.showGeneSetProfiles ? '/query?geneQuery=' + this.props.name + '&exactMatch=' + this.props.heatmapConfig.isExactMatch : '/genes/' + this.props.id;\n\n        var titleTooltip = this.props.type.isMultiExperiment ? (this.props.experimentType == \"PROTEOMICS_BASELINE\" ? \"Protein Expression\" : \"RNA Expression\" ) : \"\";\n\n        var experimentOrGeneURL = this.props.linksAtlasBaseURL + (this.props.type.isMultiExperiment ? experimentURL : geneURL);\n\n        // don't render id for gene sets to prevent tooltips\n        // The vertical align in the <a> element is needed because the kerning in the font used in icon-conceptual is vertically off\n        return (\n            <span title={titleTooltip} style={{\"display\": \"table-cell\"}}>\n                <span className=\"icon icon-conceptual icon-c2\" data-icon={this.props.type.isMultiExperiment ? (this.props.experimentType == \"PROTEOMICS_BASELINE\" ? 'P' : 'd') : ''}/>\n                <a ref=\"geneName\" id={this.props.showGeneSetProfiles ? '' : this.props.id} href={experimentOrGeneURL} onClick={this.geneNameLinkClicked} style={{\"verticalAlign\": \"15%\"}}>{this.props.name}</a>\n            </span>\n        );\n    },\n\n    geneNameLinkClicked: function (event) {\n        // prevent row from being selected\n        event.stopPropagation();\n    },\n\n    geneNameNotLinked: function () {\n        // don't render id for gene sets to prevent tooltips\n        return (\n            <span style={{\"float\": \"left\"}} ref=\"geneName\" title=\"\" id={this.props.showGeneSetProfiles ? '' : this.props.id}>{this.props.name}</span>\n        );\n    },\n\n    displayLevelsRadio: function() {\n        if(this.props.hasQuartiles && this.props.isSingleGeneResult) {\n            return this.props.selectedRadioButton === \"levels\";\n        }\n        else return (this.props.displayLevels);\n    },\n\n    cellType: function (expression) {\n        if (this.props.type.isBaseline) {\n            if(this.props.selectedRadioButton === \"variance\" && expression.quartiles) {\n                return (\n                    <HeatmapBaselineCellVariance key={this.props.id + expression.factorName}\n                                                 quartiles={expression.quartiles}\n                                                 hoverColumnCallback={this.props.hoverColumnCallback}/>\n                );\n            }\n            else {\n                return (\n                    <CellBaseline key={this.props.id + expression.factorName}\n                                  factorName={expression.factorName}\n                                  color={expression.color}\n                                  value={expression.value}\n                                  heatmapConfig={this.props.heatmapConfig}\n                                  displayLevels={this.displayLevelsRadio()}\n                                  svgPathId={expression.svgPathId}\n                                  geneSetProfiles={this.props.showGeneSetProfiles}\n                                  id={this.props.id}\n                                  name={this.props.name}\n                                  hoverColumnCallback={this.props.hoverColumnCallback}/>\n                );\n            }\n        }\n        else if (this.props.type.isDifferential) {\n            return (\n                <CellDifferential key={this.props.designElement + this.props.name + expression.contrastName}\n                                  colour={expression.color}\n                                  foldChange={expression.foldChange}\n                                  pValue={expression.pValue}\n                                  tStat={expression.tStat}\n                                  displayLevels={this.props.displayLevels}/>\n            );\n        }\n        else if (this.props.type.isMultiExperiment) {\n            return (\n                <CellMultiExperiment key={this.props.id + expression.factorName}\n                                     factorName={expression.factorName}\n                                     serializedFilterFactors={this.props.serializedFilterFactors}\n                                     color={expression.color}\n                                     value={expression.value}\n                                     displayLevels={this.props.displayLevels}\n                                     svgPathId={expression.svgPathId}\n                                     id={this.props.id}\n                                     name={this.props.name}\n                                     hoverColumnCallback={this.props.hoverColumnCallback}/>\n            );\n        }\n    },\n\n    cells: function (expressions, nonExpressedColumnHeaders) {\n        //var filteredExpressions = expressions.filter(function(expression) {\n        //    return (nonExpressedColumnHeaders.indexOf(expression.factorName) == -1)\n        //});\n        //\n        //return filteredExpressions.map(function (expression) {\n        //    return this.cellType(expression);\n        //}.bind(this));\n\n        return expressions.map(function (expression) {\n            return this.cellType(expression);\n        }.bind(this));\n    },\n\n    render: function () {\n        var showSelectTextOnHover = this.state.hover && !this.props.selected ? <span style={{\"display\": \"table-cell\", \"textAlign\": \"right\", \"paddingLeft\": \"10px\", \"color\": \"green\", \"visibility\": \"visible\"}}>select</span> :\n            <span style={{\"display\": \"table-cell\", \"textAlign\": \"right\", \"paddingLeft\": \"10px\", \"color\": \"green\", \"visibility\": \"hidden\"}}>select</span>;\n        var showTickWhenSelected = this.props.selected ? <span style={{\"float\": \"right\", \"color\": \"green\"}}> &#10004; </span>: null ;\n        var className = (this.props.selected ? \"gxaHorizontalHeaderCell-selected gxaHoverableHeader\" : \"gxaHorizontalHeaderCell gxaHoverableHeader\") + (this.props.heatmapConfig.enableEnsemblLauncher ? \" gxaSelectableHeader\" : \"\");\n        var rowClassName = this.props.type.isMultiExperiment ? (this.props.experimentType == \"PROTEOMICS_BASELINE\" ? \"gxaProteomicsExperiment\" : \"gxaTranscriptomicsExperiment\" ) : \"\";\n\n        return (\n            <tr className={rowClassName}>\n                <th className={className} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave} onClick={this.onClick}>\n                    <div style={{display: \"table\", width: \"100%\"}}>\n                        <div style={{display: \"table-row\"}}>\n                            { this.props.heatmapConfig.enableGeneLinks ?  this.geneNameLinked() : this.geneNameNotLinked()}\n                            { this.props.heatmapConfig.enableEnsemblLauncher ? showSelectTextOnHover : null }\n                            { this.props.heatmapConfig.enableEnsemblLauncher ? showTickWhenSelected : null }\n                        </div>\n                    </div>\n                </th>\n                {this.props.designElement ? <th className=\"gxaHeatmapTableDesignElement\">{this.props.designElement}</th> : null}\n                {this.props.renderExpressionCells ? this.cells(this.props.expressions, this.props.nonExpressedColumnHeaders) : null}\n            </tr>\n        );\n    },\n\n    componentDidMount: function () {\n        if(!this.props.type.isMultiExperiment) {\n            GenePropertiesTooltipModule.init(this.props.atlasBaseURL, ReactDOM.findDOMNode(this.refs.geneName), this.props.id, this.props.name);\n        }\n    },\n\n    _closeTooltip: function() {\n        if(!this.props.type.isMultiExperiment) {\n            $(ReactDOM.findDOMNode(this.refs.geneName)).tooltip(\"close\");\n        }\n    }\n\n});\n\nvar CellBaseline = React.createClass({\n    render: function () {\n        if (this._noExpression()) {\n            return (<td></td>);\n        }\n\n        var style = {\"backgroundColor\": this._isUnknownExpression() ? \"white\" : this.props.color};\n\n        return (\n            <td style={style} onMouseEnter={this._onMouseEnter} onMouseLeave={this._onMouseLeave}>\n                <div\n                    className=\"gxaHeatmapCell\"\n                    style={{visibility: this._isUnknownExpression() || this.props.displayLevels ? \"visible\" : \"hidden\"}}>\n                    {this._isUnknownExpression() ? this._unknownCell() : NumberFormat.baselineExpression(this.props.value)}\n                </div>\n            </td>\n        );\n    },\n\n    componentDidMount: function () {\n        this.addQuestionMarkTooltip();\n    },\n\n    // need this so that we re-add question mark tooltip, if it doesn't exist, when switching between\n    // individual genes and gene sets\n    componentDidUpdate: function () {\n        this.addQuestionMarkTooltip();\n    },\n\n    addQuestionMarkTooltip: function() {\n        function hasQuestionMark(unknownElement) {\n            return unknownElement.children.length;\n        }\n\n        if (this._isUnknownExpression() && !hasQuestionMark(ReactDOM.findDOMNode(this.refs.unknownCell))) {\n            HelpTooltips(this.props.atlasBaseURL, 'experiment', ReactDOM.findDOMNode(this.refs.unknownCell));\n        }\n    },\n\n    _hasKnownExpression: function () {\n        // true if not blank or UNKNOWN, ie: has a expression with a known value\n        return (this.props.value && !this._isUnknownExpression());\n    },\n\n    _isUnknownExpression: function () {\n        return (this.propsvalue === \"UNKNOWN\")\n    },\n\n    _noExpression: function () {\n        return !this.props.value;\n    },\n\n    _unknownCell: function () {\n        return (\n            <span ref='unknownCell' data-help-loc={this.props.geneSetProfiles ? '#heatMapTableGeneSetUnknownCell' : '#heatMapTableUnknownCell'}></span>\n        );\n    },\n\n    _onMouseEnter: function() {\n        if (this._hasKnownExpression()) {\n            this.props.hoverColumnCallback(this.props.svgPathId);\n        }\n    },\n\n    _onMouseLeave: function() {\n        if (this._hasKnownExpression()) {\n            this.props.hoverColumnCallback(null);\n        }\n    }\n});\n\n\nvar CellMultiExperiment = React.createClass({\n    _isNAExpression : function () {\n        return (this.props.value === \"NT\");\n    },\n\n    _noExpression: function () {\n        return !this.props.value;\n    },\n\n    _tissueNotStudiedInExperiment: function () {\n        return (\n            <span>NA</span>\n        );\n    },\n\n    _onMouseEnter: function() {\n        if (!this._noExpression() && !this._isNAExpression()) {\n            this.props.hoverColumnCallback(this.props.svgPathId);\n        }\n    },\n\n    _onMouseLeave: function() {\n        if (!this._noExpression() && !this._isNAExpression()) {\n            this.props.hoverColumnCallback(null);\n        }\n    },\n\n    render: function () {\n\n        if (this._noExpression()) {\n            return (<td></td>);\n        }\n\n        var style = {\"backgroundColor\": this.props.color};\n\n        return (\n            <td style={style} onMouseEnter={this._onMouseEnter} onMouseLeave={this._onMouseLeave}>\n                <div className=\"gxaHeatmapCell\" style={{visibility: this._isNAExpression() || this.props.displayLevels ? \"visible\" : \"hidden\"}}>\n                    {this._isNAExpression(this.props.value) ? this._tissueNotStudiedInExperiment() : NumberFormat.baselineExpression(this.props.value)}\n                </div>\n            </td>\n        );\n    }\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = Heatmap;\n\n\n/** WEBPACK FOOTER **\n ** ./faceted-search/~/heatmap-anatomogram/src/heatmap.jsx\n **/","'use strict';\n\nmodule.exports = require('react/lib/ReactDOMServer');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/react-dom/server.js\n ** module id = 1043\n ** module chunks = 3\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../../css-loader/index.js!./jquery.fancybox.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../../css-loader/index.js!./jquery.fancybox.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../../css-loader/index.js!./jquery.fancybox.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/fancybox/dist/css/jquery.fancybox.css\n ** module id = 1047\n ** module chunks = 3\n **/","exports = module.exports = require(\"./../../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/*! fancyBox v2.1.5 fancyapps.com | fancyapps.com/fancybox/#license */\\n.fancybox-wrap, .fancybox-skin, .fancybox-outer, .fancybox-inner, .fancybox-image, .fancybox-wrap iframe, .fancybox-wrap object, .fancybox-nav, .fancybox-nav span, .fancybox-tmp {\\n  padding: 0;\\n  margin: 0;\\n  border: 0;\\n  outline: none;\\n  vertical-align: top; }\\n\\n.fancybox-wrap {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  z-index: 8020; }\\n\\n.fancybox-skin {\\n  position: relative;\\n  background: #f9f9f9;\\n  color: #444;\\n  text-shadow: none;\\n  -webkit-border-radius: 4px;\\n  -moz-border-radius: 4px;\\n  border-radius: 4px; }\\n\\n.fancybox-opened {\\n  z-index: 8030; }\\n\\n.fancybox-opened .fancybox-skin {\\n  -webkit-box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);\\n  -moz-box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);\\n  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5); }\\n\\n.fancybox-outer, .fancybox-inner {\\n  position: relative; }\\n\\n.fancybox-inner {\\n  overflow: hidden; }\\n\\n.fancybox-type-iframe .fancybox-inner {\\n  -webkit-overflow-scrolling: touch; }\\n\\n.fancybox-error {\\n  color: #444;\\n  font: 14px/20px \\\"Helvetica Neue\\\", Helvetica, Arial, sans-serif;\\n  margin: 0;\\n  padding: 15px;\\n  white-space: nowrap; }\\n\\n.fancybox-image, .fancybox-iframe {\\n  display: block;\\n  width: 100%;\\n  height: 100%; }\\n\\n.fancybox-image {\\n  max-width: 100%;\\n  max-height: 100%; }\\n\\n#fancybox-loading, .fancybox-close, .fancybox-prev span, .fancybox-next span {\\n  background-image: url(\" + require(\"../img/fancybox_sprite.png\") + \"); }\\n\\n#fancybox-loading {\\n  position: fixed;\\n  top: 50%;\\n  left: 50%;\\n  margin-top: -22px;\\n  margin-left: -22px;\\n  background-position: 0 -108px;\\n  opacity: 0.8;\\n  cursor: pointer;\\n  z-index: 8060; }\\n\\n#fancybox-loading div {\\n  width: 44px;\\n  height: 44px;\\n  background: url(\" + require(\"../img/fancybox_loading.gif\") + \") center center no-repeat; }\\n\\n.fancybox-close {\\n  position: absolute;\\n  top: -18px;\\n  right: -18px;\\n  width: 36px;\\n  height: 36px;\\n  cursor: pointer;\\n  z-index: 8040; }\\n\\n.fancybox-nav {\\n  position: absolute;\\n  top: 0;\\n  width: 40%;\\n  height: 100%;\\n  cursor: pointer;\\n  text-decoration: none;\\n  background: transparent url(\" + require(\"../img/blank.gif\") + \");\\n  /* helps IE */\\n  -webkit-tap-highlight-color: transparent;\\n  z-index: 8040; }\\n\\n.fancybox-prev {\\n  left: 0; }\\n\\n.fancybox-next {\\n  right: 0; }\\n\\n.fancybox-nav span {\\n  position: absolute;\\n  top: 50%;\\n  width: 36px;\\n  height: 34px;\\n  margin-top: -18px;\\n  cursor: pointer;\\n  z-index: 8040;\\n  visibility: hidden; }\\n\\n.fancybox-prev span {\\n  left: 10px;\\n  background-position: 0 -36px; }\\n\\n.fancybox-next span {\\n  right: 10px;\\n  background-position: 0 -72px; }\\n\\n.fancybox-nav:hover span {\\n  visibility: visible; }\\n\\n.fancybox-tmp {\\n  position: absolute;\\n  top: -99999px;\\n  left: -99999px;\\n  max-width: 99999px;\\n  max-height: 99999px;\\n  overflow: visible !important; }\\n\\n/* Overlay helper */\\n.fancybox-lock {\\n  overflow: visible !important;\\n  width: auto; }\\n\\n.fancybox-lock body {\\n  overflow: hidden !important; }\\n\\n.fancybox-lock-test {\\n  overflow-y: hidden !important; }\\n\\n.fancybox-overlay {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  overflow: hidden;\\n  display: none;\\n  z-index: 8010;\\n  background: url(\" + require(\"../img/fancybox_overlay.png\") + \"); }\\n\\n.fancybox-overlay-fixed {\\n  position: fixed;\\n  bottom: 0;\\n  right: 0; }\\n\\n.fancybox-lock .fancybox-overlay {\\n  overflow: auto;\\n  overflow-y: scroll; }\\n\\n/* Title helper */\\n.fancybox-title {\\n  visibility: hidden;\\n  font: normal 13px/20px \\\"Helvetica Neue\\\", Helvetica, Arial, sans-serif;\\n  position: relative;\\n  text-shadow: none;\\n  z-index: 8050; }\\n\\n.fancybox-opened .fancybox-title {\\n  visibility: visible; }\\n\\n.fancybox-title-float-wrap {\\n  position: absolute;\\n  bottom: 0;\\n  right: 50%;\\n  margin-bottom: -35px;\\n  z-index: 8050;\\n  text-align: center; }\\n\\n.fancybox-title-float-wrap .child {\\n  display: inline-block;\\n  margin-right: -100%;\\n  padding: 2px 20px;\\n  background: transparent;\\n  /* Fallback for web browsers that doesn't support RGBa */\\n  background: rgba(0, 0, 0, 0.8);\\n  -webkit-border-radius: 15px;\\n  -moz-border-radius: 15px;\\n  border-radius: 15px;\\n  text-shadow: 0 1px 2px #222;\\n  color: #FFF;\\n  font-weight: bold;\\n  line-height: 24px;\\n  white-space: nowrap; }\\n\\n.fancybox-title-outside-wrap {\\n  position: relative;\\n  margin-top: 10px;\\n  color: #fff; }\\n\\n.fancybox-title-inside-wrap {\\n  padding-top: 10px; }\\n\\n.fancybox-title-over-wrap {\\n  position: absolute;\\n  bottom: 0;\\n  left: 0;\\n  color: #fff;\\n  padding: 10px;\\n  background: #000;\\n  background: rgba(0, 0, 0, 0.8); }\\n\\n/*Retina graphics!*/\\n@media only screen and (-webkit-min-device-pixel-ratio: 1.5), only screen and (min--moz-device-pixel-ratio: 1.5), only screen and (min-device-pixel-ratio: 1.5) {\\n  #fancybox-loading, .fancybox-close, .fancybox-prev span, .fancybox-next span {\\n    background-image: url(\" + require(\"../img/fancybox_sprite@2x.png\") + \");\\n    background-size: 44px 152px;\\n    /*The size of the normal image, half the size of the hi-res image*/ }\\n  #fancybox-loading div {\\n    background-image: url(\" + require(\"../img/fancybox_loading@2x.gif\") + \");\\n    background-size: 24px 24px;\\n    /*The size of the normal image, half the size of the hi-res image*/ } }\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/css-loader!./faceted-search/~/fancybox/dist/css/jquery.fancybox.css\n ** module id = 1048\n ** module chunks = 3\n **/","module.exports = __webpack_public_path__ + \"783d4031fe50c3d83c960911e1fbc705.png\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/fancybox/dist/img/fancybox_sprite.png\n ** module id = 1049\n ** module chunks = 3\n **/","module.exports = __webpack_public_path__ + \"328cc0f6c78211485058d460e80f4fa8.gif\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/fancybox/dist/img/fancybox_loading.gif\n ** module id = 1050\n ** module chunks = 3\n **/","module.exports = __webpack_public_path__ + \"325472601571f31e1bf00674c368d335.gif\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/fancybox/dist/img/blank.gif\n ** module id = 1051\n ** module chunks = 3\n **/","module.exports = __webpack_public_path__ + \"77aeaa52715b898b73c74d68c630330e.png\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/fancybox/dist/img/fancybox_overlay.png\n ** module id = 1052\n ** module chunks = 3\n **/","module.exports = __webpack_public_path__ + \"ed9970ce22242421e66ff150aa97fe5f.png\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/fancybox/dist/img/fancybox_sprite@2x.png\n ** module id = 1053\n ** module chunks = 3\n **/","module.exports = __webpack_public_path__ + \"f92938639fa894a0e8ded1c3368abe98.gif\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/fancybox/dist/img/fancybox_loading@2x.gif\n ** module id = 1054\n ** module chunks = 3\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../../css-loader/index.js!./jquery.toolbar.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../../css-loader/index.js!./jquery.toolbar.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../../css-loader/index.js!./jquery.toolbar.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/heatmap-anatomogram/~/jquery-toolbar/jquery.toolbar.css\n ** module id = 1056\n ** module chunks = 3\n **/","exports = module.exports = require(\"./../../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".btn-toolbar {\\n  background: #364347;\\n  width: 20px;\\n  height: 20px;\\n  text-align: center;\\n  padding: 10px;\\n  border-radius: 6px;\\n  display: block;\\n  transition: none;\\n}\\n.btn-toolbar > i {\\n  color: #02baf2;\\n  font-size: 16px;\\n}\\n.btn-toolbar:hover {\\n  background: #02baf2;\\n  cursor: pointer;\\n}\\n.btn-toolbar:hover > i {\\n  color: white;\\n}\\n.btn-toolbar-primary {\\n  background-color: #009dcd;\\n}\\n.btn-toolbar-primary.pressed {\\n  background-color: #02baf2;\\n}\\n.btn-toolbar-primary:hover {\\n  background-color: #02baf2;\\n}\\n.btn-toolbar-primary > i {\\n  color: white;\\n}\\n.btn-toolbar-danger {\\n  background-color: #cc0000;\\n}\\n.btn-toolbar-danger.pressed {\\n  background-color: #f84545;\\n}\\n.btn-toolbar-danger:hover {\\n  background-color: #f84545;\\n}\\n.btn-toolbar-danger > i {\\n  color: white;\\n}\\n.btn-toolbar-warning {\\n  background-color: #f3bc65;\\n}\\n.btn-toolbar-warning.pressed {\\n  background-color: #fad46b;\\n}\\n.btn-toolbar-warning:hover {\\n  background-color: #fad46b;\\n}\\n.btn-toolbar-warning > i {\\n  color: white;\\n}\\n.btn-toolbar-info {\\n  background-color: #e96300;\\n}\\n.btn-toolbar-info.pressed {\\n  background-color: #f58410;\\n}\\n.btn-toolbar-info:hover {\\n  background-color: #f58410;\\n}\\n.btn-toolbar-info > i {\\n  color: white;\\n}\\n.btn-toolbar-success {\\n  background-color: #28948c;\\n}\\n.btn-toolbar-success.pressed {\\n  background-color: #3eb5ac;\\n}\\n.btn-toolbar-success:hover {\\n  background-color: #3eb5ac;\\n}\\n.btn-toolbar-success > i {\\n  color: white;\\n}\\n.btn-toolbar-info-o {\\n  background-color: #9175bd;\\n}\\n.btn-toolbar-info-o.pressed {\\n  background-color: #a88cd5;\\n}\\n.btn-toolbar-info-o:hover {\\n  background-color: #a88cd5;\\n}\\n.btn-toolbar-info-o > i {\\n  color: white;\\n}\\n.btn-toolbar-light {\\n  background-color: #b2c6cd;\\n}\\n.btn-toolbar-light.pressed {\\n  background-color: #d6e1e5;\\n}\\n.btn-toolbar-light:hover {\\n  background-color: #d6e1e5;\\n}\\n.btn-toolbar-light > i {\\n  color: white;\\n}\\n.btn-toolbar-dark {\\n  background-color: #364347;\\n}\\n.btn-toolbar-dark.pressed {\\n  background-color: #5e696d;\\n}\\n.btn-toolbar-dark:hover {\\n  background-color: #5e696d;\\n}\\n.btn-toolbar-dark > i {\\n  color: white;\\n}\\n.tool-container {\\n  background-color: #5e696d;\\n  background-size: 100% 100%;\\n  border-radius: 6px;\\n  position: absolute;\\n}\\n.tool-container.tool-top,\\n.tool-container.tool-bottom {\\n  height: 40px;\\n  border-bottom: 0px solid #beb8b8;\\n}\\n.tool-container.tool-top .tool-item,\\n.tool-container.tool-bottom .tool-item {\\n  float: left;\\n  border-right: 0;\\n  border-left: 0;\\n}\\n.tool-item {\\n  height: 100%;\\n  display: block;\\n  width: 20px;\\n  height: 20px;\\n  text-align: center;\\n  padding: 10px;\\n  transition: none;\\n}\\n.tool-item > .fa {\\n  color: #b2c6cd;\\n}\\n.tool-item.selected,\\n.tool-item:hover {\\n  background: #02baf2;\\n}\\n.tool-item.selected > .fa,\\n.tool-item:hover > .fa {\\n  color: white;\\n}\\n.tool-top .tool-item:first-child:hover,\\n.tool-bottom .tool-item:first-child:hover {\\n  border-top-left-radius: 6px;\\n  border-bottom-left-radius: 6px;\\n}\\n.tool-top .tool-item:last-child:hover,\\n.tool-bottom .tool-item:last-child:hover {\\n  border-top-right-radius: 6px;\\n  border-bottom-right-radius: 6px;\\n}\\n.tool-vertical-top .tool-item:first-child:hover,\\n.tool-vertical-bottom .tool-item:first-child:hover,\\n.tool-right .tool-item:first-child:hover,\\n.tool-left .tool-item:first-child:hover {\\n  border-top-left-radius: 6px;\\n  border-top-right-radius: 6px;\\n}\\n.tool-vertical-top .tool-item:last-child:hover,\\n.tool-vertical-bottom .tool-item:last-child:hover,\\n.tool-right .tool-item:last-child:hover,\\n.tool-left .tool-item:last-child:hover {\\n  border-bottom-left-radius: 6px;\\n  border-bottom-right-radius: 6px;\\n}\\n.tool-container .arrow {\\n  width: 0;\\n  height: 0;\\n  position: absolute;\\n  border-width: 7px;\\n  border-style: solid;\\n}\\n.tool-container.tool-top .arrow {\\n  border-color: #5e696d transparent transparent;\\n  left: 50%;\\n  bottom: -14px;\\n  margin-left: -7px;\\n}\\n.tool-container.tool-bottom .arrow {\\n  border-color: transparent transparent #5e696d;\\n  left: 50%;\\n  top: -14px;\\n  margin-left: -7px;\\n}\\n.tool-container.tool-left .arrow {\\n  border-color: transparent transparent transparent #5e696d;\\n  top: 50%;\\n  right: -14px;\\n  margin-top: -7px;\\n}\\n.tool-container.tool-right .arrow {\\n  border-color: transparent #5e696d transparent transparent;\\n  top: 50%;\\n  left: -14px;\\n  margin-top: -7px;\\n}\\n.toolbar-primary {\\n  background-color: #02baf2;\\n}\\n.toolbar-primary.tool-top .arrow {\\n  border-color: #02baf2 transparent transparent;\\n}\\n.toolbar-primary.tool-bottom .arrow {\\n  border-color: transparent transparent #02baf2;\\n}\\n.toolbar-primary.tool-left .arrow {\\n  border-color: transparent transparent transparent #02baf2;\\n}\\n.toolbar-primary.tool-right .arrow {\\n  border-color: transparent #02baf2 transparent transparent;\\n}\\n.toolbar-primary .tool-item > .fa {\\n  color: white;\\n}\\n.toolbar-primary .tool-item.selected,\\n.toolbar-primary .tool-item:hover {\\n  background: #009dcd;\\n  color: white;\\n}\\n.toolbar-danger {\\n  background-color: #f84545;\\n}\\n.toolbar-danger.tool-top .arrow {\\n  border-color: #f84545 transparent transparent;\\n}\\n.toolbar-danger.tool-bottom .arrow {\\n  border-color: transparent transparent #f84545;\\n}\\n.toolbar-danger.tool-left .arrow {\\n  border-color: transparent transparent transparent #f84545;\\n}\\n.toolbar-danger.tool-right .arrow {\\n  border-color: transparent #f84545 transparent transparent;\\n}\\n.toolbar-danger .tool-item > .fa {\\n  color: white;\\n}\\n.toolbar-danger .tool-item.selected,\\n.toolbar-danger .tool-item:hover {\\n  background: #cc0000;\\n  color: white;\\n}\\n.toolbar-warning {\\n  background-color: #f3bc65;\\n}\\n.toolbar-warning.tool-top .arrow {\\n  border-color: #f3bc65 transparent transparent;\\n}\\n.toolbar-warning.tool-bottom .arrow {\\n  border-color: transparent transparent #f3bc65;\\n}\\n.toolbar-warning.tool-left .arrow {\\n  border-color: transparent transparent transparent #f3bc65;\\n}\\n.toolbar-warning.tool-right .arrow {\\n  border-color: transparent #f3bc65 transparent transparent;\\n}\\n.toolbar-warning .tool-item > .fa {\\n  color: white;\\n}\\n.toolbar-warning .tool-item.selected,\\n.toolbar-warning .tool-item:hover {\\n  background: #fad46b;\\n  color: white;\\n}\\n.toolbar-info {\\n  background-color: #e96300;\\n}\\n.toolbar-info.tool-top .arrow {\\n  border-color: #e96300 transparent transparent;\\n}\\n.toolbar-info.tool-bottom .arrow {\\n  border-color: transparent transparent #e96300;\\n}\\n.toolbar-info.tool-left .arrow {\\n  border-color: transparent transparent transparent #e96300;\\n}\\n.toolbar-info.tool-right .arrow {\\n  border-color: transparent #e96300 transparent transparent;\\n}\\n.toolbar-info .tool-item > .fa {\\n  color: white;\\n}\\n.toolbar-info .tool-item.selected,\\n.toolbar-info .tool-item:hover {\\n  background: #f58410;\\n  color: white;\\n}\\n.toolbar-success {\\n  background-color: #28948c;\\n}\\n.toolbar-success.tool-top .arrow {\\n  border-color: #28948c transparent transparent;\\n}\\n.toolbar-success.tool-bottom .arrow {\\n  border-color: transparent transparent #28948c;\\n}\\n.toolbar-success.tool-left .arrow {\\n  border-color: transparent transparent transparent #28948c;\\n}\\n.toolbar-success.tool-right .arrow {\\n  border-color: transparent #28948c transparent transparent;\\n}\\n.toolbar-success .tool-item > .fa {\\n  color: white;\\n}\\n.toolbar-success .tool-item.selected,\\n.toolbar-success .tool-item:hover {\\n  background: #3eb5ac;\\n  color: white;\\n}\\n.toolbar-info-o {\\n  background-color: #9175bd;\\n}\\n.toolbar-info-o.tool-top .arrow {\\n  border-color: #9175bd transparent transparent;\\n}\\n.toolbar-info-o.tool-bottom .arrow {\\n  border-color: transparent transparent #9175bd;\\n}\\n.toolbar-info-o.tool-left .arrow {\\n  border-color: transparent transparent transparent #9175bd;\\n}\\n.toolbar-info-o.tool-right .arrow {\\n  border-color: transparent #9175bd transparent transparent;\\n}\\n.toolbar-info-o .tool-item > .fa {\\n  color: white;\\n}\\n.toolbar-info-o .tool-item.selected,\\n.toolbar-info-o .tool-item:hover {\\n  background: #a88cd5;\\n  color: white;\\n}\\n.toolbar-light {\\n  background-color: #b2c6cd;\\n}\\n.toolbar-light.tool-top .arrow {\\n  border-color: #b2c6cd transparent transparent;\\n}\\n.toolbar-light.tool-bottom .arrow {\\n  border-color: transparent transparent #b2c6cd;\\n}\\n.toolbar-light.tool-left .arrow {\\n  border-color: transparent transparent transparent #b2c6cd;\\n}\\n.toolbar-light.tool-right .arrow {\\n  border-color: transparent #b2c6cd transparent transparent;\\n}\\n.toolbar-light .tool-item > .fa {\\n  color: white;\\n}\\n.toolbar-light .tool-item.selected,\\n.toolbar-light .tool-item:hover {\\n  background: #d6e1e5;\\n  color: white;\\n}\\n.toolbar-dark {\\n  background-color: #364347;\\n}\\n.toolbar-dark.tool-top .arrow {\\n  border-color: #364347 transparent transparent;\\n}\\n.toolbar-dark.tool-bottom .arrow {\\n  border-color: transparent transparent #364347;\\n}\\n.toolbar-dark.tool-left .arrow {\\n  border-color: transparent transparent transparent #364347;\\n}\\n.toolbar-dark.tool-right .arrow {\\n  border-color: transparent #364347 transparent transparent;\\n}\\n.toolbar-dark .tool-item > .fa {\\n  color: white;\\n}\\n.toolbar-dark .tool-item.selected,\\n.toolbar-dark .tool-item:hover {\\n  background: #5e696d;\\n  color: white;\\n}\\n.animate-standard {\\n  -webkit-animation: standardAnimate 0.3s 1 ease;\\n}\\n.animate-flyin {\\n  -webkit-animation: rotateAnimate 0.5s 1 ease;\\n}\\n.animate-grow {\\n  -webkit-animation: growAnimate 0.4s 1 ease;\\n}\\n.animate-flip {\\n  -webkit-animation: flipAnimate 0.4s 1 ease;\\n}\\n.animate-bounce {\\n  -webkit-animation: bounceAnimate 0.4s 1 ease-out;\\n}\\n@-webkit-keyframes rotateAnimate {\\n  from {\\n    transform: rotate(180deg) translate(-120px);\\n    opacity: 0;\\n  }\\n  to {\\n    transform: rotate(0deg) translate(0px);\\n    opacity: 1;\\n  }\\n}\\n@-webkit-keyframes standardAnimate {\\n  from {\\n    transform: translateY(20px);\\n    opacity: 0;\\n  }\\n  to {\\n    transform: translateY(0px);\\n    opacity: 1;\\n  }\\n}\\n@-webkit-keyframes growAnimate {\\n  0% {\\n    transform: scale(0) translateY(40px);\\n    opacity: 0;\\n  }\\n  70% {\\n    transform: scale(1.5) translate(0px);\\n  }\\n  100% {\\n    transform: scale(1) translate(0px);\\n    opacity: 1;\\n  }\\n}\\n@-webkit-keyframes rotate2Animate {\\n  from {\\n    transform: rotate(-90deg);\\n    transform-origin: 0% 100%;\\n    opacity: 0;\\n  }\\n  to {\\n    transform: rotate(0deg);\\n    opacity: 1;\\n  }\\n}\\n@-webkit-keyframes flipAnimate {\\n  from {\\n    transform: rotate3d(2, 2, 2, 180deg);\\n    opacity: 0;\\n  }\\n  to {\\n    transform: rotate3d(0, 0, 0, 0deg);\\n    opacity: 1;\\n  }\\n}\\n@-webkit-keyframes bounceAnimate {\\n  0% {\\n    transform: translateY(40px);\\n    opacity: 0;\\n  }\\n  30% {\\n    transform: translateY(-40px);\\n  }\\n  70% {\\n    transform: translateY(20px);\\n  }\\n  100% {\\n    transform: translateY(0px);\\n    opacity: 1;\\n  }\\n}\\n.hidden {\\n  display: none;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/css-loader!./faceted-search/~/heatmap-anatomogram/~/jquery-toolbar/jquery.toolbar.css\n ** module id = 1057\n ** module chunks = 3\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../css-loader/index.js!./jquery-toolbar-white.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./jquery-toolbar-white.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./jquery-toolbar-white.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/heatmap-anatomogram/src/jquery-toolbar-white.css\n ** module id = 1058\n ** module chunks = 3\n **/","exports = module.exports = require(\"./../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/* Custom style for jquery-toolbar */\\n\\n.tool-container {\\n    box-shadow: 0 0 2px grey;\\n}\\n\\n.btn-toolbar-white {\\n    background-color: #b2c6cd;\\n}\\n.btn-toolbar-white.pressed {\\n    background-color: #d6e1e5;\\n}\\n.btn-toolbar-white:hover {\\n    background-color: #d6e1e5;\\n}\\n.btn-toolbar-white > i {\\n    color: white;\\n}\\n\\n.toolbar-white {\\n    background-color: whitesmoke;\\n}\\n.toolbar-white.tool-top .arrow {\\n    border-color: #b2c6cd transparent transparent;\\n}\\n.toolbar-white.tool-bottom .arrow {\\n    border-color: transparent transparent #b2c6cd;\\n}\\n.toolbar-white.tool-left .arrow {\\n    border-color: transparent transparent transparent #b2c6cd;\\n}\\n.toolbar-white.tool-right .arrow {\\n    border-color: transparent lightgrey transparent transparent;\\n}\\n.toolbar-white .tool-item > .fa {\\n    color: white;\\n}\\n.toolbar-white .tool-item.selected,\\n.toolbar-white .tool-item:hover {\\n    background: lightgoldenrodyellow;\\n    color: white;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/css-loader!./faceted-search/~/heatmap-anatomogram/src/jquery-toolbar-white.css\n ** module id = 1059\n ** module chunks = 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nmodule.exports = require('./src/HeatmapBaselineCellVariance.jsx');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/heatmap-anatomogram/~/heatmap-baseline-cell-variance/index.js\n ** module id = 1060\n ** module chunks = 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar Highcharts = require('react-highcharts');\nrequire('highcharts-more')(Highcharts.Highcharts);\n\n//*------------------------------------------------------------------*\n\nvar HeatmapBaselineCellVariance = React.createClass({\n\n    propTypes: {\n        quartiles: React.PropTypes.shape({\n            min: React.PropTypes.number,\n            lower: React.PropTypes.number,\n            median: React.PropTypes.number,\n            upper: React.PropTypes.number,\n            max: React.PropTypes.number\n        }).isRequired\n    },\n\n    render: function () {\n\n        var chartWidth = 115;\n        var chartHeight = 105;\n        var chartMargin = 0;\n\n        var highchartsOptions = {\n            credits: { enabled: false },\n            chart:   { type: \"boxplot\", width: chartWidth, height: chartHeight, margin: chartMargin},\n            title:   { text: \"\" },\n            legend:  { enabled: false },\n            xAxis:   { title: { text: \"Variance\" } },\n            yAxis:   {\n                title: { text: \"Expression level\" },\n                labels: {\n                    align: \"left\",\n                    x: 0,\n                    y: -2\n                }\n            },\n            plotOptions: {\n                boxplot: {\n                    fillColor: \"#F0F0E0\",\n                    lineWidth: 2,\n                    medianColor: \"#0C5DA5\",\n                    medianWidth: 3,\n                    stemColor: \"#A63400\",\n                    stemDashStyle: \"dot\",\n                    stemWidth: 1,\n                    whiskerColor: \"#3D9200\",\n                    whiskerLength: \"20%\",\n                    whiskerWidth: 3\n                }\n            },\n            series: [{\n                name: \"Expression\",\n                data: [\n                    [this.props.quartiles.min, this.props.quartiles.lower, this.props.quartiles.median, this.props.quartiles.upper, this.props.quartiles.max]\n                ]\n            }],\n            tooltip: {\n                headerFormat: \"\",\n                style:{\n                    fontSize: \"10px\",\n                    padding: 5\n                }\n            }\n        };\n\n        var boxPlotStyle = {width: chartWidth, height: chartHeight, margin: chartMargin};\n        return (\n            <td>\n                <div id=\"container\" ref=\"container\" style={boxPlotStyle}>\n                    <Highcharts config={highchartsOptions}/>\n                </div>\n            </td>\n        );\n    }\n\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = HeatmapBaselineCellVariance;\n\n\n/** WEBPACK FOOTER **\n ** ./faceted-search/~/heatmap-anatomogram/~/heatmap-baseline-cell-variance/src/HeatmapBaselineCellVariance.jsx\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nexports.LegendDifferential = require('./src/LegendDifferential.jsx');\nexports.LegendBaseline = require('./src/LegendBaseline.jsx');\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/legend/index.js\n ** module id = 1065\n ** module chunks = 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\n\n//*------------------------------------------------------------------*\n\nvar LegendRow = require('./LegendRow.jsx');\nvar HelpTooltips = require('help-tooltips');\n\n//*------------------------------------------------------------------*\n\nrequire('./gxaLegend.css');\n\n//*------------------------------------------------------------------*\n\nvar LegendDifferential = React.createClass({\n\n    propTypes: {\n        atlasBaseURL: React.PropTypes.string.isRequired,\n        minDownLevel: React.PropTypes.string.isRequired,\n        maxDownLevel: React.PropTypes.string.isRequired,\n        minUpLevel: React.PropTypes.string.isRequired,\n        maxUpLevel: React.PropTypes.string.isRequired\n    },\n\n    render: function () {\n        return (\n            <div className=\"gxaLegend\">\n                <div style={{display: \"inline-table\"}}>\n                    {isNaN(this.props.minDownLevel) && isNaN(this.props.maxDownLevel) ?\n                        null :\n                        <LegendRow lowExpressionLevel={this.props.minDownLevel}\n                                   highExpressionLevel={this.props.maxDownLevel}\n                                   lowValueColour=\"#C0C0C0\"\n                                   highValueColour=\"#0000FF\"/>\n                    }\n                    {isNaN(this.props.minUpLevel) && isNaN(this.props.maxUpLevel) ?\n                        null :\n                        <LegendRow lowExpressionLevel={this.props.minUpLevel}\n                                   highExpressionLevel={this.props.maxUpLevel}\n                                   lowValueColour=\"#FFAFAF\"\n                                   highValueColour=\"#FF0000\"/>\n                    }\n                </div>\n                <div ref=\"legendHelp\" data-help-loc=\"#gradient-differential\" className=\"gxaLegendHelp\"></div>\n            </div>\n        );\n    },\n\n    componentDidMount: function () {\n        HelpTooltips(this.props.atlasBaseURL, \"experiment\", ReactDOM.findDOMNode(this.refs.legendHelp));\n    }\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = LegendDifferential;\n\n\n\n/** WEBPACK FOOTER **\n ** ./faceted-search/~/legend/src/LegendDifferential.jsx\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\n\n//*------------------------------------------------------------------*\n\nrequire('./gxaGradient.css');\n\n//*------------------------------------------------------------------*\n\nvar LegendRow = React.createClass({\n\n    propTypes: {\n        lowValueColour: React.PropTypes.string.isRequired,\n        highValueColour: React.PropTypes.string.isRequired,\n        lowExpressionLevel: React.PropTypes.oneOfType([React.PropTypes.string, React.PropTypes.element]).isRequired,    // Baseline legend rows can be a React <span> element returned by NumberFormat\n        highExpressionLevel: React.PropTypes.oneOfType([React.PropTypes.string, React.PropTypes.element]).isRequired\n    },\n\n    render: function () {\n        var BACKGROUND_IMAGE_TEMPLATE = \"-webkit-gradient(linear, left top, right top,color-stop(0, ${lowValueColour}), color-stop(1, ${highValueColour}));background-image: -moz-linear-gradient(left, ${lowValueColour}, ${highValueColour});background-image: -ms-linear-gradient(left, ${lowValueColour}, ${highValueColour}); background-image: -o-linear-gradient(left, ${lowValueColour}, ${highValueColour})\";\n        var backgroundImage = BACKGROUND_IMAGE_TEMPLATE.replace(/\\${lowValueColour}/g, this.props.lowValueColour).replace(/\\${highValueColour}/g, this.props.highValueColour);\n\n        // for IE9\n        var LT_IE10_FILTER_TEMPLATE = \"progid:DXImageTransform.Microsoft.Gradient(GradientType =1,startColorstr=${lowValueColour},endColorstr=${highValueColour})\";\n        var lt_ie10_filter = LT_IE10_FILTER_TEMPLATE.replace(/\\${lowValueColour}/, this.props.lowValueColour).replace(/\\${highValueColour}/, this.props.highValueColour);\n\n        return (\n            <div style={{display: \"table-row\"}}>\n                <div className=\"gxaGradientLevel gxaGradientLevelMin\">{this.props.lowExpressionLevel}</div>\n                <div style={{display: \"table-cell\"}}>\n                    <span className=\"gxaGradientColour\" style={{backgroundImage: backgroundImage, filter: lt_ie10_filter}} />\n                </div>\n                <div className=\"gxaGradientLevel gxaGradientLevelMax\">{this.props.highExpressionLevel}</div>\n            </div>\n        );\n    }\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = LegendRow;\n\n\n\n/** WEBPACK FOOTER **\n ** ./faceted-search/~/legend/src/LegendRow.jsx\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../css-loader/index.js!./gxaGradient.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./gxaGradient.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./gxaGradient.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/legend/src/gxaGradient.css\n ** module id = 1068\n ** module chunks = 3\n **/","exports = module.exports = require(\"./../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaGradientColour {\\n    overflow: auto;\\n    vertical-align: middle;\\n    width: 200px;\\n    height: 15px;\\n    margin: 2px 6px 2px 6px;\\n    display: inline-block;\\n}\\n\\n.gxaGradientLevel {\\n    white-space: nowrap;\\n    font-size: 10px;\\n    vertical-align: middle;\\n    display: table-cell;\\n}\\n\\n.gxaGradientLevelMin {\\n    text-align: right;\\n}\\n\\n.gxaGradientLevelMax {\\n    text-align: left;\\n}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/css-loader!./faceted-search/~/legend/src/gxaGradient.css\n ** module id = 1069\n ** module chunks = 3\n **/","exports = module.exports = require(\"./../../../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaHelpTooltip {\\n    background: white;\\n    border-width: 1px !important;\\n    border: solid cornflowerblue;\\n    padding: 4px;\\n    color: cornflowerblue;\\n    font: 10px Verdana, Helvetica, Arial, sans-serif;\\n}\\n\\na.help-icon {\\n    color: darkorange;\\n    vertical-align: top;\\n    font: 10px Verdana, Helvetica, Arial, sans-serif;\\n    font-weight: bold;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/css-loader!./faceted-search/~/legend/~/help-tooltips/src/gxaHelpTooltip.css\n ** module id = 1074\n ** module chunks = 3\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../css-loader/index.js!./gxaLegend.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./gxaLegend.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./gxaLegend.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/legend/src/gxaLegend.css\n ** module id = 1075\n ** module chunks = 3\n **/","exports = module.exports = require(\"./../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaLegendHelp {\\n    display: inline-block;\\n    vertical-align: top;\\n    padding-left: 2px;\\n}\\n\\n.gxaLegend {\\n    display: inline-block;\\n    padding-left: 20px;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/css-loader!./faceted-search/~/legend/src/gxaLegend.css\n ** module id = 1076\n ** module chunks = 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\n\n//*------------------------------------------------------------------*\n\nvar LegendRow = require('./LegendRow.jsx');\nvar NumberFormat = require('number-format');\nvar HelpTooltips = require('help-tooltips');\n\n//*------------------------------------------------------------------*\n\nrequire('./gxaLegend.css');\n\n//*------------------------------------------------------------------*\n\nvar LegendBaseline = React.createClass({\n\n    propTypes: {\n        atlasBaseURL: React.PropTypes.string.isRequired,\n        minExpressionLevel: React.PropTypes.string.isRequired,\n        maxExpressionLevel: React.PropTypes.string.isRequired,\n        isMultiExperiment: React.PropTypes.bool.isRequired\n    },\n\n    render: function () {\n        var dataHelpLoc = this.props.isMultiExperiment ? \"#gradient-base-crossexp\" : \"#gradient-base\";\n\n        // The class gxaHeatmapLegendGradient is used for Selenium tests but isnt styled\n        return (\n            <div className=\"gxaHeatmapLegendGradient\">\n                <div style={{display: \"inline-table\"}}>\n                    <LegendRow lowExpressionLevel={NumberFormat.baselineExpression(this.props.minExpressionLevel)}\n                               highExpressionLevel={NumberFormat.baselineExpression(this.props.maxExpressionLevel)}\n                               lowValueColour=\"#C0C0C0\"\n                               highValueColour=\"#0000FF\"/>\n                </div>\n                <div ref=\"legendHelp\" data-help-loc={dataHelpLoc} className=\"gxaLegendHelp\"></div>\n            </div>\n        );\n    },\n\n    componentDidMount: function () {\n        HelpTooltips(this.props.atlasBaseURL, \"experiment\", ReactDOM.findDOMNode(this.refs.legendHelp));\n    }\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = LegendBaseline;\n\n\n/** WEBPACK FOOTER **\n ** ./faceted-search/~/legend/src/LegendBaseline.jsx\n **/","\"use strict\";\n\nvar React = require('react');   // React is called in the transpiled JS files in the return statements\n\n//*------------------------------------------------------------------*\n\nfunction formatBaselineExpression(expressionLevel) {\n    var numberExpressionLevel = +expressionLevel;\n    return (numberExpressionLevel >= 100000 || numberExpressionLevel < 0.1) ? formatScientificNotation(numberExpressionLevel.toExponential(1).replace('+','')) : '' + numberExpressionLevel;\n}\n\n// expects number in the format #E# and displays exponent in superscript\nfunction formatScientificNotation(scientificNotationString) {\n\n    var formatParts = scientificNotationString.split(/[Ee]/);\n\n    if (formatParts.length == 1) {\n        return (\n            <span>{scientificNotationString}</span>\n        );\n    }\n\n    var mantissa = formatParts[0];\n    var exponent = formatParts[1];\n\n    return (\n        <span>\n            {(mantissa !== \"1\") ? mantissa + \" \\u00D7 \" : ''}10<span style={{'verticalAlign': 'super'}}>{exponent}</span>\n        </span>\n    );\n}\n\n//*------------------------------------------------------------------*\n\nexports.baselineExpression = formatBaselineExpression;\nexports.scientificNotation = formatScientificNotation;\n\n\n/** WEBPACK FOOTER **\n ** ./faceted-search/~/legend/~/number-format/src/NumberFormat.jsx\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nmodule.exports = require('./src/CellDifferential.jsx');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/cell-differential/index.js\n ** module id = 1080\n ** module chunks = 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\nvar ReactDOMServer = require('react-dom/server');\nvar $ = require('jquery');\nrequire('jquery-ui-bundle');\n\n//*------------------------------------------------------------------*\n\nvar NumberFormat = require('number-format');\n\n//*------------------------------------------------------------------*\n\nrequire('./gxaShowHideCell.css');\nrequire('./gxaDifferentialCellTooltip.css');\n\n//*------------------------------------------------------------------*\n\nvar CellDifferential = React.createClass({\n\n    propTypes: {\n        fontSize: React.PropTypes.number,\n        colour: React.PropTypes.string,\n        foldChange: React.PropTypes.string,\n        pValue: React.PropTypes.string,\n        tStat: React.PropTypes.string,\n        displayLevels: React.PropTypes.bool.isRequired\n    },\n\n    _hasValue: function () {\n        return (this.props.foldChange !== undefined);\n    },\n\n    _getStyle: function() {\n        var style = {};\n        if (this.props.fontSize) {\n            style.fontSize = this.props.fontSize + \"px\";\n        }\n\n        return style;\n    },\n\n    render: function () {\n        if (!this._hasValue()) {\n            return (<td/>);\n        }\n\n        return (\n            <td style={{backgroundColor: this.props.colour, verticalAlign: \"middle\"}}>\n                <div style={this._getStyle()} className={this.props.displayLevels ? \"gxaShowCell\" : \"gxaHideCell\"}>\n                    {this.props.foldChange}\n                </div>\n            </td>\n        );\n    },\n\n    componentDidMount: function () {\n        if (this._hasValue()) {\n            this._initTooltip(ReactDOM.findDOMNode(this));\n        }\n    },\n\n    _initTooltip: function(element) {\n\n        //TODO - build this from a React component, like we do for FactorTooltip\n        function buildHeatmapCellTooltip (pValue, tStatistic, foldChange) {\n\n            return \"<table>\" +\n                       \"<thead>\" +\n                           (pValue !== undefined ?\n                               \"<th>Adjusted <em>p</em>-value</th>\" : \"\") +\n                           (tStatistic !== undefined ?\n                               \"<th><em>t</em>-statistic</th>\" : \"\") +\n                           \"<th class='gxaHeaderCell'>Log<sub>2</sub>-fold change</th>\" +\n                       \"</thead>\" +\n                       \"<tbody>\" +\n                           \"<tr>\" +\n                               (pValue !== undefined ?\n                                   \"<td>\" + ReactDOMServer.renderToStaticMarkup(NumberFormat.scientificNotation(pValue)) + \"</td>\" : \"\") +\n                               (tStatistic !== undefined ?\n                                   \"<td>\" + tStatistic + \"</td>\" : \"\") +\n                               \"<td>\" + foldChange + \"</td>\" +\n                           \"</tr>\" +\n                       \"</tbody>\" +\n                   \"</table>\";\n\n        }\n\n        // Dont use bind, tooltip uses this internally\n        var thisProps = this.props;\n\n        $(element).attr(\"title\", \"\").tooltip({\n            open: function (event, ui) {\n                ui.tooltip.css(\"background\", thisProps.colour);\n            },\n\n            tooltipClass: \"gxaDifferentialCellTooltip\",\n\n            content:function () {\n                return buildHeatmapCellTooltip(thisProps.pValue, thisProps.tStat, thisProps.foldChange);\n            }\n        });\n    }\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = CellDifferential;\n\n\n\n/** WEBPACK FOOTER **\n ** ./faceted-search/~/cell-differential/src/CellDifferential.jsx\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../css-loader/index.js!./gxaShowHideCell.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./gxaShowHideCell.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./gxaShowHideCell.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/cell-differential/src/gxaShowHideCell.css\n ** module id = 1084\n ** module chunks = 3\n **/","exports = module.exports = require(\"./../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaShowCell {\\n    background-color: white;\\n    white-space: nowrap;\\n    text-align: center;\\n    margin: 4px;\\n    padding: 2px;\\n    font-size: 9px;\\n}\\n\\n.gxaHideCell {\\n    display: none;\\n    visibility: hidden;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/css-loader!./faceted-search/~/cell-differential/src/gxaShowHideCell.css\n ** module id = 1085\n ** module chunks = 3\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../css-loader/index.js!./gxaDifferentialCellTooltip.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./gxaDifferentialCellTooltip.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./gxaDifferentialCellTooltip.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/cell-differential/src/gxaDifferentialCellTooltip.css\n ** module id = 1086\n ** module chunks = 3\n **/","exports = module.exports = require(\"./../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaDifferentialCellTooltip {\\n    border: solid transparent;\\n    color: darkslategray;\\n    padding: 2px;\\n    font: 10px Verdana, Helvetica, Arial, sans-serif;\\n}\\n\\n.gxaDifferentialCellTooltip table {\\n    background-color: white;\\n    border: 1px solid lightgrey;\\n    border-collapse: collapse;\\n}\\n\\n.gxaDifferentialCellTooltip th {\\n    border-bottom: 1px solid lightgrey;\\n    background-color: floralwhite;\\n}\\n\\n.gxaDifferentialCellTooltip td {\\n    white-space: nowrap;\\n}\\n\\n.gxaDifferentialCellTooltip td, .gxaDifferentialCellTooltip th {\\n    vertical-align: middle;\\n    padding: 8px;\\n    width: 25px;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/css-loader!./faceted-search/~/cell-differential/src/gxaDifferentialCellTooltip.css\n ** module id = 1087\n ** module chunks = 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nmodule.exports = require('./src/DisplayLevelsButton.jsx');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/display-levels-button/index.js\n ** module id = 1088\n ** module chunks = 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\n\nvar $ = require('jquery');\nrequire('jquery-ui-bundle');\n\n//*------------------------------------------------------------------*\n\n\n\n//*------------------------------------------------------------------*\n\nvar DisplayLevelsButton = React.createClass({\n\n    propTypes: {\n        hideText: React.PropTypes.string.isRequired,\n        showText: React.PropTypes.string.isRequired,\n        onClickCallback: React.PropTypes.func.isRequired,\n        displayLevels: React.PropTypes.bool.isRequired,\n        width: React.PropTypes.string,\n        fontSize: React.PropTypes.string\n    },\n\n    _buttonText: function () {\n        return this.props.displayLevels ? this.props.hideText : this.props.showText;\n    },\n\n    _updateButtonText: function () {\n        $(ReactDOM.findDOMNode(this)).button({ label: this._buttonText() });\n    },\n\n    render: function () {\n        var style = {\n        };\n        if (this.props.width) {\n            style.width = this.props.width;\n        }\n        if (this.props.fontSize) {\n            style.fontSize = this.props.fontSize;\n        }\n\n        return (\n            <button style={style} onClick={this.props.onClickCallback}/>\n        );\n    },\n\n    componentDidMount: function () {\n        this._updateButtonText();\n    },\n\n    componentDidUpdate: function () {\n        this._updateButtonText();\n    }\n\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = DisplayLevelsButton;\n\n\n/** WEBPACK FOOTER **\n ** ./faceted-search/~/display-levels-button/src/DisplayLevelsButton.jsx\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nmodule.exports = require('./src/ContrastTooltipModule.js');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/contrast-tooltips/index.js\n ** module id = 1097\n ** module chunks = 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar ReactDOMServer = require('react-dom/server');\n\nvar $ = require('jquery');\nrequire('jquery-ui-bundle');\nrequire('jQuery-ajaxTransport-XDomainRequest');\n\n//*------------------------------------------------------------------*\n\nvar ContrastTooltip = require('./ContrastTooltip.jsx');\n\n//*------------------------------------------------------------------*\n\nrequire('./gxaContrastTooltip.css');\n\n//*------------------------------------------------------------------*\n\nfunction initTooltip(contextRoot, accessKey, element, experimentAccession, contrastId) {\n\n    $(element).attr(\"title\", \"\").tooltip({\n\n        hide: false,\n\n        show: false,\n\n        tooltipClass: \"gxaContrastTooltip\",\n\n        close: function() {\n            $(\".gxaContrastTooltip\").remove();\n        },\n\n        content: function (callback) {\n            $.ajax({\n                url:contextRoot + \"/rest/contrast-summary\",\n                data:{\n                    experimentAccession: experimentAccession,\n                    contrastId: contrastId,\n                    accessKey: accessKey\n                },\n                type:\"GET\",\n                success:function (data) {\n                    var html =\n                        ReactDOMServer.renderToString(\n                            React.createElement(\n                                ContrastTooltip,\n                                {\n                                    experimentDescription: data.experimentDescription,\n                                    contrastDescription: data.contrastDescription,\n                                    testReplicates: data.testReplicates,\n                                    referenceReplicates: data.referenceReplicates,\n                                    properties: data.properties\n                                }\n                            )\n                        );\n                    callback(html);\n                }\n            }).fail(function (data) {\n                console.log(\"ERROR:  \" + data);\n                callback(\"ERROR: \" + data);\n            });\n        }\n\n    });\n\n}\n\n//*------------------------------------------------------------------*\n\nmodule.exports = function (contextRoot, accessKey, element, experimentAccession, contrastId) {\n    initTooltip(contextRoot, accessKey, element, experimentAccession, contrastId);\n};\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/contrast-tooltips/src/ContrastTooltipModule.js\n ** module id = 1098\n ** module chunks = 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\n\n//*------------------------------------------------------------------*\n\nvar ContrastTooltip = React.createClass({\n    propTypes: {\n        experimentDescription: React.PropTypes.string.isRequired,\n        contrastDescription: React.PropTypes.string.isRequired,\n        testReplicates: React.PropTypes.number.isRequired,\n        referenceReplicates: React.PropTypes.number.isRequired,\n        properties: React.PropTypes.arrayOf(\n            React.PropTypes.shape({\n                contrastPropertyType: React.PropTypes.string,\n                propertyName: React.PropTypes.string.isRequired,\n                referenceValue: React.PropTypes.string.isRequired,\n                testValue: React.PropTypes.string.isRequired\n            })\n        )\n    },\n\n\n    propertyRow: function (property) {\n        if (!property.testValue && !property.referenceValue) {\n            return null;\n        }\n\n        function isFactor(property) {\n            return property.contrastPropertyType === \"FACTOR\";\n        }\n\n        var style = {whiteSpace: \"normal\"};\n\n        if (isFactor(property)) {\n            style.fontWeight = \"bold\";\n        } else {\n            style.color = \"gray\";\n        }\n\n        return (\n            <tr key={property.contrastPropertyType + \"-\" + property.propertyName}>\n                <td style={style}>{property.propertyName}</td>\n                <td style={style}>{property.testValue}</td>\n                <td style={style}>{property.referenceValue}</td>\n            </tr>\n        );\n    },\n\n    render: function () {\n        return (\n            <div>\n                <div id=\"contrastExperimentDescription\" style={{fontWeight: \"bold\", color: \"blue\", textAlign: \"center\"}}>{this.props.experimentDescription}</div>\n                <div id=\"contrastDescription\" style={{textAlign: \"center\"}}>{this.props.contrastDescription}</div>\n                <table style={{padding: \"0px\", margin: \"0px\", width: \"100%\"}}>\n                    <thead>\n                        <tr>\n                            <th>Property</th>\n                            <th>Test value (N={this.props.testReplicates})</th>\n                            <th>Reference value (N={this.props.referenceReplicates})</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {this.props.properties.map(this.propertyRow)}\n                    </tbody>\n                </table>\n            </div>\n        );\n    }\n\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = ContrastTooltip;\n\n\n/** WEBPACK FOOTER **\n ** ./faceted-search/~/contrast-tooltips/src/ContrastTooltip.jsx\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../css-loader/index.js!./gxaContrastTooltip.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./gxaContrastTooltip.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./gxaContrastTooltip.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/contrast-tooltips/src/gxaContrastTooltip.css\n ** module id = 1101\n ** module chunks = 3\n **/","exports = module.exports = require(\"./../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaContrastTooltip {\\n    border: solid transparent;\\n    color: darkslategray;\\n    padding: 2px;\\n    font: 10px Verdana, Helvetica, Arial, sans-serif;\\n    max-width: 500px;\\n}\\n\\n.gxaContrastTooltip table {\\n    background-color: white;\\n    border: 1px solid lightgrey;\\n    border-collapse: collapse;\\n}\\n\\n.gxaContrastTooltip th {\\n    border-bottom: 1px solid lightgrey;\\n    background-color: floralwhite;\\n}\\n\\n.gxaContrastTooltip td {\\n    border: 1px solid lightgrey;\\n}\\n\\n.gxaContrastTooltip td, .gxaContrastTooltip th {\\n    vertical-align: middle;\\n    padding: 8px;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/css-loader!./faceted-search/~/contrast-tooltips/src/gxaContrastTooltip.css\n ** module id = 1102\n ** module chunks = 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar $ = require('jquery');\nrequire('jquery-ui-bundle');\n\n//*------------------------------------------------------------------*\n\nrequire('./gene-properties-tooltip-module.css');\n\n//*------------------------------------------------------------------*\n\n/**\n * @param {Object} options\n * @param {string} options.contextRoot\n * @param {string} options.geneName\n * @param {string} options.identifier\n * @param {Object} options.element\n */\nfunction initTooltip(options){\n\n    $(options.element).attr(\"title\", \"\").tooltip({\n\n        hide: false,\n\n        show: false,\n\n        tooltipClass: \"gxaGeneNameTooltip\",\n\n        close: function() {\n            $(\".gxaGeneNameTooltip\").remove();\n        },\n\n        position: { my: \"left+10 top\", at: \"right\"},\n\n        content: function (callback) {\n            if (options.identifier)  {\n                $.ajax({\n                    url: options.contextRoot + \"/rest/genename-tooltip\",\n                    data: {\n                        geneName: options.geneName,\n                        identifier: options.identifier\n                    },\n                    type:\"GET\",\n                    success: function (response) {\n                        if (!response) {\n                            callback(\"Missing properties for id = \" + options.identifier + \" in Solr.\");\n                        }\n\n                        callback(response);\n                    }\n                }).fail(function (data) {\n                    console.log(\"ERROR:  \" + data);\n                    callback(\"ERROR: \" + data);\n                });\n            }\n        }\n\n    });\n\n}\n\n//*------------------------------------------------------------------*\n\nexports.init = function(contextRoot, element, identifier, geneName) {\n    initTooltip({contextRoot: contextRoot, element: element, identifier: identifier, geneName: geneName});\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/heatmap-anatomogram/src/gene-properties-tooltip-module.js\n ** module id = 1103\n ** module chunks = 3\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../css-loader/index.js!./gene-properties-tooltip-module.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./gene-properties-tooltip-module.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./gene-properties-tooltip-module.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/heatmap-anatomogram/src/gene-properties-tooltip-module.css\n ** module id = 1104\n ** module chunks = 3\n **/","exports = module.exports = require(\"./../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaGeneNameTooltip {\\n    border: solid transparent;\\n    color: darkslategray;\\n    padding: 2px;\\n    font: 10px Verdana, Helvetica, Arial, sans-serif;\\n    background: floralwhite;\\n}\\n\\nspan.gxaGenePropertyLabel {\\n    color: brown;\\n    font-weight: bold;\\n    display: inline-block;\\n    text-align: left;\\n}\\n\\n.gxaPropertyValueMarkup {\\n    text-align: center;\\n    background-color: rgb(223, 213, 213);\\n\\n}\\n\\n.gxaGeneNameTooltip {\\n    text-align: justify;\\n}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/css-loader!./faceted-search/~/heatmap-anatomogram/src/gene-properties-tooltip-module.css\n ** module id = 1105\n ** module chunks = 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar ReactDOMServer = require('react-dom/server');\n\nvar $ = require('jquery');\nrequire('jquery-ui-bundle');\n\n//*------------------------------------------------------------------*\n\nvar FactorTooltip = require('./factor-tooltip.jsx');\n\n//*------------------------------------------------------------------*\n\nrequire('./factor-tooltip-module.css');\n\n//*------------------------------------------------------------------*\n\n/**\n * @param {Object} options\n * @param {string} options.contextRoot\n * @param {string} options.accessKey\n * @param {string} options.experimentAccession\n * @param {string} options.assayGroupId\n * @param {Object} options.element\n */\nfunction initTooltip(options) {\n\n    $(options.element).attr(\"title\", \"\").tooltip({\n\n        hide:false,\n\n        show:false,\n\n        tooltipClass: \"gxaFactorTooltip\",\n\n        close: function() {\n            $(\".gxaFactorTooltip\").remove();\n        },\n\n        content: function (callback) {\n            $.ajax({\n                url: options.contextRoot + \"/rest/assayGroup-summary\",\n                data:{\n                    experimentAccession: options.experimentAccession,\n                    assayGroupId: options.assayGroupId,\n                    accessKey: options.accessKey\n                },\n                type:\"GET\",\n                success:function (data) {\n                    var html =\n                        ReactDOMServer.renderToString(\n                            React.createElement(\n                                FactorTooltip,\n                                {\n                                    properties: data.properties,\n                                    replicates: data.replicates\n                                }\n                            )\n                        );\n                    callback(html);\n                }\n            }).fail(function (data) {\n                    console.log(\"ERROR:  \" + data);\n                    callback(\"ERROR: \" + data);\n            });\n        }\n    });\n}\n\n//*------------------------------------------------------------------*\n\nexports.init = function (contextRoot, accessKey, element, experimentAccession, assayGroupId) {\n    initTooltip({contextRoot: contextRoot, accessKey: accessKey, element: element, experimentAccession: experimentAccession, assayGroupId: assayGroupId});\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/heatmap-anatomogram/src/factor-tooltip-module.js\n ** module id = 1106\n ** module chunks = 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\n\n//*------------------------------------------------------------------*\n\nvar FactorTooltip = React.createClass({\n\n    propertyRow: function (property) {\n        if (!property.testValue) {\n            return null;\n        }\n\n        function isFactor(property) {\n            return property.contrastPropertyType === 'FACTOR';\n        }\n\n        var style = {'whiteSpace': 'normal'};\n\n        if (isFactor(property)) {\n            style['fontWeight'] = 'bold';\n        } else {\n            style['color'] = 'gray';\n        }\n\n        return (\n            <tr key={property.propertyName}>\n                <td style={style}>{property.propertyName}</td>\n                <td style={style}>{property.testValue}</td>\n            </tr>\n        );\n    },\n\n    render: function () {\n        return (\n            <div>\n                <table>\n                    <thead>\n                        <tr>\n                            <th>Property</th>\n                            <th>Value (N={this.props.replicates})</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {this.props.properties.map(this.propertyRow)}\n                    </tbody>\n                </table>\n            </div>\n        );\n    }\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = FactorTooltip;\n\n\n/** WEBPACK FOOTER **\n ** ./faceted-search/~/heatmap-anatomogram/src/factor-tooltip.jsx\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../css-loader/index.js!./factor-tooltip-module.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./factor-tooltip-module.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./factor-tooltip-module.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/heatmap-anatomogram/src/factor-tooltip-module.css\n ** module id = 1108\n ** module chunks = 3\n **/","exports = module.exports = require(\"./../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaFactorTooltip {\\n    border: solid transparent;\\n    color: darkslategray;\\n    padding: 2px;\\n    font: 10px Verdana, Helvetica, Arial, sans-serif;\\n    max-width: 600px;\\n}\\n\\n.gxaFactorTooltip table {\\n    background-color: white;\\n    border: 1px solid lightgrey;\\n    border-collapse: collapse;\\n}\\n\\n.gxaFactorTooltip th {\\n    border-bottom: 1px solid lightgrey;\\n    background-color: floralwhite;\\n}\\n\\n.gxaFactorTooltip td {\\n    border: 1px solid lightgrey;\\n    white-space: nowrap;\\n}\\n\\n.gxaFactorTooltip td, .gxaFactorTooltip th {\\n    vertical-align: middle;\\n    padding: 8px;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/css-loader!./faceted-search/~/heatmap-anatomogram/src/factor-tooltip-module.css\n ** module id = 1109\n ** module chunks = 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar $ = require('jquery');\n\n//*------------------------------------------------------------------*\n\nfunction StickyHeaderModule(table, stickyIntersect, stickyColumn, stickyHeadRow, stickyWrap, tableHeader) {\n    var $t\t             = $(table),\n        $stickyIntersect = $(stickyIntersect),\n        $stickyColumn    = $(stickyColumn),\n        $stickyHeadRow   = $(stickyHeadRow),\n        $stickyWrap      = $(stickyWrap),\n        $tableHeader     = $(tableHeader);\n\n    var calculateAllowance = createStickyAllowanceCallback($t, $stickyHeadRow);\n    var stickyReposition = createStickyRepositionCallback($t, $stickyIntersect, $stickyColumn, $stickyHeadRow, $stickyWrap, $tableHeader, calculateAllowance);\n    var setWidthAndHeight = createSetStickyWidthHeight($t, $stickyIntersect, $stickyColumn, $stickyHeadRow, $stickyWrap);\n    var setWidthsAndReposition = createSetStickyWidthHeightAndRepositionCallback(setWidthAndHeight, stickyReposition);\n\n    return {\n        calculateAllowance: calculateAllowance,\n        stickyReposition: stickyReposition,\n        setWidthAndHeight: setWidthAndHeight,\n        setWidthsAndReposition: setWidthsAndReposition\n    };\n\n    function createSetStickyWidthHeight($t, $stickyIntersect, $stickyColumn, $stickyHeadRow, $stickyWrap) {\n        return function () {\n            $t.find(\"thead th\").each(\n                function (i) {\n                    $stickyHeadRow.find(\"th\").eq(i).width($(this).width());\n                }\n            ).end().find(\"tr\").each(\n                function (i) {\n                    $stickyColumn.find(\"tr\").eq(i).height($(this).height());\n                    $stickyIntersect.find(\"tr\").eq(i).height($(this).height());\n                }\n            );\n\n            // Set width of sticky header table and intersect. WebKit does it wrong...\n            if ($.browser.webkit) {\n                $stickyHeadRow\n                    .width($stickyWrap.width())\n                    .find(\"table\")\n                    .width($t.outerWidth());\n                $stickyIntersect.find(\"table\").width($t.find(\"thead th\").eq(0).outerWidth() + 1);\n                $stickyColumn.find(\"table\").width($t.find(\"thead th\").eq(0).outerWidth() + 1);\n            } else {\n                $stickyHeadRow\n                    .width($stickyWrap.width())\n                    .find(\"table\")\n                    .width($t.width());\n                $stickyIntersect.find(\"table\").width($t.find(\"thead th\").eq(0).outerWidth());\n                $stickyColumn.find(\"table\").width($t.find(\"thead th\").eq(0).outerWidth());\n            }\n\n            // Set width of sticky table col\n            $stickyIntersect.find(\"tr:nth-child(2) th\").each(function (i) {\n                $(this).width($t.find(\"tr:nth-child(2) th\").eq(i).width());\n            });\n        }\n    }\n\n    function createStickyRepositionCallback($t, $stickyIntersect, $stickyColumn, $stickyHeadRow, $stickyWrap, $tableHeader, stickyAllowanceCallback) {\n        return function() {\n            var $w = $(window);\n\n            // Set position sticky col\n            $stickyHeadRow.add($stickyIntersect).add($stickyColumn).css({\n                left: $stickyWrap.offset().left,\n                top: $stickyWrap.offset().top\n            });\n\n            var allowance = stickyAllowanceCallback();\n\n            $stickyHeadRow.find(\"table\").css({\n                left: -$stickyWrap.scrollLeft()\n            });\n            $stickyColumn.css({\n                top: $stickyWrap.offset().top - $w.scrollTop(),\n                left: $stickyWrap.offset().left\n            });\n\n            // 1. Position sticky header based on viewport scrollTop\n            if ($w.scrollTop() + $tableHeader.outerHeight() > $t.offset().top &&\n                $w.scrollTop() + $tableHeader.outerHeight() < $t.offset().top + $t.outerHeight() - allowance) {\n                // When top of viewport is in the table itself\n                $stickyHeadRow.add($stickyIntersect).css({\n                    visibility: \"visible\",\n                    top: $tableHeader.outerHeight()\n                });\n            } else if ($w.scrollTop() + $tableHeader.outerHeight() > $t.offset().top + $t.outerHeight() - allowance) {\n                $stickyHeadRow.add($stickyIntersect).css({\n                    visibility: \"visible\",\n                    top: $t.offset().top + $t.outerHeight() - allowance - $w.scrollTop()\n                });\n            } else {\n                // When top of viewport is above or below table\n                $stickyHeadRow.add($stickyIntersect).css({\n                    visibility: \"hidden\",\n                    top: $stickyWrap.offset().top - $w.scrollTop()\n                });\n            }\n\n            // 2. Now deal with positioning of sticky column\n            if($stickyWrap.scrollLeft() > 0) {\n                // When left of wrapping parent is out of view\n                $stickyColumn.css({\n                    visibility: \"visible\",\n                    \"z-index\": 40\n                });\n            } else {\n                $stickyColumn.css({\n                    visibility: \"hidden\",\n                    \"z-index\": -5\n                });\n            }\n        }\n    }\n\n    function createSetStickyWidthHeightAndRepositionCallback(setWidthAndHeightCallback, stickyRepositionCallback) {\n        return function () {\n            setWidthAndHeightCallback();\n            stickyRepositionCallback();\n        }\n    }\n\n    function createStickyAllowanceCallback($t, $stickyHeadRow) {\n        return function() {\n            var rowHeight = 0;\n            // Calculate allowance\n            $t.find(\"tbody tr:lt(1)\").each(function () {\n                rowHeight += $(this).height();\n            });\n            return rowHeight + $stickyHeadRow.height();\n        }\n    }\n}\n\n//*------------------------------------------------------------------*\n\nmodule.exports = StickyHeaderModule;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/heatmap-anatomogram/src/sticky-header-module.js\n ** module id = 1110\n ** module chunks = 3\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../css-loader/index.js!./sticky-header-module.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./sticky-header-module.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./sticky-header-module.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/heatmap-anatomogram/src/sticky-header-module.css\n ** module id = 1111\n ** module chunks = 3\n **/","exports = module.exports = require(\"./../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaStickyTableWrap {\\n    overflow-x: auto;\\n    overflow-y: hidden;\\n    position: relative;\\n    width: 100%;\\n}\\n\\n.gxaStickyTableWrap div[class^='gxaSticky'] {\\n    overflow: hidden;\\n}\\n.gxaStickyTableWrap tfoot {\\n    display: none;\\n}\\n.gxaStickyTableWrap div table {\\n    margin: 0;\\n    position: relative;\\n    width: auto; /* Prevent table from stretching to full size */\\n    border-collapse: collapse;\\n}\\n.gxaStickyTableWrap .gxaStickyTableHeader,\\n.gxaStickyTableWrap .gxaStickyTableColumn,\\n.gxaStickyTableWrap .gxaStickyTableIntersect {\\n    visibility: hidden;\\n    position: fixed;\\n    z-index: 40;\\n}\\n.gxaStickyTableWrap .gxaStickyTableHeader {\\n    z-index: 50;\\n    width: 100%; /* Force stretch */\\n}\\n.gxaStickyTableWrap .gxaStickyTableIntersect {\\n    z-index: 60;\\n}\\n.gxaStickyTableWrap td,\\n.gxaStickyTableWrap th {\\n    box-sizing: border-box;\\n}\\n.gxaStickyTableWrap thead th {\\n    -webkit-user-select: none;\\n    -moz-user-select: none;\\n    -ms-user-select: none;\\n}\\n.gxaStickyEnabled {\\n    margin: 0;\\n    width: auto;\\n}\\n\\n.wrapper-sticky {\\n    z-index: 45;\\n}\\n\\n/* To hide sticky column and intersect when screen gets too narrow */\\n@media only screen and (max-width: 768px) {\\n    .gxaStickyTableColumn, .gxaStickyTableIntersect {\\n        display: none;\\n    }\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/css-loader!./faceted-search/~/heatmap-anatomogram/src/sticky-header-module.css\n ** module id = 1112\n ** module chunks = 3\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../css-loader/index.js!./heatmap.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./heatmap.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./heatmap.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/heatmap-anatomogram/src/heatmap.css\n ** module id = 1113\n ** module chunks = 3\n **/","exports = module.exports = require(\"./../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaHeatmapMatrixTopLeftCorner {\\n    position: relative;\\n    display: table;\\n    height: 110px;\\n    width: 100%;\\n    min-width: 160px;\\n}\\n\\n.gxaTableGrid {\\n    color: #404040;\\n    background-color: white;\\n    border: 1px solid #cdcdcd !important;\\n    border-spacing: 0;\\n    empty-cells: show;\\n    height: 100%;\\n    text-align: left;\\n    width: auto;\\n    border-collapse: collapse;\\n}\\n\\n.gxaTableGrid>tbody>tr>td, .gxaTableGrid>thead>tr>td {\\n    color: #3D3D3D;\\n    vertical-align: middle;\\n    border: 1px solid #cdcdcd !important;\\n    height: 25px;\\n    width: 25px;\\n    white-space: nowrap;\\n}\\n\\nth.gxaVerticalHeaderCell, .gxaHorizontalHeaderCell {\\n    font-weight: normal;\\n    background-color: rgb(237, 246, 246) !important;\\n}\\n\\nth.gxaHoverableHeader:hover, th.gxaHeaderHover {\\n    background-color: #deebeb !important;\\n}\\n\\nth.gxaSelectableHeader:hover {\\n    cursor: pointer;\\n}\\n\\nth.gxaVerticalHeaderCell-selected, th.gxaVerticalHeaderCell-selected:hover, th.gxaHorizontalHeaderCell-selected, th.gxaHorizontalHeaderCell-selected:hover {\\n    background-color: rgb(181, 234, 234) !important;\\n    border: 1px solid #cdcdcd;\\n    padding:5px;\\n}\\n\\nth.gxaHorizontalHeaderCell {\\n    border: 1px solid #cdcdcd;\\n    white-space: nowrap;\\n    padding:5px;\\n    text-align: left !important;\\n}\\n\\ntr.gxaProteomicsExperiment td.gxaHorizontalHeaderCell {\\n    background-color: rgb(210, 233, 233) !important;\\n}\\n\\ntr.gxaProteomicsExperiment td.gxaHorizontalHeaderCell-selected, tr.gxaProteomicsExperiment td.gxaHorizontalHeaderCell:hover {\\n    background-color: rgb(200, 220, 220) !important;\\n}\\n\\n.gxaHeatmapCell {\\n    font-size: 9px;\\n    background-color: white;\\n    margin: 4px;\\n    padding: 2px;\\n    white-space: nowrap;\\n    text-align: center;\\n}\\n\\nth.gxaHeatmapTableDesignElement {\\n    font-weight: normal;\\n    text-align: left;\\n    border: 1px solid #CDCDCD;\\n}\\n\\n.gxaHeatmapCountAndLegend {\\n    background: white;\\n}\\n\\n.csstransforms .rotated_cell {\\n    height: 130px;\\n    border: 1px solid #cdcdcd;\\n    vertical-align: bottom;\\n    padding-bottom: 10px\\n}\\n\\n.csstransforms .rotate_text {\\n    position: relative;\\n    top: 27px;\\n    width: 25px;\\n    padding-top: 5px;\\n    white-space: nowrap;\\n    -moz-transform: rotate(-90deg);\\n    -moz-transform-origin: top left;\\n    -ms-transform: rotate(-90deg);\\n    -ms-transform-origin: top left;\\n    -webkit-transform: rotate(-90deg);\\n    -webkit-transform-origin: top left;\\n    -o-transform: rotate(-90deg);\\n    -o-transform-origin: top left;\\n}\\n\\n.csstransforms .rotate_tick {\\n    -moz-transform: rotate(-270deg);\\n    -webkit-transform: rotate(-270deg);\\n    -ms-transform: rotate(-270deg);\\n    -o-transform: rotate(-270deg);\\n}\\n\\n.gxaNoTextButton {\\n    border: 1px solid #ccc !important; /* overrides ebi-visual.css */\\n}\\n\\n.gxaNoTextButton .ui-button-text {\\n    padding: 2px;\\n}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/css-loader!./faceted-search/~/heatmap-anatomogram/src/heatmap.css\n ** module id = 1114\n ** module chunks = 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar BootstrapButton = require('react-bootstrap/lib/Button');\n\n//*------------------------------------------------------------------*\n\nvar ExperimentsList = React.createClass({\n    propTypes: {\n        profiles: React.PropTypes.shape({\n            rows: React.PropTypes.array.isRequired\n        }).isRequired,\n        atlasBaseURL: React.PropTypes.string.isRequired,\n        linksAtlasBaseURL: React.PropTypes.string.isRequired,\n        geneQuery: React.PropTypes.string.isRequired\n    },\n\n    getInitialState: function() {\n        return {\"displayAll\": this.props.profiles.rows.length < 10};\n    },\n\n    _getRowsToDisplay: function() {\n        var rows = this.props.profiles.rows.sort(this._lexicalSort);\n        return this.state.displayAll ? rows : rows.slice(0,10);\n    },\n\n    _displayAll :function() {\n      this.setState({\"displayAll\" : true});\n    },\n\n    _lexicalSort: function(thisProfile, thatProfile) {\n        if (thisProfile.name > thatProfile.name) {\n            return 1;\n        }\n        if (thisProfile.name < thatProfile.name) {\n            return -1;\n        }\n        return 0;\n    },\n\n    _renderListItem: function (profile) {\n        var experimentURL =\n            this.props.linksAtlasBaseURL +\n            \"/experiments/\" + profile.id + \"?geneQuery=\" + this.props.geneQuery +\n            (profile.serializedFilterFactors ?\n            \"&serializedFilterFactors=\" + encodeURIComponent(profile.serializedFilterFactors) : \"\");\n\n        return (\n            <li key={profile.name}>\n                <a target=\"_blank\" href={experimentURL}>{profile.name}</a>\n            </li>\n        );\n    },\n\n    _renderListItems: function(options) {\n        return this._getRowsToDisplay().map(this._renderListItem);\n    },\n\n    render: function() {\n        return (\n            <ul style={{listStyleType: \"none\", paddingLeft: \"0\"}}>\n                {this._renderListItems()}\n                {this.state.displayAll? <a/> : <BootstrapButton bsStyle=\"default\" bsSize=\"xsmall\" onClick={this._displayAll}>More</BootstrapButton> }\n            </ul>\n        );\n    }\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = ExperimentsList;\n\n\n/** WEBPACK FOOTER **\n ** ./faceted-search/~/heatmap-anatomogram/src/experiments-list.jsx\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nmodule.exports = {\n    BASELINE: { isBaseline: true, heatmapTooltip: \"#heatMapTableCellInfo-baseline\" },\n    PROTEOMICS_BASELINE: { isBaseline: true, isProteomics: true, heatmapTooltip: \"#heatMapTableCellInfo-proteomics\" },\n    DIFFERENTIAL: { isDifferential: true, heatmapTooltip: \"#heatMapTableCellInfo-differential\" },\n    MULTIEXPERIMENT: { isMultiExperiment: true, heatmapTooltip: \"#heatMapTableCellInfo-multiexperiment\" }\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/heatmap-anatomogram/src/experiment-types.js\n ** module id = 1147\n ** module chunks = 3\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../css-loader/index.js!./heatmap-anatomogram-container.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./heatmap-anatomogram-container.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./heatmap-anatomogram-container.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/heatmap-anatomogram/src/heatmap-anatomogram-container.css\n ** module id = 1148\n ** module chunks = 3\n **/","exports = module.exports = require(\"./../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaHeatmapAnatomogramRow {\\n    position: relative;\\n}\\n\\n.gxaHeatmapAnatomogramRow:after {\\n    clear: both;\\n    content: \\\".\\\";\\n    display: block;\\n    visibility: hidden;\\n}\\n\\n.gxaInnerHeatmap {\\n    position: relative;\\n    overflow: hidden;\\n}\\n\\n.gxaAside {\\n    float: left;\\n}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/css-loader!./faceted-search/~/heatmap-anatomogram/src/heatmap-anatomogram-container.css\n ** module id = 1149\n ** module chunks = 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\n\nvar $ = require('jquery');\nrequire('jquery.browser');\n\nvar URI = require('urijs');\n\n//*------------------------------------------------------------------*\n\nvar DifferentialFacetsTree = require('./differential-facets-tree.jsx');\nvar DifferentialResults = require('./differential-results.jsx');\n\n//*------------------------------------------------------------------*\n\n/**\n * @param {Object} options\n * @param {string} options.facetsContainer - id of the facets container, i.e. a <div> id\n * @param {string} options.resultsContainer - id of the results container, i.e. a <div> id\n * @param {string} options.identifier\n * @param {string} options.queryType - \"gene\", \"geneSet\"\n * @param {string} options.species\n * @param {string} options.atlasHost\n */\nmodule.exports = function (options) {\n\n    var ie9 = $.browser.msie && $.browser.version < 10;\n    !ie9 && window.addEventListener(\"popstate\", backButtonListener, false);\n\n    var facetsElement = document.getElementById(options.facetsContainer),\n        resultsElement = document.getElementById(options.resultsContainer),\n        host = options.atlasHost ? options.atlasHost : window.location.host;\n\n    var query = {\n        geneQuery : options.identifier,\n        queryType : options.queryType,\n        select    : {}\n    };\n\n    var differentialFacetsPath = \"\";\n    var differentialResultsPath = \"\";\n    switch (query.queryType) {\n        case \"gene\":\n            differentialFacetsPath = \"gxa/json/genes/\" + query.geneQuery + \"/differentialFacets\";\n            differentialResultsPath = \"gxa/json/genes/\" + query.geneQuery + \"/differentialResults\";\n            break;\n        case \"geneSet\":\n            differentialFacetsPath = \"gxa/json/genesets/\" + query.geneQuery + \"/differentialFacets\";\n            differentialResultsPath = \"gxa/json/genesets/\" + query.geneQuery + \"/differentialResults\";\n            break;\n        default:\n            break;\n    }\n\n    var facetsTreeData,\n        resultsData;\n    $.ajaxSetup({ traditional:true });\n    $.ajax({\n        url: new URI({protocol: URI(window.location).protocol(), hostname: host, path: differentialFacetsPath}).normalize(),\n        dataType: \"json\",\n        success: function(response) {\n            facetsTreeData = response;\n            if (options.species) {\n                for (var i = 0 ; i < facetsTreeData.species.length ; i++) {\n                    if (facetsTreeData.species[i].name === options.species) {\n                        addSelection(query.select, \"species\", options.species);\n                    }\n                }\n            }\n            if (Object.keys(query.select).length === 0) {\n                parseSelectedFacetsFromLocation();\n            }\n            pushQueryIntoBrowserHistory(true);\n\n            $.ajax({\n                url: new URI({protocol: URI(window.location).protocol(), hostname: host, path: differentialResultsPath}).normalize(),\n                dataType: \"json\",\n                success: function(response) {\n                    resultsData = response;\n\n                    filterAndRenderResults();\n                },\n                error: function(jqXHR, textStatus, errorThrown) {\n                    console.log(\"ERROR\");\n                    console.log(\"Status: \" + textStatus);\n                    console.log(\"Error thrown: \" + errorThrown);\n                }\n            });\n        },\n        error: function(jqXHR, textStatus, errorThrown) {\n            console.log(\"ERROR\");\n            console.log(\"Status: \" + textStatus);\n            console.log(\"Error thrown: \" + errorThrown);\n        }\n    });\n\n\n    function backButtonListener() {\n        if (window.location.hash === \"#differential\") {\n            parseSelectedFacetsFromLocation();\n            filterAndRenderResults();\n        }\n    }\n\n    /**\n     * Parse the `ds` search field in the URL and assign it to the `query` object\n     */\n    function parseSelectedFacetsFromLocation() {\n        var currentURL = new URI(window.location);\n        var selectString = currentURL.search(true)[\"ds\"];\n        query.select = selectString ? JSON.parse(selectString) : {};\n    }\n\n\n    function setChecked(checked, facet, facetItem) {\n        if (checked) {\n            addSelection(query.select, facet, facetItem);\n        } else {\n            removeSelection(query.select, facet, facetItem);\n        }\n        pushQueryIntoBrowserHistory(false);\n        filterAndRenderResults();\n    }\n\n    function addSelection(select, facet, facetItem) {\n        if (!select[facet]) {\n            select[facet] = {};\n        }\n        select[facet][facetItem] = true;\n    }\n\n    function removeSelection(select, facet, facetItem) {\n        select[facet][facetItem] = false;\n    }\n\n    /**\n     * Stringify the `query` object, assign it to the `ds` search field in the URL and store it in the History\n     * @param {boolean} replace - use `replaceState` instead of `pushState`\n     */\n    function pushQueryIntoBrowserHistory(replace) {\n        var newURL = new URI(window.location).search(function(data) {\n            data.ds = JSON.stringify(query.select);\n        });\n\n        if (!ie9) {\n            if (replace) {\n                history.replaceState(null, \"\", newURL);\n            } else {\n                history.pushState(null, \"\", newURL);\n            }\n        }\n    }\n\n    function filterResults(query) {\n        return resultsData.results.filter(function(result) {\n            for (var facetName in query) {\n                if (query.hasOwnProperty(facetName)) {\n\n                    var hasCheckedItemsInThisFacet = false;\n                    var facetMatch = false;\n\n                    for (var facetItem in query[facetName]) {\n                        if (query[facetName].hasOwnProperty(facetItem)) {\n\n                            if (query[facetName][facetItem]) {\n                                hasCheckedItemsInThisFacet = true;\n\n                                if (result[facetName].constructor === Array) {\n                                    facetMatch = facetMatch || result[facetName].indexOf(facetItem) != -1;\n                                }\n                                else {\n                                    facetMatch = facetMatch || result[facetName] === facetItem;\n                                }\n                            }\n\n                        }\n                    }\n\n                    if (hasCheckedItemsInThisFacet && !facetMatch) {\n                        return false;\n                    }\n                }\n            }\n\n            return true;\n        });\n\n    }\n\n    function filterAndRenderResults() {\n\n        var filteredResults = filterResults (query.select);\n\n        var disabledCheckedFacets = {};\n        var disabledUncheckedFacets = {};\n\n        var selectedFacets = [];\n        for (var facet in query.select) {\n            var itemFacet = query.select[facet];\n            for (var item in itemFacet) {\n                if (itemFacet[item]) {\n                    selectedFacets.push(item);\n                }\n            }\n        }\n\n        var notSelectedFacets = {};\n        for (var facet in facetsTreeData) {\n            var facetItems = facetsTreeData[facet];\n            var unSelectedFacets = [];\n            for (var item in facetItems) {\n                var facetItem = facetItems[item];\n                if (selectedFacets.indexOf(facetItem.name) === -1) {\n                    unSelectedFacets.push(facetItem);\n                }\n            }\n            notSelectedFacets[facet] = unSelectedFacets;\n        }\n\n        for (var facet in notSelectedFacets) {\n            var facetNotExistsValue = [];\n            var _query = query.select;\n\n            for (var item in notSelectedFacets[facet]) {\n                var facetItem = notSelectedFacets[facet][item];\n\n                if (_query.hasOwnProperty(facet)) {\n                    _query[facet][facetItem.name] = true;\n                } else {\n                    var _item = {};\n                    _item[facetItem.name] = true;\n                    _query[facet] = _item;\n                }\n\n                var queryResults = filterResults(_query);\n                if (queryResults.length === 0 || queryResults.length === filteredResults.length) {\n                    facetNotExistsValue.push(facetItem.name);\n                }\n                _query[facet][facetItem.name] = false; // once calculated, leave it as it was\n            }\n\n            if (facetNotExistsValue.length > 0) {\n                disabledUncheckedFacets[facet] = facetNotExistsValue;\n            }\n        }\n\n        for (var facet in disabledUncheckedFacets) {\n            var facetValue = [];\n\n            for (var item in disabledUncheckedFacets[facet]) {\n                var existsFacet = true;\n                var existMultiValueFacet = false;\n\n                for (var index in filteredResults) {\n                    var filtered = filteredResults[index];\n                    var facetResults = filtered[facet];\n\n                    if (facet === \"factors\" && facetResults.length > 1 ) {\n                        if (facetResults.indexOf(disabledUncheckedFacets[facet][item].toString()) === -1) {\n                            existsFacet = false;\n                        } else {\n                            existMultiValueFacet = true;\n                        }\n\n                    } else if (disabledUncheckedFacets[facet][item].toString() !== facetResults.toString()) {\n                        existsFacet = false;\n                    }\n                }\n\n                //All the results contain the same item\n                if (existsFacet) {\n                    facetValue.push(disabledUncheckedFacets[facet][item]);\n                }\n\n                //If all the results don't contain the same facet but the factor multiValue exists in more than one result\n                if (!existsFacet && existMultiValueFacet) {\n                    disabledUncheckedFacets[facet].splice(item, 1);\n                }\n            }\n\n            //FacetValue contains all the items that are present in the results for a facet\n            if (facetValue.length > 0) {\n                disabledCheckedFacets[facet] = facetValue;\n            }\n        }\n\n        ReactDOM.render(\n            React.createElement(\n                DifferentialFacetsTree, {facets: facetsTreeData, checkedFacets: query.select, setChecked: setChecked,\n                    disabledCheckedFacets: disabledCheckedFacets, disabledUncheckedFacets: disabledUncheckedFacets}\n            ),\n            facetsElement\n        );\n\n        ReactDOM.render(\n            React.createElement(\n                DifferentialResults,\n                {results: filteredResults.slice(0, 1000), maxDownLevel: resultsData.maxDownLevel,\n                    minDownLevel: resultsData.minDownLevel, minUpLevel: resultsData.minUpLevel,\n                    maxUpLevel: resultsData.maxUpLevel, host: host}\n            ),\n            resultsElement\n        );\n    }\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/src/differential-router.js\n ** module id = 1150\n ** module chunks = 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\n\n//*------------------------------------------------------------------*\n\nrequire('./facets-tree.css');\n\n//*------------------------------------------------------------------*\n\nvar DifferentialFacetsTree = React.createClass({\n    propTypes: {\n        /*\n        {\n            \"species\": [ {\"name\": \"homo sapiens\", \"value\": \"Homo sapiens\"}, {\"name\": \"arabidopsis thaliana\", \"value\": \"arabidopsis thaliana\"} ],\n            \"experimentType\": [ {\"name\": \"rnaseq_mrna_differential\", \"value\": \"RNA-seq mRNA\"}, {\"name\": \"microarray_1colour_mrna_differential\", \"value\": \"1 colour mRNA\"} ],\n            \"factors\": [ {\"name\": \"genotype\", \"value\": \"genotype\"} ],\n            \"numReplicates\": [ {\"name\": \"3\", \"value\": \"3\"} ],\n            \"regulation\": [ {\"name\": \"UP\", \"value\": \"up\"} ]\n        }\n        */\n        facets: React.PropTypes.object.isRequired,\n        /*\n        { \"species\" : { \"homo sapiens\": true, \"arabidopsis thaliana\": true }, \"regulation\": {\"UP\": true } }\n        */\n        disabledCheckedFacets: React.PropTypes.object.isRequired,\n        disabledUncheckedFacets: React.PropTypes.object.isRequired,\n        checkedFacets: React.PropTypes.object,\n        setChecked: React.PropTypes.func.isRequired\n    },\n\n    _setChecked: function (checked, facet, facetItem) {\n        this.props.setChecked(checked, facet, facetItem);\n    },\n\n    _disableUncheckedFacetItems: function (facet) {\n        return this.props.disabledUncheckedFacets[facet] ? this.props.disabledUncheckedFacets[facet] : [];\n    },\n\n    render: function () {\n        var facets = Object.keys(this.props.facets).map(function (facet) {\n            return <Facet key={facet} facetName={facet} facetItems={this.props.facets[facet]}\n                checkedFacetItems={this.props.checkedFacets && this.props.checkedFacets[facet]}\n                setChecked={this._setChecked} disabledFacetItems={this.props.disabledCheckedFacets[facet] ? this.props.disabledCheckedFacets[facet] : []}\n                disabledUncheckedFacetItems={this._disableUncheckedFacetItems(facet)}\n            />;\n        }.bind(this));\n\n        return (\n            <div className=\"hidden-xs gxaFacetsContainer\"><h3>Filter your results</h3>\n                {facets}\n            </div>\n        );\n    }\n});\n\nvar Facet = React.createClass({\n    propTypes: {\n        facetName: React.PropTypes.string.isRequired,\n\n        // eg: [ {\"name\": \"rnaseq_mrna_differential\", \"value\": \"RNA-seq mRNA\"}, {\"name\": \"microarray_1colour_mrna_differential\", \"value\": \"1 colour mRNA\"} ]\n        facetItems: React.PropTypes.arrayOf(React.PropTypes.shape({\n            name: React.PropTypes.string.isRequired,\n            value: React.PropTypes.string.isRequired\n        })).isRequired,\n\n        disabledFacetItems: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n        disabledUncheckedFacetItems: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n        // eg: { \"rnaseq_mrna_differential\": true, \"microarray_1colour_mrna_differential\": true }\n        checkedFacetItems: React.PropTypes.object,\n        setChecked: React.PropTypes.func.isRequired\n    },\n\n    _disableFacets: function () {\n        this.setState({disabledFacetItems: this.props.disabledUncheckedFacetItems});\n    },\n\n    _setChecked: function (checked, facetItem) {\n        this.props.setChecked(checked, this.props.facetName, facetItem);\n    },\n\n    _prettifyFacetName: function(facetName) {\n        switch (facetName) {\n            case \"kingdom\":\n                return \"Kingdom\";\n            case \"species\":\n                return \"Species\";\n            case \"experimentType\":\n                return \"Experiment type\";\n            case \"factors\":\n                return \"Experimental variables\";\n            case \"numReplicates\":\n                return \"Number of replicates\";\n            case \"regulation\":\n                return \"Regulation\";\n            default:\n                return facetName;\n        }\n    },\n\n    render: function () {\n        var facetItems = this.props.facetItems.map(function (facetItem) {\n            var disabled = this.props.disabledFacetItems.indexOf(facetItem.name) != -1;\n            var disabledUnchecked = this.props.disabledUncheckedFacetItems.indexOf(facetItem.name) != -1;\n\n            return <FacetItem key={facetItem.name} name={facetItem.name} value={facetItem.value}\n                checked={this.props.checkedFacetItems && this.props.checkedFacetItems[facetItem.name]}\n                setChecked={this._setChecked} disabled={disabled} disabledUnchecked={disabledUnchecked}\n            />;\n\n        }.bind(this));\n\n        var className = this.props.facetName === \"species\" ? \"gxaSpeciesFacet\" : \"\";\n\n        return (\n            <div className=\"gxaFacetItem\">\n                <h4>{this._prettifyFacetName(this.props.facetName)}</h4>\n                <ul className={className}>\n                    {facetItems}\n                </ul>\n            </div>\n        );\n    }\n});\n\nvar FacetItem = React.createClass({\n    propTypes: {\n        name: React.PropTypes.string.isRequired,\n        value: React.PropTypes.string.isRequired,\n        checked: React.PropTypes.bool,\n        setChecked: React.PropTypes.func.isRequired,\n        disabled: React.PropTypes.bool.isRequired,\n        disabledUnchecked: React.PropTypes.bool.isRequired\n    },\n\n    _setChecked: function () {\n        this.props.setChecked(!this.props.checked, this.props.name);\n    },\n\n    render: function () {\n        var className = this.props.disabledUnchecked ? \"gxaDisabledFacet\" : \"\";\n        var _checked = this.props.checked || this.props.disabled;\n        return (\n            <li className={className}>\n                <input type=\"checkbox\" checked={_checked} onChange={this._setChecked} disabled={this.props.disabledUnchecked}/>\n                {this.props.value}\n            </li>\n        );\n    }\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = DifferentialFacetsTree;\n\n\n/** WEBPACK FOOTER **\n ** ./faceted-search/src/differential-facets-tree.jsx\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\n\n//*------------------------------------------------------------------*\n\nvar DisplayLevelsButton = require('display-levels-button');\nvar Legend = require('legend').LegendDifferential;\nvar CellDifferential = require('cell-differential');\nvar DownloadDifferentialButton = require('./download-differential-button.jsx');\n\n//*------------------------------------------------------------------*\n\nvar ContrastTooltips = require('contrast-tooltips');\n\n//*------------------------------------------------------------------*\n\nrequire('./differential-results.css');\n\n//*------------------------------------------------------------------*\n\nvar DifferentialResults = React.createClass({\n    /*\n    results: [\n     {\n       \"bioentityIdentifier\":\"ENSMUSG00000072476\",\n       \"species\":\"mus musculus\",\n       \"kingdom\":\"animals\",\n       \"experimentAccession\":\"E-MTAB-698\",\n       \"experimentType\":\"rnaseq_mrna_differential\",\n       \"contrastId\":\"g1_g2\",\n       \"numReplicates\":\"3\",\n       \"foldChange\":\"2.4\",\n       \"regulation\":\"DOWN\"\n       \"colour\": some_hex_value\n     },\n     {\n       \"bioentityIdentifier\":\"ENSMUSG00000071341\",\n       \"species\":\"mus musculus\",\n       \"kingdom\":\"animals\",\n       \"experimentAccession\":\"E-MTAB-698\",\n       \"experimentType\":\"rnaseq_mrna_differential\",\n       \"contrastId\":\"g1_g2\",\n       \"numReplicates\":\"3\",\n       \"foldChange\":\"-\",\n       \"regulation\":\"DOWN\",\n       \"colour\": some_hex_value\n\n     }\n    ],\n    maxDownLevel: \"-\" ,\n    minDownLevel: \"0\",\n    minUpLevel: \"0\",\n    maxUpLevel: \"2.4\"\n    */\n    propTypes: {\n        results: React.PropTypes.arrayOf(React.PropTypes.shape({\n            species: React.PropTypes.string.isRequired,\n            kingdom: React.PropTypes.string.isRequired,\n            experimentType: React.PropTypes.string.isRequired,\n            numReplicates: React.PropTypes.string.isRequired,  // faceting only works with strings https://issues.apache.org/jira/browse/SOLR-7496\n            regulation: React.PropTypes.string.isRequired,\n            factors: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n\n            bioentityIdentifier: React.PropTypes.string.isRequired,\n            experimentAccession: React.PropTypes.string.isRequired,\n            experimentName: React.PropTypes.string.isRequired,\n            contrastId: React.PropTypes.string.isRequired,\n            comparison: React.PropTypes.string.isRequired,\n            foldChange: React.PropTypes.string.isRequired,     // a string, a formatted value, to be able to work with Infinity values and rounding\n            colour: React.PropTypes.string.isRequired,\n            id: React.PropTypes.string.isRequired\n        })).isRequired,\n        maxDownLevel: React.PropTypes.string.isRequired,\n        minDownLevel: React.PropTypes.string.isRequired,\n        minUpLevel: React.PropTypes.string.isRequired,\n        maxUpLevel: React.PropTypes.string.isRequired,\n        host: React.PropTypes.string.isRequired\n    },\n\n    getInitialState: function () {\n        return {\n            displayLevels: false\n        };\n    },\n\n    _toggleDisplayLevels: function () {\n        var newDisplayLevels = !this.state.displayLevels;\n        this.setState({displayLevels: newDisplayLevels});\n    },\n\n    render: function () {\n        var differentialResultRows = this.props.results.map(function (diffResult) {\n            return <DifferentialResultRow\n                key={diffResult.id}\n                bioentityIdentifier={diffResult.bioentityIdentifier} colour={diffResult.colour} foldChange={diffResult.foldChange} species={diffResult.species} comparison={diffResult.comparison} experimentName={diffResult.experimentName}\n                factors={diffResult.factors} contrastId={diffResult.contrastId} experimentAccession={diffResult.experimentAccession} displayLevels={this.state.displayLevels} atlasBaseURL={this.props.host + \"/gxa\"}\n            />;\n        }.bind(this));\n\n        return (\n            <div>\n                <div style={{display: \"inline-block\", verticalAlign: \"middle\"}}>\n                    <DisplayLevelsButton hideText=\"Hide log<sub>2</sub>-fold change\" showText=\"Display log<sub>2</sub>-fold change\" onClickCallback={this._toggleDisplayLevels} displayLevels={this.state.displayLevels} fontSize=\"14px\" width=\"200px\"/>\n                </div>\n\n                <div style={{display: \"inline-block\", verticalAlign: \"middle\"}}>\n                    <Legend\n                        atlasBaseURL={window.location.protocol + \"//\" + this.props.host + \"/gxa\"} minDownLevel={this.props.minDownLevel} maxDownLevel={this.props.maxDownLevel} minUpLevel={this.props.minUpLevel} maxUpLevel={this.props.maxUpLevel}\n                    />\n                </div>\n                <div style={{display: \"inline-block\", paddingLeft: \"10px\", verticalAlign: \"top\"}}>\n                    <DownloadDifferentialButton ref=\"downloadProfilesButton\"\n                                                host={this.props.host}\n                                                results={this.props.results} />\n                </div>\n\n                <table className=\"table-striped gxaDifferentialFacetedSearchResults\">\n                    <thead>\n                        <tr>\n                            <th style={{width: \"10%\"}}>Log<sub>2</sub>-fold change</th>\n                            <th style={{width: \"5%\"}}>Species</th>\n                            <th style={{width: \"30%\"}}>Comparison</th>\n                            <th style={{width: \"15%\"}}>Experimental variables</th>\n                            <th style={{width: \"40%\"}}>Experiment name</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                            {differentialResultRows}\n                    </tbody>\n                </table>\n            </div>\n        );\n    }\n});\n\n\nvar DifferentialResultRow = React.createClass({\n    propTypes: {\n        bioentityIdentifier: React.PropTypes.string.isRequired,\n        foldChange: React.PropTypes.string.isRequired,\n        colour: React.PropTypes.string.isRequired,\n        species: React.PropTypes.string.isRequired,\n        comparison: React.PropTypes.string.isRequired,\n        factors: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n        experimentName: React.PropTypes.string.isRequired,\n        contrastId: React.PropTypes.string.isRequired,\n        experimentAccession: React.PropTypes.string.isRequired,\n        displayLevels: React.PropTypes.bool.isRequired,\n        atlasBaseURL: React.PropTypes.string.isRequired\n    },\n\n    // TODO Use this.props.contrastId and this.props.experimentAccession to add link to the relevant experiment/comparison\n    render: function () {\n        var classColor=\"\";\n\n        if (this.props.species === \"homo sapiens\" || this.props.species === \"gallus gallus\" || this.props.species === \"gorilla gorilla\" || this.props.species === \"macaca mulatta\" || this.props.species === \"monodelphis domestica\" || this.props.species === \"mus musculus\" || this.props.species === \"pan paniscus\" || this.props.species === \"pan troglodytes\" || this.props.species === \"rattus norvegicus\") {\n            classColor=\"red\";\n        } else if (this.props.species == \"arabidopsis thaliana\" || this.props.species === \"hordeum vulgare subsp. vulgare\" || this.props.species === \"oryza sativa japonica group\" ) {\n            classColor=\"green\";\n        } else if (this.props.species === \"anolis carolinensis\" || this.props.species === \"drosophila melanogaster\" || this.props.species === \"caenorhabditis elegans\" || this.props.species === \"tetraodon nigroviridis\" || this.props.species === \"xenopus (silurana) tropicalis\") {\n            classColor=\"blue\";\n        }\n//        || this.props.species === \"gallus gallus\" || this.props.species === \"gorilla gorilla\" || this.props.species === \"macaca mulatta\" || this.props.species === \"monodelphis domestica\" ||  this.props.species === \"pan paniscus\" || this.props.species === \"pan troglodytes\" || this.props.species === \"rattus norvegicus\"\n//        || this.props.species === \"hordeum vulgare subsp. vulgare\" || this.props.species === \"oryza sativa japonica group\"\n//        || this.props.species === \"drosophila melanogaster\" || this.props.species === \"caenorhabditis elegans\" || this.props.species === \"tetraodon nigroviridis\" || this.props.species === \"xenopus (silurana) tropicalis\"\n        var classIcon=\"\";\n\n        if (this.props.species === \"homo sapiens\") {\n            classIcon=\"H\";\n        } else if (this.props.species == \"mus musculus\") {\n            classIcon=\"M\";\n        } else if (this.props.species === \"anolis carolinensis\") {\n            classIcon=\"7\";\n        } else if (this.props.species === \"arabidopsis thaliana\") {\n            classIcon=\"B\";\n        } else if (this.props.species === \"bos taurus\") {\n            classIcon=\"C\";\n        } else if (this.props.species === \"caenorhabditis elegans\") {\n            classIcon=\"W\";\n        } else if (this.props.species === \"gallus gallus\") {\n            classIcon=\"k\";\n        } else if (this.props.species === \"gorilla gorilla\") {\n            classIcon=\"G\";\n        } else if (this.props.species === \"hordeum vulgare subsp. vulgare\") {\n            classIcon=\"5\";\n        } else if (this.props.species === \"macaca mulatta\") {\n            classIcon=\"r\";\n        } else if (this.props.species === \"monodelphis domestica\") {\n            classIcon=\"9\";\n        } else if (this.props.species === \"oryctolagus cuniculus\") {\n            classIcon=\"t\";\n        } else if (this.props.species === \"oryza sativa japonica group\") {\n            classIcon=\"6\";\n        } else if (this.props.species === \"pan paniscus\" || this.props.species === \"pan troglodytes\" ) {\n            classIcon=\"i\";\n        } else if (this.props.species === \"papio anubis\") {\n            classIcon=\"8\";\n        } else if (this.props.species === \"rattus norvegicus\") {\n            classIcon=\"R\";\n        } else if (this.props.species === \"tetraodon nigroviridis\") {\n            classIcon=\"E\";\n        } else if (this.props.species === \"zea mays\") {\n            classIcon=\"5\";\n        } else if (this.props.species === \"xenopus (silurana) tropicalis\") {\n            classIcon=\"f\";\n        } else if (this.props.species === \"xenopus tropicalis\") {\n            classIcon=\"f\";\n        } else if (this.props.species === \"drosophila melanogaster\") {\n            classIcon=\"F\";\n        } else {classIcon=\"\";}\n\n        var factors = this.props.factors ? this.props.factors.toString().replace(/,/g, \", \") : \"\";\n\n        return (\n            <tr>\n                <CellDifferential colour={this.props.colour} infinity={this.props.infinity} foldChange={this.props.foldChange} displayLevels={this.props.displayLevels}/>\n                <td className=\"col_species\"><span className={\"icon icon-species \" + classColor} data-icon={classIcon} style={{color: 'red'}} title={this.props.species}/></td>\n                <td ref=\"comparison\"><a href={\"experiments/\" + this.props.experimentAccession + \"?geneQuery=\" + this.props.bioentityIdentifier + \"&queryFactorValues=\" + this.props.contrastId + \"&_specific=on\"}>{this.props.comparison}</a></td>\n                <td className=\"gxaExperimentalVariable\">{factors}</td>\n                <td><a href={\"experiments/\" + this.props.experimentAccession}>{this.props.experimentName}</a></td>\n            </tr>\n        );\n    },\n\n    componentDidMount: function () {\n        ContrastTooltips(window.location.protocol + \"//\" + this.props.atlasBaseURL, \"\", ReactDOM.findDOMNode(this.refs.comparison), this.props.experimentAccession, this.props.contrastId);\n    }\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = DifferentialResults;\n\n\n/** WEBPACK FOOTER **\n ** ./faceted-search/src/differential-results.jsx\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar $ = require('jquery');\nrequire('jquery-ui-bundle');\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\n\n//*------------------------------------------------------------------*\n\nvar DownloadDifferentialButton = React.createClass({\n\n    propTypes: {\n        host: React.PropTypes.string.isRequired,\n        results: React.PropTypes.arrayOf(React.PropTypes.shape({\n            species: React.PropTypes.string.isRequired,\n            kingdom: React.PropTypes.string.isRequired,\n            experimentType: React.PropTypes.string.isRequired,\n            numReplicates: React.PropTypes.string.isRequired,  // faceting only works with strings https://issues.apache.org/jira/browse/SOLR-7496\n            regulation: React.PropTypes.string.isRequired,\n            factors: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n\n            bioentityIdentifier: React.PropTypes.string.isRequired,\n            experimentAccession: React.PropTypes.string.isRequired,\n            experimentName: React.PropTypes.string.isRequired,\n            contrastId: React.PropTypes.string.isRequired,\n            comparison: React.PropTypes.string.isRequired,\n            foldChange: React.PropTypes.string.isRequired,     // a string, a formatted value, to be able to work with Infinity values and rounding\n            pValue: React.PropTypes.number.isRequired,\n            colour: React.PropTypes.string.isRequired,\n            id: React.PropTypes.string.isRequired\n        })).isRequired\n    },\n\n    convertJSONtoTSV: function (results) {\n        var headers;\n        var containsTStatistics = false;\n        var arrayResults = typeof results != 'object' ? JSON.parse(results) : results;\n\n        var bodyFields = arrayResults.map(function(diffResults) {\n            var line = \"\";\n\n            line = line + diffResults.bioentityIdentifier + \"\\t\" + diffResults.species + \"\\t\" +\n                    diffResults.experimentAccession + \"\\t\" +\n                    diffResults.comparison + \"\\t\" + diffResults.foldChange +\n                    \"\\t\" + diffResults.pValue;\n\n            if (diffResults.tStatistics != null) {\n                line = line + \"\\t\" + diffResults.tStatistics;\n                containsTStatistics = true;\n            }\n\n            return line + \"\\n\";\n        });\n\n        if(containsTStatistics) {\n            headers = [\"Gene\", \"Organism\", \"Experiment Accession\", \"Comparison\", \"log2foldchange\", \"pValue\", \"tStatistics\"];\n        } else {\n            headers = [\"Gene\", \"Organism\", \"Experiment Accession\", \"Comparison\", \"log2foldchange\", \"pValue\"];\n        }\n\n        var headerFields = headers.join('\\t');\n\n        bodyFields.unshift(headerFields);\n        var str = bodyFields.join('\\n');\n        return str;\n    },\n\n    _downloadDifferentialProfiles: function () {\n        $(ReactDOM.findDOMNode(this.refs.downloadProfilesLink)).click();\n    },\n\n    render: function () {\n        var downloadImgSrcURL = \"http://\" + this.props.host + \"/gxa/resources/images/download_blue_small.png\";\n\n        var tsvString = this.convertJSONtoTSV(this.props.results);\n        var uri = \"data:text/tsv;charset=utf-8,\" + escape(tsvString);\n        var fileName = \"differentialResults.tsv\";\n\n        return (\n            <div style={{display: \"inline-block\", verticalAlign: \"top\", paddingLeft: \"10px\"}}>\n                <a id=\"download-profiles-link\" ref=\"downloadProfilesLink\"\n                   href={uri} download={fileName} className=\"gxaNoTextButton\" target=\"_blank\"\n                   onClick={this._downloadDifferentialProfiles}>\n                    <img id=\"download-profiles\" alt=\"Download query results\" style={{width: \"20px\"}}\n                         src={downloadImgSrcURL} />\n                </a>\n            </div>\n        );\n    },\n\n    componentDidMount: function () {\n        var $downloadProfilesLink = $(ReactDOM.findDOMNode(this.refs.downloadProfilesLink));\n        $downloadProfilesLink.tooltip();\n        $downloadProfilesLink.button();\n    }\n\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = DownloadDifferentialButton;\n\n\n/** WEBPACK FOOTER **\n ** ./faceted-search/src/download-differential-button.jsx\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./differential-results.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./differential-results.css\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./differential-results.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/src/differential-results.css\n ** module id = 1154\n ** module chunks = 3\n **/","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"table.table-striped tr:nth-child(even) {\\n    background-color: #f9f9f9;\\n}\\n\\ntable.table-striped tr:nth-child(odd) {\\n    background: #FFF;\\n}\\n\\ntable.gxaDifferentialFacetedSearchResults th, table.gxaDifferentialFacetedSearchResults th span {\\n    font-weight: bold;\\n}\\n\\ntable.gxaDifferentialFacetedSearchResults th {\\n    font-size: 90%;\\n    border: 0 solid #ddd;\\n    border-bottom-width: 2px;\\n    vertical-align: bottom;\\n}\\n\\ntable.gxaDifferentialFacetedSearchResults tr td {\\n    padding: 8px;\\n    line-height: 1.42857143;\\n    vertical-align: top;\\n    border-top: 1px solid #ddd\\n}\\n\\ntable.gxaDifferentialFacetedSearchResults tr td.col_species span.icon-species {\\n    font-size: 300%;\\n    margin-left: 4px;\\n}\\n\\ntable.gxaDifferentialFacetedSearchResults tr td.col_species span.icon-species.red:before {\\n    /*animal*/\\n    color:#d9534f;\\n}\\n\\ntable.gxaDifferentialFacetedSearchResults tr td.col_species span.icon-species.green:before {\\n    /*plants*/\\n    color:#5cb85c;\\n}\\n\\ntable.gxaDifferentialFacetedSearchResults tr td.col_species span.icon-species.blue:before {\\n    /*other*/\\n    color:#5bc0de;\\n}\\n\\ntd.gxaExperimentalVariable {\\n    text-align: center;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/css-loader!./faceted-search/src/differential-results.css\n ** module id = 1155\n ** module chunks = 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nmodule.exports = require('./src/HelpTooltips.js');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/legend/~/help-tooltips/index.js\n ** module id = 1070\n ** module chunks = 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar $ = require('jquery');\nrequire('jquery-ui-bundle');\nrequire('jQuery-ajaxTransport-XDomainRequest');\n\n//*------------------------------------------------------------------*\n\nrequire('./gxaHelpTooltip.css');\n\n//*------------------------------------------------------------------*\n\nfunction buildHelpAnchor() {\n    return $(\"<a/>\", {\n        class: \"help-icon\",\n        href: \"#\",\n        title: \"\",\n        text: \"?\"\n    });\n}\n\nfunction getHelpFileName(pageName){\n    return \"help-tooltips.\" + pageName + \"-page.html\";\n}\n\nfunction initTooltips(atlasBaseURL, pageName, parentElementId) {\n\n    var anchor = buildHelpAnchor();\n\n    var helpSelector = (typeof parentElementId === \"object\") ? parentElementId : (parentElementId == \"\") ? \"[data-help-loc]\" : \"#\" + parentElementId + \" [data-help-loc]\";\n\n    $(helpSelector)\n        .append(anchor)\n        .click(function (e) {\n            e.preventDefault();\n        })\n        .tooltip(\n        {\n            tooltipClass: \"gxaHelpTooltip\",\n            content: function (callback) {\n                var tooltipHelpHtmlId = $(this).parent().attr(\"data-help-loc\");\n\n                $.get(atlasBaseURL + \"/resources/html/\" + getHelpFileName(pageName),\n                    function (response, status, xhr) {\n                        var tooltipContent;\n\n                        if (status === \"error\") {\n                            tooltipContent = \"Sorry but there was an error: \" + xhr.status + \" \" + xhr.statusText;\n                            callback(tooltipContent);\n                            return;\n                        }\n\n                        tooltipContent = $(response).filter(tooltipHelpHtmlId).text();\n                        if (!tooltipContent) {\n                            tooltipContent = \"Missing help section for id = \" + tooltipHelpHtmlId + \" in html file \" + getHelpFileName(pageName);\n                        }\n\n                        callback(tooltipContent);\n                    }\n                );\n            }\n        }\n    );\n\n}\n\n//*------------------------------------------------------------------*\n\nmodule.exports = function (atlasBaseURL, pageName, parentElementId) {\n    initTooltips(atlasBaseURL, pageName, parentElementId);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/legend/~/help-tooltips/src/HelpTooltips.js\n ** module id = 1071\n ** module chunks = 3\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../../../css-loader/index.js!./gxaHelpTooltip.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../../../css-loader/index.js!./gxaHelpTooltip.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../../../css-loader/index.js!./gxaHelpTooltip.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/legend/~/help-tooltips/src/gxaHelpTooltip.css\n ** module id = 1073\n ** module chunks = 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nmodule.exports = require('./src/NumberFormat.jsx');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./faceted-search/~/legend/~/number-format/index.js\n ** module id = 1078\n ** module chunks = 3\n **/"],"sourceRoot":""}
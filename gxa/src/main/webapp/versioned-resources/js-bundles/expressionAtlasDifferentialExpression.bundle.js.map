{"version":3,"sources":["webpack:///(webpack)/~/node-libs-browser/~/querystring-es3/decode.js?5248*","webpack:///(webpack)/~/node-libs-browser/~/querystring-es3/encode.js?dd7a*","webpack:///./atlas_bundles/differential-expression/index.js","webpack:///./atlas_bundles/differential-expression/src/differentialRenderer.js","webpack:///./atlas_bundles/differential-expression/src/DifferentialRouter.jsx","webpack:///./atlas_bundles/differential-expression/src/DifferentialResults.jsx","webpack:///./atlas_bundles/differential-expression/~/expression-atlas-display-levels-button/index.js","webpack:///./atlas_bundles/differential-expression/~/expression-atlas-display-levels-button/src/DisplayLevelsButton.jsx","webpack:///./atlas_bundles/differential-expression/~/expression-atlas-legend/index.js","webpack:///./atlas_bundles/differential-expression/~/expression-atlas-legend/src/LegendDifferential.jsx","webpack:///./atlas_bundles/differential-expression/~/expression-atlas-legend/src/LegendRow.jsx","webpack:///./atlas_bundles/differential-expression/~/expression-atlas-legend/src/gxaGradient.css?7887","webpack:///./atlas_bundles/differential-expression/~/expression-atlas-legend/src/gxaGradient.css","webpack:///./atlas_bundles/differential-expression/~/style-loader/addStyles.js","webpack:///./atlas_bundles/differential-expression/~/expression-atlas-legend/~/expression-atlas-help-tooltips/index.js","webpack:///./atlas_bundles/differential-expression/~/expression-atlas-legend/~/expression-atlas-help-tooltips/src/helpTooltipsModule.js","webpack:///./atlas_bundles/differential-expression/~/expression-atlas-legend/~/expression-atlas-help-tooltips/src/gxaHelpTooltip.css?b3d3","webpack:///./atlas_bundles/differential-expression/~/expression-atlas-legend/~/expression-atlas-help-tooltips/src/gxaHelpTooltip.css","webpack:///./atlas_bundles/differential-expression/~/expression-atlas-legend/src/gxaLegend.css?7524","webpack:///./atlas_bundles/differential-expression/~/expression-atlas-legend/src/gxaLegend.css","webpack:///./atlas_bundles/differential-expression/~/expression-atlas-legend/src/LegendBaseline.jsx","webpack:///./atlas_bundles/differential-expression/~/expression-atlas-cell-differential/index.js","webpack:///./atlas_bundles/differential-expression/~/expression-atlas-cell-differential/src/CellDifferential.jsx","webpack:///./atlas_bundles/differential-expression/~/expression-atlas-cell-differential/src/gxaShowHideCell.css?182f","webpack:///./atlas_bundles/differential-expression/~/expression-atlas-cell-differential/src/gxaShowHideCell.css","webpack:///./atlas_bundles/differential-expression/~/expression-atlas-cell-differential/src/gxaDifferentialCellTooltip.css?4786","webpack:///./atlas_bundles/differential-expression/~/expression-atlas-cell-differential/src/gxaDifferentialCellTooltip.css","webpack:///./atlas_bundles/differential-expression/src/DifferentialDownloadButton.jsx","webpack:///./atlas_bundles/differential-expression/src/DifferentialDownloadButton.css?2342","webpack:///./atlas_bundles/differential-expression/src/DifferentialDownloadButton.css","webpack:///./atlas_bundles/differential-expression/~/expression-atlas-contrast-tooltips/index.js","webpack:///./atlas_bundles/differential-expression/~/expression-atlas-contrast-tooltips/src/contrastTooltipModule.js","webpack:///./atlas_bundles/differential-expression/~/expression-atlas-contrast-tooltips/src/ContrastTooltip.jsx","webpack:///./atlas_bundles/differential-expression/~/expression-atlas-contrast-tooltips/src/gxaContrastTooltip.css?d0b6","webpack:///./atlas_bundles/differential-expression/~/expression-atlas-contrast-tooltips/src/gxaContrastTooltip.css","webpack:///./atlas_bundles/differential-expression/~/expression-atlas-feedback/src/gxaFeedback.css?cc85","webpack:///./atlas_bundles/differential-expression/~/expression-atlas-feedback/src/gxaFeedback.css","webpack:///./atlas_bundles/differential-expression/~/react-ebi-species/src/ebi-visual-species.css?062e","webpack:///./atlas_bundles/differential-expression/~/react-ebi-species/src/ebi-visual-species.css","webpack:///./atlas_bundles/differential-expression/src/DifferentialResults.css?bebb","webpack:///./atlas_bundles/differential-expression/src/DifferentialResults.css","webpack:///./atlas_bundles/differential-expression/src/DifferentialFacetsTree.jsx","webpack:///./atlas_bundles/differential-expression/src/DifferentialFacetsTree.css?d528","webpack:///./atlas_bundles/differential-expression/src/DifferentialFacetsTree.css","webpack:///./atlas_bundles/differential-expression/src/urlManager.js"],"names":["module","exports","require","React","ReactDOM","DifferentialRouter","atlasHostUrl","hostUrl","window","location","protocol","host","query","geneQuery","conditionQuery","species","target","render","createElement","document","getElementById","$","ajaxSetup","traditional","Url","Results","Facets","UrlManager","RequiredString","PropTypes","string","isRequired","createClass","propTypes","getInitialState","facetsTreeData","results","legend","maxDownLevel","minDownLevel","minUpLevel","maxUpLevel","querySelect","componentDidMount","_loadInitialData","addEventListener","setState","parseDifferentialUrlParameter","_addElementToObjectOfArrays","obj","arrayName","element","push","_removeElementFromObjectOfArrays","splice","indexOf","length","_setChecked","facetName","facetItemName","checked","newQuerySelect","JSON","parse","stringify","state","differentialPush","_filteredResults","filter","_resultMatchesQuery","result","Object","keys","every","some","_equalsToOrIncludes","facetItem","value","constructor","Array","includes","_prepareFacetTreeData","filteredResults","map","facet","facetItems","querySelectAfterSwitchingThisFacetItem","name","resultIdsAfterSwitchingThisFacetItem","id","sort","currentResultIds","sameResultsAfterSwitchingThisItem","noResultsAfterSwitchingThisItem","disabled","props","differentialFacetsUrlObject","differentialResultsUrlObject","pathname","queryParams","organism","onAjaxFailure","jqXHR","textStatus","errorThrown","console","log","ajax","url","format","dataType","success","kingdom","facetsResponse","_transformFacetsResponseToArray","_pruneFacetsTreeBasedOnResultsThatCameIn","resultsResponse","error","DisplayLevelsButton","Legend","LegendDifferential","CellDifferential","DifferentialDownloadButton","ContrastTooltips","AtlasFeedback","EbiSpeciesIcon","Icon","OptionalString","DoubleWithDefault","number","RequiredBool","bool","ResultType","experimentType","numReplicates","regulation","factors","arrayOf","bioentityIdentifier","bioentityName","experimentAccession","experimentName","contrastId","comparison","foldChange","colour","DifferentialResults","shape","getDefaultProps","Number","NEGATIVE_INFINITY","POSITIVE_INFINITY","displayLevels","googleAnalyticsCallback","ga","_toggleDisplayLevels","newDisplayLevels","differentialResultRows","diffResult","feedbackSmileys","browser","msie","marginTop","score","comment","display","verticalAlign","paddingLeft","width","DifferentialResultRow","_linkToComparisonPage","toString","replace","infinity","pValue","tStatistics","atlasBaseUrl","findDOMNode","refs","ready","hideText","showText","onClickCallback","func","fontSize","_buttonText","_updateButtonText","button","label","style","componentDidUpdate","LegendBaseline","LegendRow","HelpTooltips","atlasBaseURL","isNaN","legendHelp","lowValueColour","highValueColour","lowExpressionLevel","highExpressionLevel","spanStyle","backgroundImage","buildHelpAnchor","class","href","title","text","getHelpFileName","pageName","initTooltips","parentElementId","anchor","helpSelector","append","click","e","preventDefault","tooltip","tooltipClass","content","callback","tooltipHelpHtmlId","parent","attr","get","response","status","xhr","tooltipContent","statusText","NumberFormat","default","minExpressionLevel","maxExpressionLevel","isMultiExperiment","dataHelpLoc","baselineExpression","legendHelpDiv","ReactDOMServer","tStat","_hasValue","_getStyle","backgroundColor","_initTooltip","buildHeatmapCellTooltip","tStatistic","scientificNotation","Math","floor","open","event","ui","css","renderToStaticMarkup","RequiredNumber","OptionalNumber","DownloadDifferentialButton","_convertJsonToTsv","arrayResults","concat","diffResults","join","el","_downloadDifferentialProfiles","_downloadProfilesLinkRef","downloadImgSrcURL","tsvString","uri","encodeURI","fileName","c","$downloadProfilesLink","ContrastTooltip","initTooltip","contextRoot","accessKey","hide","show","position","collision","close","remove","data","type","html","renderToString","experimentDescription","contrastDescription","testReplicates","referenceReplicates","properties","fail","contrastPropertyType","propertyName","referenceValue","testValue","propertyRow","property","isFactor","whiteSpace","fontWeight","color","textAlign","padding","margin","DifferentialFacetsTree","facets","setChecked","Facet","_prettifyFacetName","className","FacetItem","QueryString","pushQueryIntoBrowserHistory","currentUrlObject","newUrlQueryParams","ds","newUrlObject","hash","history","replaceState","pushState","getQuerySelectFromLocation","currentURL","differentialSelectParam"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,kBAAiB,SAAS;AAC1B;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;ACnFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP;AACA;AACA,MAAK;;AAEL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAiB,eAAe;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACpFAA,QAAOC,OAAP,GAAiB,mBAAAC,CAAQ,yCAAR,CAAjB,C;;;;;;;;;;;;ACAA,KAAMC,QAAQ,mBAAAD,CAAQ,iBAAR,CAAd;AACA,KAAME,WAAW,mBAAAF,CAAQ,qBAAR,CAAjB;;AAEA;;AAEA,KAAMG,qBAAqB,mBAAAH,CAAQ,oCAAR,CAA3B;;AAEA;;AAEAF,QAAOC,OAAP,GAAiB,gBAAyK;AAAA,kCAA9JK,YAA8J;AAAA,SAA/IC,OAA+I,qCAArIC,OAAOC,QAAP,CAAgBC,QAAhB,GAA2B,IAA3B,GAAkCF,OAAOC,QAAP,CAAgBE,IAAmF;AAAA,SAA7EC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;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAgB,mBAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,sBAAsB;AACtC;AACA;AACA,mBAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA,kBAAiB,2BAA2B;AAC5C;AACA;AACA,SAAQ,uBAAuB;AAC/B;AACA;AACA,IAAG;AACH;AACA,kBAAiB,uBAAuB;AACxC;AACA;AACA,4BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA,iCAAgC,sBAAsB;AACtD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;AACA,GAAE;AACF;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;;AAEA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,wDAAuD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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","file":"expressionAtlasDifferentialExpression.bundle.js","sourcesContent":["// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/~/node-libs-browser/~/querystring-es3/decode.js\n// module id = 2872\n// module chunks = 1 3 6","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/~/node-libs-browser/~/querystring-es3/encode.js\n// module id = 2873\n// module chunks = 1 3 6","module.exports = require('./src/differentialRenderer.js');\n\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/differential-expression/index.js","const React = require('react');\nconst ReactDOM = require('react-dom');\n\n//*------------------------------------------------------------------*\n\nconst DifferentialRouter = require('./DifferentialRouter.jsx');\n\n//*------------------------------------------------------------------*\n\nmodule.exports = function ({atlasHostUrl : hostUrl = window.location.protocol + \"//\" + window.location.host, query, geneQuery, conditionQuery, species, target = 'gxaDifferentialTab', }) {\n    ReactDOM.render(\n        React.createElement(DifferentialRouter, {hostUrl, query, geneQuery, conditionQuery, species}),\n        document.getElementById(target)\n    );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/differential-expression/src/differentialRenderer.js","const React = require('react');\n\nconst $ = require('jquery');\n$.ajaxSetup({ traditional:true });\n\nconst Url = require('url');\n\n//*------------------------------------------------------------------*\n\nconst Results= require('./DifferentialResults.jsx');\nconst Facets = require('./DifferentialFacetsTree.jsx');\nconst UrlManager = require('./urlManager.js');\n\n//*------------------------------------------------------------------*\n\n/*\n TODO if Solr queries get fast enough that we can:\n - split the two requests, so that the facets load first, initial results load second\n - a request to the server is done for every interaction with the facets tree\n - add counts to each facet and disable check boxes if count is 0\n*/\n\nconst RequiredString = React.PropTypes.string.isRequired;\n\nconst DifferentialRouter = React.createClass({\n    propTypes: {\n        hostUrl: RequiredString,\n        query: RequiredString,\n        geneQuery: RequiredString,\n        conditionQuery : RequiredString,\n        species: RequiredString\n    },\n\n    getInitialState () {\n        return {\n            facetsTreeData: [],\n            results: [],\n            legend: {\n                maxDownLevel: 0,\n                minDownLevel: 0,\n                minUpLevel: 0,\n                maxUpLevel: 0\n            },\n            querySelect: {}\n        }\n    },\n\n    componentDidMount () {\n        this._loadInitialData();\n        // TODO Consider using https://github.com/reactjs/react-router\n        window.addEventListener(\n            'popstate',\n            () => { this.setState({querySelect: UrlManager.parseDifferentialUrlParameter()}); },\n            false);\n    },\n\n    _addElementToObjectOfArrays (obj, arrayName, element) {\n        if (!obj[arrayName]) {\n            obj[arrayName] = [];\n        }\n        obj[arrayName].push(element);\n    },\n\n    _removeElementFromObjectOfArrays (obj, arrayName, element) {\n        delete obj[arrayName].splice(obj[arrayName].indexOf(element), 1);\n        if (obj[arrayName].length === 0) {\n            delete obj[arrayName];\n        }\n    },\n\n    _setChecked (facetName, facetItemName, checked) {\n        // Update URL\n        let newQuerySelect = JSON.parse(JSON.stringify(this.state.querySelect));\n        if (checked) {\n            this._addElementToObjectOfArrays(newQuerySelect, facetName, facetItemName);\n        } else {\n            this._removeElementFromObjectOfArrays(newQuerySelect, facetName, facetItemName);\n        }\n\n        // TODO Consider using https://github.com/reactjs/react-router\n        UrlManager.differentialPush(newQuerySelect, false);\n        this.setState({\n            querySelect: newQuerySelect\n        });\n    },\n\n    _filteredResults (query = this.state.querySelect) {\n        return this.state.results.filter(result =>\n            this._resultMatchesQuery(result, query)\n        );\n    },\n\n    _resultMatchesQuery (result, query) {\n        if (Object.keys(query).length === 0) {\n            return false;\n        } else {\n            return Object.keys(query).every(facetName =>\n                query[facetName].some(facetItem =>\n                    this._equalsToOrIncludes(result[facetName], facetItem)\n                )\n            );\n        }\n    },\n\n    _equalsToOrIncludes (obj, value) {\n        if (!!obj) {\n            if (obj.constructor === Array) {\n                return obj.includes(value);\n            }\n            else {\n                return obj === value;\n            }\n        } else {\n            return false;\n        }\n    },\n\n    // Syncs tree data with URL (querySelect) and does some other smart things such as check/uncheck or disable facets based on\n    // the user results (e.g. check & disable a facet if its shared by all results as a side effect of other choice)\n    _prepareFacetTreeData (filteredResults) {\n        return this.state.facetsTreeData.map(facet => ({\n            facetName: facet.facetName,\n            facetItems: facet.facetItems.map(facetItem => {\n                let querySelectAfterSwitchingThisFacetItem = JSON.parse(JSON.stringify(this.state.querySelect));\n                if (this._equalsToOrIncludes(querySelectAfterSwitchingThisFacetItem[facet.facetName], facetItem.name)) {\n                    this._removeElementFromObjectOfArrays(querySelectAfterSwitchingThisFacetItem, facet.facetName, facetItem.name);\n                } else {\n                    this._addElementToObjectOfArrays(querySelectAfterSwitchingThisFacetItem, facet.facetName, facetItem.name);\n                }\n                let resultIdsAfterSwitchingThisFacetItem = this._filteredResults(querySelectAfterSwitchingThisFacetItem).map(result => result.id).sort();\n                let currentResultIds = filteredResults.map(result => result.id).sort();\n\n                let sameResultsAfterSwitchingThisItem = JSON.stringify(resultIdsAfterSwitchingThisFacetItem) === JSON.stringify(currentResultIds);\n                let noResultsAfterSwitchingThisItem = resultIdsAfterSwitchingThisFacetItem.length === 0;\n                return {\n                    name: facetItem.name,\n                    value: facetItem.value,\n                    checked: this._equalsToOrIncludes(this.state.querySelect[facet.facetName], facetItem.name) ||\n                             sameResultsAfterSwitchingThisItem,\n                    disabled: noResultsAfterSwitchingThisItem || sameResultsAfterSwitchingThisItem\n                }\n            })\n        }));\n    },\n\n    render () {\n        let filteredResults = this._filteredResults();\n\n        return (\n            <div>\n                <div className=\"grid_6 alpha\" id=\"gxaDifferentialFacetsContainerDiv\">\n                    {Object.keys(this.state.facetsTreeData).length\n                        ? <Facets\n                              facets = {this._prepareFacetTreeData(filteredResults)}\n                              setChecked = {this._setChecked}\n                          />\n                        : <div/>\n                    }\n                </div>\n                <div className=\"grid_18 omega\" id=\"gxaDifferentialResultsContainerDiv\">\n                    {this.state.results && this.state.results.length\n                        ? <Results\n                            results = {filteredResults}\n                            hostUrl = {this.props.hostUrl}\n                            {...this.state.legend}\n                          />\n                        : <div ref=\"loadingImagePlaceholder\">\n                              <img src={this.props.hostUrl + \"/gxa/resources/images/loading.gif\"}/>\n                    </div>\n                    }\n                </div>\n            </div>\n        )\n    },\n\n    _loadInitialData () {\n        let differentialFacetsUrlObject = Url.parse(this.props.hostUrl),\n            differentialResultsUrlObject = Url.parse(this.props.hostUrl);\n\n        differentialFacetsUrlObject.pathname = this.props.query ?\n            'gxa/json/search/differentialFacets' :\n            'gxa/json/query/differentialFacets';\n        differentialResultsUrlObject.pathname = this.props.query ?\n            'gxa/json/search/differentialResults' :\n            'gxa/json/query/differentialResults';\n\n        let queryParams = {geneQuery: this.props.geneQuery, conditionQuery: this.props.conditionQuery, organism: this.props.species};\n        differentialFacetsUrlObject.query = queryParams;\n        differentialResultsUrlObject.query = queryParams;\n\n        let onAjaxFailure = (jqXHR, textStatus, errorThrown) => {\n            console.log(\"ERROR\");\n            console.log(\"Status: \" + textStatus);\n            console.log(\"Error thrown: \" + errorThrown);\n        };\n\n        $.ajax({\n            url: Url.format(differentialFacetsUrlObject),\n            dataType: \"json\",\n            success: facetsResponse => {\n                $.ajax({\n                    url: Url.format(differentialResultsUrlObject),\n                    dataType: \"json\",\n                    success: resultsResponse => {\n\n                        // TODO Consider using https://github.com/reactjs/react-router\n                        let querySelect = UrlManager.parseDifferentialUrlParameter();\n                        if (!querySelect.kingdom) {\n                            querySelect.kingdom = facetsResponse.kingdom.map(facetItem =>\n                                facetItem.name\n                            );\n                        }\n                        UrlManager.differentialPush(querySelect, true);\n\n                        let facetsTreeData = this._transformFacetsResponseToArray(facetsResponse);\n\n                        this.setState({\n                            facetsTreeData: this._pruneFacetsTreeBasedOnResultsThatCameIn(facetsTreeData, resultsResponse.results),\n                            querySelect: querySelect,\n                            results: resultsResponse.results,\n                            legend: {\n                                minDownLevel: resultsResponse.minDownLevel,\n                                minUpLevel: resultsResponse.minUpLevel,\n                                maxDownLevel:resultsResponse.maxDownLevel,\n                                maxUpLevel: resultsResponse.maxUpLevel\n                            }\n                        });\n\n                    },\n                    error: onAjaxFailure\n                });\n            },\n            error: onAjaxFailure\n        });\n    },\n\n    _transformFacetsResponseToArray (facetsResponse) {\n        return Object.keys(facetsResponse).map(facetName => {\n            return {\n                facetName: facetName,\n                facetItems: facetsResponse[facetName].map(facetItem => {\n                    return {\n                        name: facetItem.name,\n                        value: facetItem.value,\n                        disabled: false,\n                        checked: false\n                    }\n                })\n            };\n        });\n    },\n\n    _pruneFacetsTreeBasedOnResultsThatCameIn (facetsTreeData, results) {\n        return facetsTreeData.map(facet => (\n            {\n                facetName: facet.facetName,\n                facetItems:\n                    facet.facetItems.filter(facetItem =>\n                        results.some(result => {\n                            if (result[facet.facetName].constructor === Array) {\n                                return result[facet.facetName].indexOf(facetItem.name) > -1;\n                            } else {\n                                return result[facet.facetName] === facetItem.name;\n                            }\n                        })\n                    )\n            }\n        )).filter(facet => facet.facetItems.length > 0);\n    }\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = DifferentialRouter;\n\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/differential-expression/src/DifferentialRouter.jsx","const $ = require('jquery');\nrequire('jquery.browser');\n\nconst React = require('react');\nconst ReactDOM = require('react-dom');\n\n//*------------------------------------------------------------------*\n\nconst DisplayLevelsButton = require('expression-atlas-display-levels-button');\nconst Legend = require('expression-atlas-legend').LegendDifferential;\nconst CellDifferential = require('expression-atlas-cell-differential');\nconst DifferentialDownloadButton = require('./DifferentialDownloadButton.jsx');\nconst ContrastTooltips = require('expression-atlas-contrast-tooltips');\nconst AtlasFeedback = require('expression-atlas-feedback');\nconst EbiSpeciesIcon = require('react-ebi-species').Icon;\n\n\n//*------------------------------------------------------------------*\n\nrequire('./DifferentialResults.css');\n\n//*------------------------------------------------------------------*\n\nconst RequiredString = React.PropTypes.string.isRequired;\nconst OptionalString = React.PropTypes.string;\nconst DoubleWithDefault = React.PropTypes.number;\nconst RequiredBool = React.PropTypes.bool.isRequired;\n\nconst ResultType = {\n    species: RequiredString,\n    kingdom: RequiredString,\n    experimentType: RequiredString,\n    numReplicates: RequiredString,    // faceting only works with strings https://issues.apache.org/jira/browse/SOLR-7496\n    regulation: RequiredString,\n    factors: React.PropTypes.arrayOf(OptionalString).isRequired,\n    bioentityIdentifier: RequiredString,\n    bioentityName: RequiredString,\n    experimentAccession: RequiredString,\n    experimentName: RequiredString,\n    contrastId: RequiredString,\n    comparison: RequiredString,\n    foldChange: React.PropTypes.number.isRequired,\n    colour: RequiredString,\n    id: RequiredString\n}\n\nconst DifferentialResults = React.createClass({\n    /*\n    results: [\n     {\n       \"bioentityIdentifier\":\"ENSMUSG00000072476\",\n       \"species\":\"mus musculus\",\n       \"kingdom\":\"animals\",\n       \"experimentAccession\":\"E-MTAB-698\",\n       \"experimentType\":\"rnaseq_mrna_differential\",\n       \"contrastId\":\"g1_g2\",\n       \"numReplicates\":\"3\",\n       \"foldChange\":\"2.4\",\n       \"regulation\":\"DOWN\"\n       \"colour\": some_hex_value\n     },\n     {\n       \"bioentityIdentifier\":\"ENSMUSG00000071341\",\n       \"species\":\"mus musculus\",\n       \"kingdom\":\"animals\",\n       \"experimentAccession\":\"E-MTAB-698\",\n       \"experimentType\":\"rnaseq_mrna_differential\",\n       \"contrastId\":\"g1_g2\",\n       \"numReplicates\":\"3\",\n       \"foldChange\":\"-\",\n       \"regulation\":\"DOWN\",\n       \"colour\": some_hex_value\n\n     }\n    ],\n    maxDownLevel: \"-\" ,\n    minDownLevel: \"0\",\n    minUpLevel: \"0\",\n    maxUpLevel: \"2.4\"\n    */\n    propTypes: {\n        results: React.PropTypes.arrayOf(React.PropTypes.shape(ResultType)).isRequired,\n        maxDownLevel: DoubleWithDefault,\n        minDownLevel: DoubleWithDefault,\n        minUpLevel: DoubleWithDefault,\n        maxUpLevel: DoubleWithDefault,\n        hostUrl: RequiredString\n    },\n\n    getDefaultProps () {\n      return {\n        maxDownLevel: Number.NEGATIVE_INFINITY,\n        minDownLevel: 0,\n        minUpLevel: 0,\n        maxUpLevel: Number.POSITIVE_INFINITY,\n      }\n    },\n\n    getInitialState () {\n        return {\n            displayLevels: false,\n            googleAnalyticsCallback: typeof ga !== 'undefined' ? ga : () => {}\n        };\n    },\n\n    _toggleDisplayLevels () {\n        let newDisplayLevels = !this.state.displayLevels;\n        this.setState({displayLevels: newDisplayLevels});\n    },\n\n    render () {\n        let differentialResultRows = this.props.results.map(diffResult => {\n            return <DifferentialResultRow\n                        key = {diffResult.id}\n                        displayLevels = {this.state.displayLevels}\n                        atlasBaseUrl = {this.props.hostUrl + '/gxa'}\n                        {...diffResult} />;\n        });\n\n        let feedbackSmileys = $.browser.msie ? null\n            :\n            <div style = {{marginTop:'50px'}}>\n                <AtlasFeedback\n                    collectionCallback = { (score, comment) => {\n                        this.state.googleAnalyticsCallback('send','event','DifferentialHeatmaps', 'feedback', comment, score);\n                    }}/>\n            </div>;\n\n        return (\n            <div>\n                <div style={{display: 'inline-block', verticalAlign: 'middle'}}>\n                    <DisplayLevelsButton hideText='Hide log<sub>2</sub>-fold change' showText='Display log<sub>2</sub>-fold change' onClickCallback={this._toggleDisplayLevels} displayLevels={this.state.displayLevels} fontSize='14px' width='200px'/>\n                </div>\n\n                <div style={{display: 'inline-block', verticalAlign: 'middle'}}>\n                    <Legend\n                        atlasBaseURL={this.props.hostUrl + '/gxa'} minDownLevel={this.props.minDownLevel} maxDownLevel={this.props.maxDownLevel} minUpLevel={this.props.minUpLevel} maxUpLevel={this.props.maxUpLevel}\n                    />\n                </div>\n\n                <div style={{display: 'inline-block', paddingLeft: '10px', verticalAlign: 'top'}}>\n                    <DifferentialDownloadButton ref=\"downloadProfilesButton\"\n                                                hostUrl={this.props.hostUrl}\n                                                results={this.props.results}\n                    />\n                 </div>\n\n                <table className=\"table-striped gxaDifferentialFacetedSearchResults\">\n                    <thead>\n                        <tr>\n                            <th style={{width: '10%'}}>Log<sub>2</sub>-fold change</th>\n                            <th style={{width: '5%'}}>Species</th>\n                            <th style={{width: '5%'}}>Gene name</th>\n                            <th style={{width: '30%'}}>Comparison</th>\n                            <th style={{width: '15%'}}>Experimental variables</th>\n                            <th style={{width: '35%'}}>Experiment name</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                            {differentialResultRows}\n                    </tbody>\n                </table>\n                {feedbackSmileys}\n            </div>\n        );\n    }\n});\n\n\nconst DifferentialResultRow = React.createClass({\n    propTypes: ResultType,\n\n    _linkToComparisonPage () {\n      return (\n        'experiments/' + this.props.experimentAccession\n        + '?geneQuery=' + this.props.bioentityIdentifier\n        + '&queryFactorValues=' + this.props.contrastId\n        + '&specific=false'\n      );\n    },\n\n    render () {\n        let factors = this.props.factors ? this.props.factors.toString().replace(/,/g, ', ') : '';\n\n        return (\n            <tr>\n                <CellDifferential\n                    colour={this.props.colour}\n                    infinity={this.props.infinity}\n                    foldChange={this.props.foldChange}\n                    pValue={this.props.pValue}\n                    tStat={this.props.tStatistics}\n                    displayLevels={this.props.displayLevels}/>\n                <td className=\"col_species\">\n                    <EbiSpeciesIcon species={this.props.species}/>\n                </td>\n                <td>\n                    <a href={'/gxa/genes/' + this.props.bioentityIdentifier}>{this.props.bioentityName || this.props.bioentityIdentifier}</a>\n                </td>\n                <td ref=\"comparison\">\n                    <a href={this._linkToComparisonPage()}>\n                        {this.props.comparison}\n                    </a>\n                </td>\n                <td className=\"gxaExperimentalVariable\">\n                    {factors}\n                </td>\n                <td>\n                    <a href={'experiments/' + this.props.experimentAccession}>\n                        {this.props.experimentName}\n                    </a>\n                </td>\n            </tr>\n        );\n    },\n\n    componentDidMount () {\n        ContrastTooltips(this.props.atlasBaseUrl, '', ReactDOM.findDOMNode(this.refs.comparison), this.props.experimentAccession, this.props.contrastId);\n        $(document).ready(() => {\n          this.setState(\n              {googleAnalyticsCallback: typeof ga !== 'undefined' ? ga : () => {}}\n            );\n        });\n    }\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = DifferentialResults;\n\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/differential-expression/src/DifferentialResults.jsx","module.exports = require('./src/DisplayLevelsButton.jsx');\n\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/differential-expression/~/expression-atlas-display-levels-button/index.js","var React = require('react');\nvar ReactDOM = require('react-dom');\n\nvar $ = require('jquery');\nrequire('jquery-ui-bundle');\n\nvar DisplayLevelsButton = React.createClass({\n\n    propTypes: {\n        hideText: React.PropTypes.string.isRequired,\n        showText: React.PropTypes.string.isRequired,\n        onClickCallback: React.PropTypes.func.isRequired,\n        displayLevels: React.PropTypes.bool.isRequired,\n        width: React.PropTypes.string,\n        fontSize: React.PropTypes.string\n    },\n\n    _buttonText: function () {\n        return this.props.displayLevels ? this.props.hideText : this.props.showText;\n    },\n\n    _updateButtonText: function () {\n        $(ReactDOM.findDOMNode(this)).button({ label: this._buttonText() });\n    },\n\n    render: function () {\n        var style = {\n        };\n        if (this.props.width) {\n            style.width = this.props.width;\n        }\n        if (this.props.fontSize) {\n            style.fontSize = this.props.fontSize;\n        }\n\n        return (\n            <button style={style} onClick={this.props.onClickCallback}/>\n        );\n    },\n\n    componentDidMount: function () {\n        this._updateButtonText();\n    },\n\n    componentDidUpdate: function () {\n        this._updateButtonText();\n    }\n\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = DisplayLevelsButton;\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/differential-expression/~/expression-atlas-display-levels-button/src/DisplayLevelsButton.jsx","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nexports.LegendDifferential = require('./src/LegendDifferential.jsx');\nexports.LegendBaseline = require('./src/LegendBaseline.jsx');\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/differential-expression/~/expression-atlas-legend/index.js","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\n\n//*------------------------------------------------------------------*\n\nvar LegendRow = require('./LegendRow.jsx');\nvar HelpTooltips = require('expression-atlas-help-tooltips');\n\n//*------------------------------------------------------------------*\n\nrequire('./gxaLegend.css');\n\n//*------------------------------------------------------------------*\n\nvar LegendDifferential = React.createClass({\n\n    propTypes: {\n        atlasBaseURL: React.PropTypes.string.isRequired,\n        minDownLevel: React.PropTypes.number.isRequired,\n        maxDownLevel: React.PropTypes.number.isRequired,\n        minUpLevel: React.PropTypes.number.isRequired,\n        maxUpLevel: React.PropTypes.number.isRequired\n    },\n\n    render: function () {\n        return (\n            <div className=\"gxaLegend\">\n                <div style={{display: \"inline-table\"}}>\n                    {isNaN(this.props.minDownLevel) && isNaN(this.props.maxDownLevel) ?\n                        null :\n                        <LegendRow lowExpressionLevel={<span>{this.props.minDownLevel}</span>}\n                                   highExpressionLevel={<span>{this.props.maxDownLevel}</span>}\n                                   lowValueColour=\"#C0C0C0\"\n                                   highValueColour=\"#0000FF\"/>\n                    }\n                    {isNaN(this.props.minUpLevel) && isNaN(this.props.maxUpLevel) ?\n                        null :\n                        <LegendRow lowExpressionLevel={<span>{this.props.minUpLevel}</span>}\n                                   highExpressionLevel={<span>{this.props.maxUpLevel}</span>}\n                                   lowValueColour=\"#FFAFAF\"\n                                   highValueColour=\"#FF0000\"/>\n                    }\n                </div>\n                <div ref=\"legendHelp\" data-help-loc=\"#gradient-differential\" className=\"gxaLegendHelp\"></div>\n            </div>\n        );\n    },\n\n    componentDidMount: function () {\n        HelpTooltips(this.props.atlasBaseURL, \"experiment\", ReactDOM.findDOMNode(this.refs.legendHelp));\n    }\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = LegendDifferential;\n\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/differential-expression/~/expression-atlas-legend/src/LegendDifferential.jsx","const React = require('react');\n\nrequire('./gxaGradient.css');\n\nconst LegendRow = React.createClass({\n\n    propTypes: {\n        lowValueColour: React.PropTypes.string.isRequired,\n        highValueColour: React.PropTypes.string.isRequired,\n        lowExpressionLevel: React.PropTypes.element.isRequired,\n        highExpressionLevel: React.PropTypes.element.isRequired\n    },\n\n    render: function () {\n        const spanStyle = {\n            backgroundImage: `linear-gradient(to right, ${this.props.lowValueColour}, ${this.props.highValueColour})`\n        };\n\n        return (\n          this.props.lowExpressionLevel || this.props.highExpressionLevel\n          ? <div style={{display: \"table-row\"}}>\n                <div className=\"gxaGradientLevel gxaGradientLevelMin\">{this.props.lowExpressionLevel}</div>\n                <div style={{display: \"table-cell\"}}>\n                    <span className=\"gxaGradientColour\" style={spanStyle} />\n                </div>\n                <div className=\"gxaGradientLevel gxaGradientLevelMax\">{this.props.highExpressionLevel}</div>\n            </div>\n          : null  \n        );\n    }\n});\n\nmodule.exports = LegendRow;\n\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/differential-expression/~/expression-atlas-legend/src/LegendRow.jsx","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../css-loader/index.js!./gxaGradient.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./gxaGradient.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./gxaGradient.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/differential-expression/~/expression-atlas-legend/src/gxaGradient.css\n// module id = 6379\n// module chunks = 6","exports = module.exports = require(\"./../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaGradientColour {\\n    overflow: auto;\\n    vertical-align: middle;\\n    width: 200px;\\n    height: 15px;\\n    margin: 2px 6px 2px 6px;\\n    display: inline-block;\\n}\\n\\n.gxaGradientLevel {\\n    white-space: nowrap;\\n    font-size: 10px;\\n    vertical-align: middle;\\n    display: table-cell;\\n}\\n\\n.gxaGradientLevelMin {\\n    text-align: right;\\n}\\n\\n.gxaGradientLevelMax {\\n    text-align: left;\\n}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/differential-expression/~/css-loader!./atlas_bundles/differential-expression/~/expression-atlas-legend/src/gxaGradient.css\n// module id = 6380\n// module chunks = 6","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/differential-expression/~/style-loader/addStyles.js\n// module id = 6382\n// module chunks = 6","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nmodule.exports = require('./src/helpTooltipsModule.js');\n\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/differential-expression/~/expression-atlas-legend/~/expression-atlas-help-tooltips/index.js","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar $ = require('jquery');\nrequire('jquery-ui-bundle');\n\n//*------------------------------------------------------------------*\n\nrequire('./gxaHelpTooltip.css');\n\n//*------------------------------------------------------------------*\n\nfunction buildHelpAnchor() {\n    return $(\"<a/>\", {\n        class: \"help-icon\",\n        href: \"#\",\n        title: \"\",\n        text: \"?\"\n    });\n}\n\nfunction getHelpFileName(pageName){\n    return \"help-tooltips.\" + pageName + \"-page.html\";\n}\n\nfunction initTooltips(atlasBaseURL, pageName, parentElementId) {\n\n    var anchor = buildHelpAnchor();\n\n    var helpSelector = (typeof parentElementId === \"object\") ? parentElementId : (parentElementId == \"\") ? \"[data-help-loc]\" : \"#\" + parentElementId + \" [data-help-loc]\";\n\n    $(helpSelector)\n        .append(anchor)\n        .click(function (e) {\n            e.preventDefault();\n        })\n        .tooltip(\n        {\n            tooltipClass: \"gxaHelpTooltip\",\n            content: function (callback) {\n                var tooltipHelpHtmlId = $(this).parent().attr(\"data-help-loc\");\n\n                $.get(atlasBaseURL + \"/resources/html/\" + getHelpFileName(pageName),\n                    function (response, status, xhr) {\n                        var tooltipContent;\n\n                        if (status === \"error\") {\n                            tooltipContent = \"Sorry but there was an error: \" + xhr.status + \" \" + xhr.statusText;\n                            callback(tooltipContent);\n                            return;\n                        }\n\n                        tooltipContent = $(response).filter(tooltipHelpHtmlId).text();\n                        if (!tooltipContent) {\n                            tooltipContent = \"Missing help section for id = \" + tooltipHelpHtmlId + \" in html file \" + getHelpFileName(pageName);\n                        }\n\n                        callback(tooltipContent);\n                    }\n                );\n            }\n        }\n    );\n\n}\n\n//*------------------------------------------------------------------*\n\nmodule.exports = function (atlasBaseURL, pageName, parentElementId) {\n    initTooltips(atlasBaseURL, pageName, parentElementId);\n};\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/differential-expression/~/expression-atlas-legend/~/expression-atlas-help-tooltips/src/helpTooltipsModule.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../../../css-loader/index.js!./gxaHelpTooltip.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../../../css-loader/index.js!./gxaHelpTooltip.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../../../css-loader/index.js!./gxaHelpTooltip.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/differential-expression/~/expression-atlas-legend/~/expression-atlas-help-tooltips/src/gxaHelpTooltip.css\n// module id = 6385\n// module chunks = 6","exports = module.exports = require(\"./../../../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaHelpTooltip {\\n    background: white;\\n    border-width: 1px !important;\\n    border: solid cornflowerblue;\\n    padding: 4px;\\n    color: cornflowerblue;\\n    font: 10px Verdana, Helvetica, Arial, sans-serif;\\n}\\n\\na.help-icon {\\n    color: darkorange;\\n    vertical-align: top;\\n    font: 10px Verdana, Helvetica, Arial, sans-serif;\\n    font-weight: bold;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/differential-expression/~/css-loader!./atlas_bundles/differential-expression/~/expression-atlas-legend/~/expression-atlas-help-tooltips/src/gxaHelpTooltip.css\n// module id = 6386\n// module chunks = 6","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../css-loader/index.js!./gxaLegend.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./gxaLegend.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./gxaLegend.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/differential-expression/~/expression-atlas-legend/src/gxaLegend.css\n// module id = 6387\n// module chunks = 6","exports = module.exports = require(\"./../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaLegendHelp {\\n    display: inline-block;\\n    vertical-align: top;\\n    padding-left: 2px;\\n}\\n\\n.gxaLegend {\\n    display: inline-block;\\n    padding-left: 20px;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/differential-expression/~/css-loader!./atlas_bundles/differential-expression/~/expression-atlas-legend/src/gxaLegend.css\n// module id = 6388\n// module chunks = 6","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\n\n//*------------------------------------------------------------------*\n\nvar LegendRow = require('./LegendRow.jsx');\nvar NumberFormat = require('expression-atlas-number-format').default;\nvar HelpTooltips = require('expression-atlas-help-tooltips');\n\n//*------------------------------------------------------------------*\n\nrequire('./gxaLegend.css');\n\n//*------------------------------------------------------------------*\n\nvar LegendBaseline = React.createClass({\n\n    propTypes: {\n        atlasBaseURL: React.PropTypes.string.isRequired,\n        minExpressionLevel: React.PropTypes.number.isRequired,\n        maxExpressionLevel: React.PropTypes.number.isRequired,\n        isMultiExperiment: React.PropTypes.bool.isRequired\n    },\n\n    render: function () {\n        var dataHelpLoc = this.props.isMultiExperiment ? \"#gradient-base-crossexp\" : \"#gradient-base\";\n\n        // The class gxaHeatmapLegendGradient is used for Selenium tests but isnt styled\n        return (\n            <div className=\"gxaHeatmapLegendGradient\">\n                <div style={{display: \"inline-table\"}}>\n                    <LegendRow lowExpressionLevel={NumberFormat.baselineExpression(this.props.minExpressionLevel)}\n                               highExpressionLevel={NumberFormat.baselineExpression(this.props.maxExpressionLevel)}\n                               lowValueColour=\"#C0C0C0\"\n                               highValueColour=\"#0000FF\"/>\n                </div>\n                <div ref={legendHelpDiv => { this.legendHelpDiv = legendHelpDiv; }} data-help-loc={dataHelpLoc} className=\"gxaLegendHelp\"></div>\n            </div>\n        );\n    },\n\n    componentDidMount: function () {\n        HelpTooltips(this.props.atlasBaseURL, \"experiment\", ReactDOM.findDOMNode(this.legendHelpDiv));\n    }\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = LegendBaseline;\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/differential-expression/~/expression-atlas-legend/src/LegendBaseline.jsx","module.exports = require('./src/CellDifferential.jsx');\n\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/differential-expression/~/expression-atlas-cell-differential/index.js","const React = require('react');\nconst ReactDOM = require('react-dom');\nconst ReactDOMServer = require('react-dom/server');\nconst $ = require('jquery');\nrequire('jquery-ui-bundle');\n\nconst NumberFormat = require('expression-atlas-number-format').default;\n\nrequire('./gxaShowHideCell.css');\nrequire('./gxaDifferentialCellTooltip.css');\n\nconst CellDifferential = React.createClass({\n\n    propTypes: {\n        fontSize: React.PropTypes.number,\n        colour: React.PropTypes.string,\n        foldChange: React.PropTypes.number,\n        pValue: React.PropTypes.number,\n        tStat: React.PropTypes.number,\n        displayLevels: React.PropTypes.bool.isRequired\n    },\n\n    _hasValue() {\n        return !!this.props.foldChange;\n    },\n\n    _getStyle() {\n        return this.props.fontSize ? { fontSize: `${this.props.fontSize}px` } : {};\n    },\n\n    render() {\n        if (!this._hasValue()) {\n            return <td/>;\n        }\n\n        return (\n            <td style={{backgroundColor: this.props.colour, verticalAlign: `middle`}}>\n                <div style={this._getStyle()} className={this.props.displayLevels ? `gxaShowCell` : `gxaHideCell`}>\n                    {this.props.foldChange}\n                </div>\n            </td>\n        );\n    },\n\n    componentDidMount() {\n        if (this._hasValue()) {\n            this._initTooltip(ReactDOM.findDOMNode(this));\n        }\n    },\n\n    _initTooltip(element) {\n\n        function buildHeatmapCellTooltip (pValue, tStatistic, foldChange) {\n            return (\n                    <table>\n                        <thead>\n                            <tr>\n                                {pValue ? <th>Adjusted <em>p</em>-value</th> : null}\n                                {tStatistic ? <th><em>t</em>-statistic</th> : null}\n                                <th>Log<sub>2</sub>-fold change</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr>\n                                {pValue ? <td>{NumberFormat.scientificNotation(pValue)}</td> : null}\n                                {tStatistic ? <td>{Math.floor(tStatistic * 1e4) / 1e4}</td> : null}\n                                <td>{foldChange}</td>\n                            </tr>\n                        </tbody>\n                    </table>\n            );\n        }\n\n        $(element).attr(`title`, ``).tooltip({\n            open: (event, ui) => {\n                ui.tooltip.css(`background`, this.props.colour);\n            },\n\n            tooltipClass: `gxaDifferentialCellTooltip`,\n\n            content: () => {\n                return ReactDOMServer.renderToStaticMarkup(\n                    buildHeatmapCellTooltip(this.props.pValue, this.props.tStat, this.props.foldChange));\n            }\n        });\n    }\n});\n\nmodule.exports = CellDifferential;\n\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/differential-expression/~/expression-atlas-cell-differential/src/CellDifferential.jsx","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../css-loader/index.js!./gxaShowHideCell.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./gxaShowHideCell.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./gxaShowHideCell.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/differential-expression/~/expression-atlas-cell-differential/src/gxaShowHideCell.css\n// module id = 6400\n// module chunks = 6","exports = module.exports = require(\"./../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaShowCell {\\n    background-color: white;\\n    white-space: nowrap;\\n    text-align: center;\\n    margin: 4px;\\n    padding: 2px;\\n}\\n\\n.gxaHideCell {\\n    display: none;\\n    visibility: hidden;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/differential-expression/~/css-loader!./atlas_bundles/differential-expression/~/expression-atlas-cell-differential/src/gxaShowHideCell.css\n// module id = 6401\n// module chunks = 6","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../css-loader/index.js!./gxaDifferentialCellTooltip.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./gxaDifferentialCellTooltip.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./gxaDifferentialCellTooltip.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/differential-expression/~/expression-atlas-cell-differential/src/gxaDifferentialCellTooltip.css\n// module id = 6402\n// module chunks = 6","exports = module.exports = require(\"./../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaDifferentialCellTooltip {\\n    width: 26%;\\n    left: 300px;\\n    border: solid transparent;\\n    color: darkslategray;\\n    padding: 2px;\\n    font: 10px Verdana, Helvetica, Arial, sans-serif;\\n}\\n\\n.gxaDifferentialCellTooltip table {\\n    margin: 0; /* overrides ebi-visual.css:134 */\\n    background-color: white;\\n    border: 1px solid lightgrey;\\n    border-collapse: collapse;\\n}\\n\\n.gxaDifferentialCellTooltip th {\\n    border-bottom: 1px solid lightgrey;\\n    background-color: floralwhite;\\n}\\n\\n.gxaDifferentialCellTooltip td, .gxaDifferentialCellTooltip th {\\n    text-align: center;\\n    white-space: nowrap;\\n    vertical-align: middle;\\n    padding: 8px;\\n    width: 25px;\\n}\\n.gxaDifferentialCellTooltip thead {\\n    font-size: 0.9em;\\n}\\n\\n.gxaDifferentialCellTooltip tbody {\\n    font-size: smaller;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/differential-expression/~/css-loader!./atlas_bundles/differential-expression/~/expression-atlas-cell-differential/src/gxaDifferentialCellTooltip.css\n// module id = 6403\n// module chunks = 6","const $ = require('jquery');\nrequire('jquery-ui-bundle');\n//TODO: make this button consistently styled, using Bootstrap or Foundation\n//remove this dependency on jquery\n\nconst React = require('react');\nconst ReactDOM = require('react-dom');\n\n//*------------------------------------------------------------------*\n\nrequire('./DifferentialDownloadButton.css');\n\n//*------------------------------------------------------------------*\n\n\nconst RequiredString = React.PropTypes.string.isRequired;\nconst OptionalString = React.PropTypes.string;\nconst RequiredNumber = React.PropTypes.number.isRequired;\nconst OptionalNumber = React.PropTypes.number;\n\nconst DownloadDifferentialButton = React.createClass({\n\n    propTypes: {\n        hostUrl: RequiredString,\n        results: React.PropTypes.arrayOf(React.PropTypes.shape({\n            species: RequiredString,\n            kingdom: RequiredString,\n            experimentType: RequiredString,\n            numReplicates: RequiredString,    // faceting only works with strings https://issues.apache.org/jira/browse/SOLR-7496\n            regulation: RequiredString,\n            factors: React.PropTypes.arrayOf(OptionalString).isRequired,\n            bioentityIdentifier: RequiredString,\n            experimentAccession: RequiredString,\n            experimentName: RequiredString,\n            contrastId: RequiredString,\n            comparison: RequiredString,\n            foldChange: RequiredNumber,\n            pValue: RequiredNumber,\n            tStatistics: OptionalNumber,\n            colour: RequiredString,\n            id: RequiredString\n        })).isRequired\n    },\n\n    _convertJsonToTsv (results) {\n      const arrayResults = typeof results !== 'object' ? JSON.parse(results) : results;\n      return (\n       [\n         ['Gene', 'Organism', 'Experiment Accession', 'Comparison', 'log2foldchange', 'pValue']\n         .concat(arrayResults.some(diffResults => diffResults.tStatistics != null) ? ['tStatistics'] :[])\n         .join('\\t')\n       ].concat(\n         arrayResults.map(diffResults =>\n           [\n             diffResults.bioentityIdentifier,\n             diffResults.species,\n             diffResults.experimentAccession,\n             diffResults.comparison,\n             diffResults.foldChange,\n             diffResults.pValue,\n             diffResults.tStatistics\n           ]\n           .filter(el => el !== null)    // tStatistics might be missing\n           .join('\\t')\n         )\n       ).join('\\n')\n     )\n    },\n\n    _downloadDifferentialProfiles () {\n        $(ReactDOM.findDOMNode(this._downloadProfilesLinkRef)).click();\n    },\n\n    render () {\n        let downloadImgSrcURL = this.props.hostUrl + '/gxa/resources/images/download_blue_small.png';\n\n        let tsvString = this._convertJsonToTsv(this.props.results);\n        let uri = 'data:text/tsv;charset=utf-8,' + encodeURI(tsvString);\n        let fileName = 'differentialResults.tsv';\n\n        return (\n            <div style={{display: 'inline-block', verticalAlign: 'top', paddingLeft: '10px'}}>\n                <a ref={c => {this._downloadProfilesLinkRef = c;}} className=\"gxaNoTextButton\"\n                   href={uri} download={fileName} target=\"_blank\"\n                   onClick={this._downloadDifferentialProfiles}>\n                    <img id=\"download-profiles\" alt=\"Download query results\" style={{width: '20px'}}\n                         src={downloadImgSrcURL} />\n                </a>\n            </div>\n        );\n    },\n\n    componentDidMount () {\n        let $downloadProfilesLink = $(ReactDOM.findDOMNode(this._downloadProfilesLinkRef));\n        $downloadProfilesLink.tooltip();\n        $downloadProfilesLink.button();\n    }\n\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = DownloadDifferentialButton;\n\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/differential-expression/src/DifferentialDownloadButton.jsx","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./DifferentialDownloadButton.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./DifferentialDownloadButton.css\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./DifferentialDownloadButton.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/differential-expression/src/DifferentialDownloadButton.css\n// module id = 6405\n// module chunks = 6","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaNoTextButton {\\n    border: 1px solid #ccc !important; /* overrides ebi-visual.css */\\n}\\n\\n.gxaNoTextButton .ui-button-text {\\n    padding: 2px;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/differential-expression/~/css-loader!./atlas_bundles/differential-expression/src/DifferentialDownloadButton.css\n// module id = 6406\n// module chunks = 6","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nmodule.exports = require('./src/contrastTooltipModule.js');\n\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/differential-expression/~/expression-atlas-contrast-tooltips/index.js","var React = require('react');\nvar ReactDOMServer = require('react-dom/server');\n\nvar $ = require('jquery');\nrequire('jquery-ui-bundle');\n\n//*------------------------------------------------------------------*\n\nvar ContrastTooltip = require('./ContrastTooltip.jsx');\n\n//*------------------------------------------------------------------*\n\nrequire('./gxaContrastTooltip.css');\n\n//*------------------------------------------------------------------*\n\nfunction initTooltip(contextRoot, accessKey, element, experimentAccession, contrastId) {\n\n    $(element).attr(\"title\", \"\").tooltip({\n\n        hide: false,\n\n        show: false,\n\n        tooltipClass: \"gxaContrastTooltip\",\n\n        position: { collision: \"none\" },\n\n        close: function() {\n            $(\".gxaContrastTooltip\").remove();\n        },\n\n        content: function (callback) {\n            $.ajax({\n                url:contextRoot + \"/rest/contrast-summary\",\n                data:{\n                    experimentAccession: experimentAccession,\n                    contrastId: contrastId,\n                    accessKey: accessKey\n                },\n                type:\"GET\",\n                success:function (data) {\n                    var html =\n                        ReactDOMServer.renderToString(\n                            React.createElement(\n                                ContrastTooltip,\n                                {\n                                    experimentDescription: data.experimentDescription,\n                                    contrastDescription: data.contrastDescription,\n                                    testReplicates: data.testReplicates,\n                                    referenceReplicates: data.referenceReplicates,\n                                    properties: data.properties\n                                }\n                            )\n                        );\n                    callback(html);\n                }\n            }).fail(function (data) {\n                console.log(\"ERROR:  \" + data);\n                callback(\"ERROR: \" + data);\n            });\n        }\n\n    });\n\n}\n\n//*------------------------------------------------------------------*\n\nmodule.exports = function (contextRoot, accessKey, element, experimentAccession, contrastId) {\n    initTooltip(contextRoot, accessKey, element, experimentAccession, contrastId);\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/differential-expression/~/expression-atlas-contrast-tooltips/src/contrastTooltipModule.js","var React = require('react');\n\nvar ContrastTooltip = React.createClass({\n    propTypes: {\n        experimentDescription: React.PropTypes.string.isRequired,\n        contrastDescription: React.PropTypes.string.isRequired,\n        testReplicates: React.PropTypes.number.isRequired,\n        referenceReplicates: React.PropTypes.number.isRequired,\n        properties: React.PropTypes.arrayOf(\n            React.PropTypes.shape({\n                contrastPropertyType: React.PropTypes.string,\n                propertyName: React.PropTypes.string.isRequired,\n                referenceValue: React.PropTypes.string.isRequired,\n                testValue: React.PropTypes.string.isRequired\n            })\n        )\n    },\n\n\n    propertyRow: function (property) {\n        if (!property.testValue && !property.referenceValue) {\n            return null;\n        }\n\n        function isFactor(property) {\n            return property.contrastPropertyType === \"FACTOR\";\n        }\n\n        var style = {whiteSpace: \"normal\"};\n\n        if (isFactor(property)) {\n            style.fontWeight = \"bold\";\n        } else {\n            style.color = \"gray\";\n        }\n\n        return (\n            <tr key={property.contrastPropertyType + \"-\" + property.propertyName}>\n                <td style={style}>{property.propertyName}</td>\n                <td style={style}>{property.testValue}</td>\n                <td style={style}>{property.referenceValue}</td>\n            </tr>\n        );\n    },\n\n    render: function () {\n        return (\n            <div>\n                <div id=\"contrastExperimentDescription\" style={{fontWeight: \"bold\", color: \"blue\", textAlign: \"center\"}}>{this.props.experimentDescription}</div>\n                <div id=\"contrastDescription\" style={{textAlign: \"center\"}}>{this.props.contrastDescription}</div>\n                <table style={{padding: \"0px\", margin: \"0px\", width: \"100%\"}}>\n                    <thead>\n                        <tr>\n                            <th>Property</th>\n                            <th>Test value (N={this.props.testReplicates})</th>\n                            <th>Reference value (N={this.props.referenceReplicates})</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {this.props.properties.map(this.propertyRow)}\n                    </tbody>\n                </table>\n            </div>\n        );\n    }\n\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = ContrastTooltip;\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/differential-expression/~/expression-atlas-contrast-tooltips/src/ContrastTooltip.jsx","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../css-loader/index.js!./gxaContrastTooltip.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./gxaContrastTooltip.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./gxaContrastTooltip.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/differential-expression/~/expression-atlas-contrast-tooltips/src/gxaContrastTooltip.css\n// module id = 6410\n// module chunks = 6","exports = module.exports = require(\"./../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaContrastTooltip {\\n    position: relative;\\n    border: solid transparent;\\n    color: darkslategray;\\n    padding: 2px;\\n    font: 10px Verdana, Helvetica, Arial, sans-serif;\\n    max-width: 500px;\\n}\\n\\n.gxaContrastTooltip table {\\n    margin: 0; /* overrides ebi-visual.css:134 */\\n    background-color: white;\\n    border: 1px solid lightgrey;\\n    border-collapse: collapse;\\n    font-size: 0.8em;\\n}\\n\\n.gxaContrastTooltip th {\\n    border-bottom: 1px solid lightgrey;\\n    background-color: floralwhite;\\n}\\n\\n.gxaContrastTooltip td {\\n    border: 1px solid lightgrey;\\n}\\n\\n.gxaContrastTooltip td, .gxaContrastTooltip th {\\n    vertical-align: middle;\\n    padding: 8px;\\n}\\n\\n#contrastExperimentDescription {\\n    font-size: small;\\n}\\n\\n#contrastExperimentDescription {\\n    font-size:small;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/differential-expression/~/css-loader!./atlas_bundles/differential-expression/~/expression-atlas-contrast-tooltips/src/gxaContrastTooltip.css\n// module id = 6411\n// module chunks = 6","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../css-loader/index.js!./gxaFeedback.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./gxaFeedback.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./gxaFeedback.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/differential-expression/~/expression-atlas-feedback/src/gxaFeedback.css\n// module id = 6696\n// module chunks = 6","exports = module.exports = require(\"./../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"div.gxaFeedbackQuestionBox {\\n  margin: 30px;\\n  width: 300px;\\n  background-color: #b3e0ff;\\n  border: 3px solid #008ae6;\\n  opacity: 0.6;\\n  filter: alpha(opacity=60); /* For IE8 and earlier */\\n}\\n\\n#feedbackBoxCross {\\n  margin: 3px;\\n  margin-top: 5px;\\n  float: right;\\n  cursor:pointer;\\n}\\n\\n#feedbackBoxCross:before {\\n  color: #BF2222;\\n}\\n\\ndiv.gxaFeedbackQuestionBox p {\\n  margin: 2%;\\n font-weight: bold;\\n text-align: center;\\n}\\n\\ndiv.gxaFeedbackQuestionBox a {\\n  float: right;\\n  margin-top: 6px;\\n  cursor:pointer;\\n}\\n\\ndiv.gxaFeedbackQuestionBoxAnswer {\\n  position:relative;\\ntext-align: center;\\n  margin: 0 auto;\\n  margin-bottom: 10px;\\n  width: 90%;\\n}\\n\\ndiv.gxaFeedbackQuestionBox button {\\n width: auto;\\n}\\n\\n.feedbackBoxTransitionWrapper-leave {\\n  opacity: 1;\\n}\\n\\n.feedbackBoxTransitionWrapper-leave.feedbackBoxTransitionWrapper-leave-active {\\n  opacity: 0.01;\\n  transition: opacity 300ms ease-in;\\n}\\n\\n.gxaSmiley {\\n  opacity: 0.6;\\n  text-decoration:none;\\n  cursor:pointer;\\n}\\n\\n.gxaSmiley:hover {\\n  opacity: 0.9;\\n  text-decoration:none;\\n  cursor:pointer;\\n}\\n\\n.gxaSmileyClicked {\\n  opacity: 1;\\n}\\n\\n.gxaSmileyFeedbackBox {\\n  text-align: center;\\n  clear: both;\\n  width: 300px;\\n  opacity: 0.8;\\n  filter: alpha(opacity=80); /* For IE8 and earlier */\\n}\\n\\n.gxaSmileyRow {\\n  text-align: center!important;\\n}\\n\\n.gxaSmileyFeedbackBox p {\\n  padding-left: 18px;\\n  padding-top: 5px;\\n  font-weight: bold;\\n  font-size: 14px;\\n}\\n\\n.gxaSmileyFeedbackBox form {\\n  padding: 6px;\\n  width: 87%;\\n}\\n\\n.gxaSmileyFeedbackBox button {\\n  width: 100px;\\n  margin-left: 91px;\\n}\\n\\n.form-control {\\n  display: block;\\n  width: 100%;\\n  height: 34px;\\n  padding: 6px 12px;\\n  font-size: 14px;\\n  line-height: 1.42857143;\\n  color: #555;\\n  background-color: #fff;\\n  background-image: none;\\n  border: 1px solid #ccc;\\n  border-radius: 4px;\\n  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);\\n          box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);\\n  -webkit-transition: border-color ease-in-out .15s, -webkit-box-shadow ease-in-out .15s;\\n       -o-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;\\n          transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;\\n}\\n.form-control:focus {\\n  border-color: #66afe9;\\n  outline: 0;\\n  -webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102, 175, 233, .6);\\n          box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102, 175, 233, .6);\\n}\\n.form-control::-moz-placeholder {\\n  color: #999;\\n  opacity: 1;\\n}\\n.form-control:-ms-input-placeholder {\\n  color: #999;\\n}\\n.form-control::-webkit-input-placeholder {\\n  color: #999;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/differential-expression/~/css-loader!./atlas_bundles/differential-expression/~/expression-atlas-feedback/src/gxaFeedback.css\n// module id = 6697\n// module chunks = 6","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../css-loader/index.js!./ebi-visual-species.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./ebi-visual-species.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./ebi-visual-species.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/differential-expression/~/style-loader!./atlas_bundles/differential-expression/~/css-loader!./atlas_bundles/differential-expression/~/react-ebi-species/src/ebi-visual-species.css\n// module id = 6856\n// module chunks = 6","exports = module.exports = require(\"./../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/* Taken from: https://www.ebi.ac.uk/web_guidelines/css/compliance/develop/ebi-visual.css */\\n\\n@font-face {\\n    font-family: 'EBI-Species';\\n    src: url('https://www.ebi.ac.uk/web_guidelines/fonts/EBI-Species/fonts/EBI-Species.eot');\\n    src: url('https://www.ebi.ac.uk/web_guidelines/fonts/EBI-Species/fonts/EBI-Species.eot?#iefix') format('embedded-opentype'), url('https://www.ebi.ac.uk/web_guidelines/fonts/EBI-Species/fonts/EBI-Species.woff') format('woff'), local('\\\\263A'), url('https://www.ebi.ac.uk/web_guidelines/fonts/EBI-Species/fonts/EBI-Species.svg#EBI-Species') format('svg'), url('https://www.ebi.ac.uk/web_guidelines/fonts/EBI-Species/fonts/EBI-Species.ttf') format('truetype');\\n    font-weight: normal;\\n    font-style: normal\\n}\\n\\n.react-ebi-species-icon:before {\\n    font-family: 'EBI-Species';\\n    font-size: 100%;\\n    color: inherit;\\n    content: attr(data-icon);\\n    margin: 0 0.3em 0 0\\n}\\n\\n.react-ebi-species-icon {\\n    text-decoration: none;\\n    font-style: normal\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/differential-expression/~/css-loader!./atlas_bundles/differential-expression/~/react-ebi-species/src/ebi-visual-species.css\n// module id = 6857\n// module chunks = 6","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./DifferentialResults.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./DifferentialResults.css\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./DifferentialResults.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/differential-expression/src/DifferentialResults.css\n// module id = 6861\n// module chunks = 6","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"table.table-striped tr:nth-child(even) {\\n    background-color: #f9f9f9;\\n}\\n\\ntable.table-striped tr:nth-child(odd) {\\n    background: #FFF;\\n}\\n\\ntable.gxaDifferentialFacetedSearchResults, table.gxaDifferentialFacetedSearchResults td {\\n    border: none;\\n    width: inherit;\\n}\\n\\ntable.gxaDifferentialFacetedSearchResults th, table.gxaDifferentialFacetedSearchResults th span {\\n    font-weight: bold;\\n}\\n\\ntable.gxaDifferentialFacetedSearchResults th {\\n    background: transparent;\\n    text-align: center;\\n    font-size: 90%;\\n    border: 0 solid #ddd;\\n    border-bottom-width: 2px;\\n    vertical-align: bottom;\\n}\\n\\ntable.gxaDifferentialFacetedSearchResults tr td {\\n    padding: 8px;\\n    line-height: 1.42857143;\\n    vertical-align: middle;\\n    border-top: 1px solid #ddd;\\n    text-align: center;\\n    font-size: 90%;\\n}\\n\\ntable.gxaDifferentialFacetedSearchResults tr td.col_species .react-ebi-species-icon {\\n    font-size: 300%;\\n    margin-left: 4px;\\n}\\n\\ntd.gxaExperimentalVariable {\\n    text-align: center;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/differential-expression/~/css-loader!./atlas_bundles/differential-expression/src/DifferentialResults.css\n// module id = 6862\n// module chunks = 6","const React = require('react');\n\n//*------------------------------------------------------------------*\n\nrequire('./DifferentialFacetsTree.css');\n\n//*------------------------------------------------------------------*\n\nconst RequiredString = React.PropTypes.string.isRequired;\nconst RequiredBool = React.PropTypes.bool.isRequired;\n\nconst DifferentialFacetsTree = React.createClass({\n    propTypes: {\n        /*\n        [\n            { \"facetName\" : \"species\",\n              \"facetItems\" : [ {\"name\": \"homo sapiens\", \"value\": \"Homo sapiens\", checked: false, disabled: false},\n                               {\"name\": \"arabidopsis thaliana\", \"value\": \"arabidopsis thaliana\", checked: true, disabled: false} ]\n            },\n            { \"facetName\" : \"experimentType\",\n              \"facetItems\" : [ {\"name\": \"rnaseq_mrna_differential\", \"value\": \"RNA-seq mRNA\", checked: false, disabled: true},\n                                {\"name\": \"microarray_1colour_mrna_differential\", \"value\": \"1 colour mRNA\", checked: false, disabled: false} ]\n            },\n            { \"facetName\" : \"factors\",\n              \"facetItems\" : [ {\"name\": \"genotype\", \"value\": \"genotype\", checked: true, disabled: true} ]\n            },\n            { \"facetName\" : \"numReplicates\",\n              \"facetItems\" : [ {\"name\": \"3\", \"value\": \"3\", checked: true, disabled: true} ]\n            },\n            { \"facetName\" : \"regulation\".\n              \"facetItems\" : [ {\"name\": \"UP\", \"value\": \"Up\", checked: true, disabled: false},\n                            {\"name\": \"DOWN\", \"value\": \"Down\", checked: false, disabled: false} ]\n            }\n        ]\n        */\n        facets: React.PropTypes.arrayOf(\n            React.PropTypes.shape({\n                facetName: RequiredString,\n                facetItems: React.PropTypes.arrayOf(\n                    React.PropTypes.shape({\n                        name: RequiredString,\n                        value: RequiredString,\n                        checked: RequiredBool,\n                        disabled: RequiredBool\n                    }).isRequired\n                ).isRequired\n            }).isRequired\n        ).isRequired,\n        setChecked: React.PropTypes.func.isRequired\n    },\n\n    _setChecked (facetName, facetItemName, checked) {\n        this.props.setChecked(facetName, facetItemName, checked);\n    },\n\n    render () {\n        let facets = this.props.facets.map(facet =>\n            <Facet\n                key={facet.facetName}\n                facetName={facet.facetName}\n                facetItems={facet.facetItems}\n                setChecked={this._setChecked}\n            />\n        );\n\n        return (\n            <div className=\"hidden-xs gxaFacetsContainer\"><h3>Filter your results</h3>\n                {facets}\n            </div>\n        );\n    }\n});\n\nconst Facet = React.createClass({\n    propTypes: {\n        facetName: React.PropTypes.string.isRequired,\n        facetItems: React.PropTypes.arrayOf(\n            React.PropTypes.shape({\n                name: RequiredString,\n                value: RequiredString,\n                checked: RequiredBool,\n                disabled: RequiredBool\n            }).isRequired\n        ).isRequired,\n        setChecked: React.PropTypes.func.isRequired\n    },\n\n    _setChecked (facetItemName, checked) {\n        this.props.setChecked(this.props.facetName, facetItemName, checked);\n    },\n\n    _prettifyFacetName (facetName) {\n        switch (facetName) {\n            case 'kingdom':\n                return 'Kingdom';\n            case 'species':\n                return 'Species';\n            case 'experimentType':\n                return 'Experiment type';\n            case 'factors':\n                return 'Experimental variables';\n            case 'numReplicates':\n                return 'Number of replicates';\n            case 'regulation':\n                return 'Regulation';\n            default:\n                return facetName;\n        }\n    },\n\n    render () {\n        let facetItems = this.props.facetItems.map(facetItem =>\n            <FacetItem\n                key = {facetItem.name}\n                name = {facetItem.name}\n                value = {facetItem.value}\n                checked = {facetItem.checked}\n                disabled = {facetItem.disabled}\n                setChecked = {this._setChecked}\n            />\n        );\n\n        let className = this.props.facetName === 'species' ? 'gxaSpeciesFacet' : '';\n\n        return (\n            <div className=\"gxaFacetItem\">\n                <h4>{this._prettifyFacetName(this.props.facetName)}</h4>\n                <ul className={className}>\n                    {facetItems}\n                </ul>\n            </div>\n        );\n    }\n});\n\nconst FacetItem = React.createClass({\n    propTypes: {\n        name: RequiredString,\n        value: RequiredString,\n        checked: RequiredBool,\n        disabled: RequiredBool,\n        setChecked: React.PropTypes.func.isRequired,\n    },\n\n    _setChecked () {\n        this.props.setChecked(this.props.name, !this.props.checked);\n    },\n\n    render () {\n        let className = this.props.disabled ? 'gxaDisabledFacet' : '';\n        return (\n            <li className={className}>\n                <input type=\"checkbox\" checked={this.props.checked} onChange={this._setChecked} disabled={this.props.disabled}/>\n                {this.props.value}\n            </li>\n        );\n    }\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = DifferentialFacetsTree;\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/differential-expression/src/DifferentialFacetsTree.jsx","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./DifferentialFacetsTree.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./DifferentialFacetsTree.css\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./DifferentialFacetsTree.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/differential-expression/src/DifferentialFacetsTree.css\n// module id = 6864\n// module chunks = 6","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/*Responsive*/\\n@media (max-width: 768px) {\\n    .hidden-xs {display: none!important;} /*remove column like filter for small devices*/\\n}\\n\\n/* Facets-tree container */\\n.gxaFacetsContainer ul, .gxaFacetsContainer li {\\n    list-style-type: none;\\n    padding: 0px;\\n}\\n\\n.gxaFacetsContainer .gxaFacetItem {\\n    padding-bottom: 0px;\\n}\\n\\n.gxaFacetsContainer h3 {\\n    padding-left: 0;\\n    margin: 0 0 20px 0;\\n    font-size: 1.6rem;\\n}\\n\\n.filterTitle {\\n    color: #195454\\n}\\n\\n.gxaFacetsContainer .gxaFacetItem h4:first-letter, .gxaFacetsContainer .gxaFacetItem ul li span:first-letter {\\n    text-transform: capitalize;\\n}\\n\\n/* Responsive */\\n@media print, screen and (min-width: 40em) {\\n    .gxaFacetsContainer .gxaFacetItem h4 {\\n        /*font-weight: bold;*/\\n        color: #333;\\n        font-size: 100%;\\n        padding: 0;\\n    }\\n}\\n\\n.gxaFacetsContainer h5 {\\n    font-size: 1.2rem;\\n    color: rgba(34,34,34,0.84);\\n}\\n\\n.gxaFacetsContainer input {\\n    margin: 0 0.5em 0.5em 0;\\n    /*vertical-align: middle;*/\\n}\\n\\n.gxaFacetsContainer .gxaFacetItem .gxaDisabledFacet span {\\n    color: gray;\\n}\\n\\n.gxaFacetsContainer .gxaDisabledCheckbox {\\n    color: lightgray;\\n}\\n\\n.gxaSpeciesFacet li span {\\n    font-style: italic;\\n}\\n\\n.gxaFacetItem li {\\n    font-size: 80%;\\n}\\n\\n#gxaDifferentialFacetsContainerDiv {\\n    float:left;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/differential-expression/~/css-loader!./atlas_bundles/differential-expression/src/DifferentialFacetsTree.css\n// module id = 6865\n// module chunks = 6","const Url = require('url');\nconst QueryString = require('querystring');\n\n/**\n * Stringify the `query` object, assign it to the `ds` search field in the URL and store it in the History\n * @param {object} querySelect\n * @param {boolean} replace - use `replaceState` instead of `pushState`\n */\nexports.differentialPush = function pushQueryIntoBrowserHistory(querySelect, replace) {\n    let currentUrlObject = Url.parse(window.location.toString());\n\n    let newUrlQueryParams = QueryString.parse(currentUrlObject.query);\n    newUrlQueryParams.ds = JSON.stringify(querySelect);\n\n    let newUrlObject = {\n        protocol: currentUrlObject.protocol,\n        host: currentUrlObject.host,\n        hash: currentUrlObject.hash,\n        pathname: currentUrlObject.pathname,\n        query: newUrlQueryParams\n    };\n\n    if (replace) {\n        history.replaceState(null, '', Url.format(newUrlObject));\n    } else {\n        history.pushState(null, '', Url.format(newUrlObject));\n    }\n};\n\nexports.parseDifferentialUrlParameter = function getQuerySelectFromLocation(location = window.location) {\n    let currentURL = Url.parse(location.toString());\n    let differentialSelectParam = QueryString.parse(currentURL.query).ds;\n    return differentialSelectParam ? JSON.parse(differentialSelectParam) : {};\n};\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/differential-expression/src/urlManager.js"],"sourceRoot":""}
{"version":3,"sources":["webpack:///./atlas_bundles/heatmap/~/fbjs/lib/getUnboundedScrollPosition.js?b548","webpack:///./atlas_bundles/heatmap/~/fbjs/lib/isNode.js?360a","webpack:///./atlas_bundles/heatmap/~/fbjs/lib/getActiveElement.js?b9f1","webpack:///./atlas_bundles/heatmap/~/anatomogram/index.js?e077","webpack:///./atlas_bundles/heatmap/~/anatomogram/src/AnatomogramFactory.jsx?6e4e","webpack:///./atlas_bundles/heatmap/~/anatomogram/src/Anatomogram.jsx?0e66","webpack:///./atlas_bundles/heatmap/~/anatomogram/src/AnatomogramImage.jsx?fd29","webpack:///./atlas_bundles/heatmap/~/anatomogram/src/SelectionIcon.jsx?e278","webpack:///./atlas_bundles/heatmap/~/anatomogram/src/imagesAvailable.js?be71","webpack:///./atlas_bundles/heatmap/~/anatomogram/resources/icons ^\\.\\/.*selected\\.png$?1309","webpack:///./atlas_bundles/heatmap/~/anatomogram/resources/svg ^\\.\\/.*$?fbed","webpack:///./atlas_bundles/heatmap/~/anatomogram/src/SelectionIcon.less?51b4*","webpack:///./atlas_bundles/heatmap/~/anatomogram/src/SelectionIcon.less?b891","webpack:///./atlas_bundles/heatmap/~/style-loader/addStyles.js?ea0a","webpack:///./atlas_bundles/heatmap/~/anatomogram/src/ContainerLayout.less?17d9*","webpack:///./atlas_bundles/heatmap/~/anatomogram/src/ContainerLayout.less?1392","webpack:///./atlas_bundles/heatmap/src/Heatmap.jsx?38e7","webpack:///./atlas_bundles/heatmap/~/rc-trigger/lib/Trigger.js?5c95","webpack:///./atlas_bundles/heatmap/~/rc-animate/lib/Animate.js?9835","webpack:///./atlas_bundles/heatmap/~/rc-animate/lib/AnimateChild.js?01ba","webpack:///./atlas_bundles/heatmap/~/css-animation/lib/index.js?ef5b","webpack:///./atlas_bundles/heatmap/~/rc-slider/assets/index.css?6283*","webpack:///./atlas_bundles/heatmap/~/rc-slider/assets/index.css?2691","webpack:///./atlas_bundles/heatmap/~/expression-atlas-download-profiles-button/index.js?dce0","webpack:///./atlas_bundles/heatmap/~/expression-atlas-download-profiles-button/src/DownloadProfilesButton.jsx?a405","webpack:///./atlas_bundles/heatmap/~/react-overlays/lib/Modal.js?316f","webpack:///./atlas_bundles/heatmap/~/react-overlays/lib/ModalManager.js?463a","webpack:///./atlas_bundles/heatmap/~/dom-helpers/class/index.js?f654","webpack:///./atlas_bundles/heatmap/~/dom-helpers/class/addClass.js?d974","webpack:///./atlas_bundles/heatmap/~/dom-helpers/class/hasClass.js?4c4e","webpack:///./atlas_bundles/heatmap/~/dom-helpers/query/isWindow.js?f3c7","webpack:///./atlas_bundles/heatmap/~/react-overlays/lib/utils/manageAriaHidden.js?ed29","webpack:///./atlas_bundles/heatmap/~/react-overlays/lib/Transition.js?34dc","webpack:///./atlas_bundles/heatmap/~/dom-helpers/transition/properties.js?dcf9","webpack:///./atlas_bundles/heatmap/~/expression-atlas-download-profiles-button/src/Disclaimers.jsx?5b75","webpack:///./atlas_bundles/heatmap/~/atlas-modernizr/modernizr-csstransforms.min.js?79f0","webpack:///./atlas_bundles/heatmap/~/fancybox/dist/css/jquery.fancybox.css?6e0b*","webpack:///./atlas_bundles/heatmap/~/fancybox/dist/css/jquery.fancybox.css?5f49","webpack:///./atlas_bundles/heatmap/~/fancybox/dist/img/fancybox_sprite.png?ebfd","webpack:///./atlas_bundles/heatmap/~/fancybox/dist/img/fancybox_loading.gif?d15a","webpack:///./atlas_bundles/heatmap/~/fancybox/dist/img/blank.gif?59b2","webpack:///./atlas_bundles/heatmap/~/fancybox/dist/img/fancybox_overlay.png?c18e","webpack:///./atlas_bundles/heatmap/~/fancybox/dist/img/fancybox_sprite@2x.png?d77e","webpack:///./atlas_bundles/heatmap/~/fancybox/dist/img/fancybox_loading@2x.gif?4d32","webpack:///./atlas_bundles/heatmap/~/jquery-toolbar/jquery.toolbar.css?9127*","webpack:///./atlas_bundles/heatmap/~/jquery-toolbar/jquery.toolbar.css?bc5a","webpack:///./atlas_bundles/heatmap/~/expression-atlas-heatmap-baseline-cell-variance/index.js?0a72","webpack:///./atlas_bundles/heatmap/~/expression-atlas-heatmap-baseline-cell-variance/src/HeatmapBaselineCellVariance.jsx?23f9","webpack:///./atlas_bundles/heatmap/~/react-highcharts/dist/ReactHighcharts.js?1373","webpack:///./atlas_bundles/heatmap/~/highcharts-more/more.js?a45b","webpack:///./atlas_bundles/heatmap/~/expression-atlas-legend/index.js?ea57","webpack:///./atlas_bundles/heatmap/~/expression-atlas-legend/src/LegendDifferential.jsx?b760","webpack:///./atlas_bundles/heatmap/~/expression-atlas-legend/src/LegendRow.jsx?2fb2","webpack:///./atlas_bundles/heatmap/~/expression-atlas-legend/src/gxaGradient.css?5145*","webpack:///./atlas_bundles/heatmap/~/expression-atlas-legend/src/gxaGradient.css?ca94","webpack:///./atlas_bundles/heatmap/~/expression-atlas-help-tooltips/index.js?70ee","webpack:///./atlas_bundles/heatmap/~/expression-atlas-help-tooltips/src/helpTooltipsModule.js?ebeb","webpack:///./atlas_bundles/heatmap/~/expression-atlas-help-tooltips/src/gxaHelpTooltip.css?5966*","webpack:///./atlas_bundles/heatmap/~/expression-atlas-help-tooltips/src/gxaHelpTooltip.css?68d3","webpack:///./atlas_bundles/heatmap/~/expression-atlas-legend/src/gxaLegend.css?9c83*","webpack:///./atlas_bundles/heatmap/~/expression-atlas-legend/src/gxaLegend.css?c418","webpack:///./atlas_bundles/heatmap/~/expression-atlas-legend/src/LegendBaseline.jsx?069c","webpack:///./atlas_bundles/heatmap/~/expression-atlas-cell-differential/index.js?1bae","webpack:///./atlas_bundles/heatmap/~/expression-atlas-cell-differential/src/CellDifferential.jsx?ba6d","webpack:///./atlas_bundles/heatmap/~/expression-atlas-cell-differential/src/gxaShowHideCell.css?349e*","webpack:///./atlas_bundles/heatmap/~/expression-atlas-cell-differential/src/gxaShowHideCell.css?a199","webpack:///./atlas_bundles/heatmap/~/expression-atlas-cell-differential/src/gxaDifferentialCellTooltip.css?f42c*","webpack:///./atlas_bundles/heatmap/~/expression-atlas-cell-differential/src/gxaDifferentialCellTooltip.css?1256","webpack:///./atlas_bundles/heatmap/~/expression-atlas-display-levels-button/index.js?09ca","webpack:///./atlas_bundles/heatmap/~/expression-atlas-display-levels-button/src/DisplayLevelsButton.jsx?f357","webpack:///./atlas_bundles/heatmap/~/expression-atlas-contrast-tooltips/index.js?db30","webpack:///./atlas_bundles/heatmap/~/expression-atlas-contrast-tooltips/src/contrastTooltipModule.js?957c","webpack:///./atlas_bundles/heatmap/~/expression-atlas-contrast-tooltips/src/ContrastTooltip.jsx?bab1","webpack:///./atlas_bundles/heatmap/~/expression-atlas-contrast-tooltips/src/gxaContrastTooltip.css?87c3*","webpack:///./atlas_bundles/heatmap/~/expression-atlas-contrast-tooltips/src/gxaContrastTooltip.css?0248","webpack:///./atlas_bundles/heatmap/src/genePropertiesTooltipModule.js?e43f","webpack:///./atlas_bundles/heatmap/src/genePropertiesTooltipModule.css?31e3*","webpack:///./atlas_bundles/heatmap/src/genePropertiesTooltipModule.css?65d5","webpack:///./atlas_bundles/heatmap/src/factorTooltipModule.js?1b06","webpack:///./atlas_bundles/heatmap/src/FactorTooltip.jsx?ff1e","webpack:///./atlas_bundles/heatmap/src/factorTooltipModule.css?24a6*","webpack:///./atlas_bundles/heatmap/src/factorTooltipModule.css?4670","webpack:///./atlas_bundles/heatmap/src/stickyHeaderModule.js?ac74","webpack:///./atlas_bundles/heatmap/src/stickyHeaderModule.css?20c9*","webpack:///./atlas_bundles/heatmap/src/stickyHeaderModule.css?1557","webpack:///./atlas_bundles/heatmap/src/Heatmap.css?fd58*","webpack:///./atlas_bundles/heatmap/src/Heatmap.css?306b","webpack:///./atlas_bundles/heatmap/src/experimentTypes.js?1452","webpack:///./atlas_bundles/heatmap/index.js","webpack:///./atlas_bundles/heatmap/src/heatmapAnatomogramRenderer.js","webpack:///./atlas_bundles/heatmap/src/HeatmapAnatomogramContainer.jsx","webpack:///./atlas_bundles/heatmap/~/urijs/src/URI.js","webpack:///./atlas_bundles/heatmap/~/urijs/src/IPv6.js","webpack:///./atlas_bundles/heatmap/~/urijs/src/SecondLevelDomains.js","webpack:///./atlas_bundles/heatmap/src/ExperimentsList.jsx","webpack:///./atlas_bundles/heatmap/src/HeatmapAnatomogramContainer.css?9b4c","webpack:///./atlas_bundles/heatmap/src/HeatmapAnatomogramContainer.css"],"names":["module","exports","require","React","Anatomogram","getSvgsForSpecies","GetSvgsForSpecies","_availableAnatomograms","species","pathToFolderWithBundledResources","allSvgPathIds","filter","some","e","ids","indexOf","id","callEmitterWhenMousedOverTissuesChange","eventEmitter","forEachXNotInYsEmit","xs","ys","eventName","forEach","emit","emitEvents","nextIds","previousIds","createAnatomogram","args","availableAnatomograms","anatomogramData","length","expressedTissueColour","hoveredTissueColour","whenMousedOverIdsChange","idsExpressedInExperiment","ontologyIdsForTissuesExpressedInAllRows","idsToBeHighlighted","arraysEqual","a","b","i","makeWrapper","ComponentClass","createClass","displayName","propTypes","ontologyIdsToHighlight","PropTypes","arrayOf","string","isRequired","onOntologyIdIsUnderFocus","func","componentProps","object","shouldComponentUpdate","nextProps","props","render","wrapComponentWithAnatomogram","anatomogramConfig","componentClass","Wrapped","getInitialState","ontologyIdsForComponentContentUnderFocus","ontologyIdsForAnatomogramContentUnderFocus","Object","assign","state","setState","selectedIdOrIds","AnatomogramImage","SelectionIcon","shape","type","path","height","number","selectedType","display","paddingTop","verticalAlign","_anatomogramSelectImageButtons","_selectedAnatomogram","map","availableAnatomogram","_afterUserSelectedAnatomogram","newSelectedType","concat","ReactDOM","Snap","ArraysEqual","AnatomogramImageParts","idsHeatmapWantsHighlighted","idsMousedOver","idsNotHighlighted","getDefaultProps","oldIds","toDraw","_idsThatShouldBeStronglyHighlighted","_highlightStrongly","_highlightSlightly","_highlightAsBackground","svgPathId","colour","opacity","componentWillUnmount","componentWillReceiveProps","oldStrong","newStrong","oldWeak","newWeak","includes","properties","file","propName","componentName","Error","mousedOverSvgIds","_loadAnatomogram","componentDidMount","_draw","componentDidUpdate","svg","findDOMNode","_anatomogram","select","_drawOnSvg","_imageParts","_drawInitialLayout","instructions","_highlightOrganismParts","instruction","idsHoveredOver","push","c","width","_highlightPath","hoveredPathId","svgFile","svgCanvas","allElements","selectAll","remove","displayAllOrganismPartsCallback","registerHoverEventsCallback","_registerHoverEvents","load","fragment","g","transform","append","img","heightTranslate","Number","parseInt","style","widthTranslate","MaxOverlappingTissues","mouseoverCallback","previousState","slice","mouseoutCallback","el","attachCallbacks","svgElement","mouseover","mouseout","node","getAttribute","_recursivelyChangeProperties","innerElement","attr","ResolvePathToIcon","anatomogramType","oneOf","selected","bool","onClick","Url","Path","SvgsForSpecies","IdsForSvgs","resolve","basename","ResolvePathToSvg","svgEntry","keys","ReactDOMServer","RadioGroup","Slider","DownloadProfilesButton","shallowCompare","$","HeatmapBaselineCellVariance","Legend","LegendBaseline","LegendDifferential","CellDifferential","DisplayLevelsButton","NumberFormat","default","HelpTooltips","ContrastTooltips","GenePropertiesTooltipModule","FactorTooltipModule","StickyHeaderModule","Heatmap","isBaseline","isProteomics","isDifferential","isMultiExperiment","heatmapTooltip","heatmapConfig","columnHeaders","oneOfType","assayGroupId","factorValue","factorValueOntologyTermId","referenceAssayGroup","assayAccessions","replicates","testAssayGroup","profiles","jsonCoexpressions","geneId","geneName","jsonProfiles","geneSetProfiles","prefFormDisplayLevels","anatomogramEventEmitter","googleAnalytics","atlasBaseURL","linksAtlasBaseURL","selectGeneIdCallback","selectedGeneId","selectColumnIdCallback","selectedColumnId","googleAnalyticsCallback","displayLevels","val","coexpressionsDisplayed","showGeneSetProfiles","hoveredColumnId","hoveredGeneId","selectedRadioButton","userInteractedWithTheHeatmap","_coexpressionsCurrentlyShown","ans","k","_getProfiles","newRows","rows","thisRow","coexpressionsForThisRow","o","bind","j","apply","create","value","_hoverColumn","columnId","_hoverRow","rowId","hoveredRowId","selectColumn","selectGene","toggleGeneSets","toggleDisplayLevels","newDisplayLevels","window","resize","toggleRadioButton","newSelected","isMicroarray","hasOwnProperty","designElement","hasQuartiles","expressions","quartiles","undefined","isSingleGeneResult","_stateChangeRepresentsInteraction","s1","s2","ks","_propsChangeRepresentsInteraction","nextState","componentWillUpdate","table","refs","heatmapTable","stickyIntersect","stickyColumn","stickyHeadRow","stickyHeader","stickyWrap","countAndLegend","setWidthsAndReposition","hcSticky","bottomEnd","calculateAllowance","scroll","stickyReposition","on","setWidthAndHeight","_getMaxExpressionLevel","maxExpressionLevel","Infinity","profileRows","isNaN","_getMinExpressionLevel","minExpressionLevel","legendType","ps","parseFloat","minDownLevel","maxDownLevel","minUpLevel","maxUpLevel","_getCoexpressionsAvailable","name","amount","_showCoexpressionsFor","JSON","parse","stringify","_showGeneCount","shownRows","totalRows","searchResultTotal","_constructDownloadProfilesURL","downloadProfilesURL","match","paddingMargin","disclaimer","multipleColumnHeaders","HeatmapTableHeader","currentlyShowingCoexpressions","renderContrastFactorHeaders","renderFactorHeaders","mainHeaderNames","experimentAccession","hoverColumnCallback","renderContrastHeaders","showGeneProfile","showExperimentProfile","radioId","restrictLabelSize","label","maxSize","result","substring","lastIndexOf","assayGroupFactors","assayGroupFactor","FactorHeader","hover","onMouseEnter","enableEnsemblLauncher","onMouseLeave","_closeTooltip","tooltip","_anatomogramTissueMouseEnter","headerCell","addClass","_anatomogramTissueMouseLeave","removeClass","init","accessKey","addListener","showSelectTextOnHover","position","right","left","float","color","showTickWhenSelected","thClass","divClass","factorName","Modernizr","csstransforms","contrasts","contrastHeaders","contrast","plotsThisContrast","maPlot","resources","gseaGo","gseaInterpro","gseaReactome","arrayDesignAccession","ContrastHeader","contrastId","showPlotsButton","renderToolBarContent","plotsToolBarContent","$plotsButton","plotsButton","hide","show","tooltipClass","button","toolbar","content","event","hideOnClick","contentNode","$contentNode","maPlotURL","maPlotImgSrcURL","gseaGoPlotURL","gseaGoPlotImgSrcURL","gseaInterproPlotURL","gseaInterproImgSrcURL","gseaReactomePlotURL","gseaReactomePlotImgSrcURL","showMaPlotButton","clickButton","showGseaGoPlot","showGseaInterproPlot","showGseaReactomePlot","html","renderToStaticMarkup","find","each","index","fancybox","padding","openEffect","closeEffect","stopPropagation","thStyle","minWidth","textStyle","top","plotsImgSrcURL","textAlign","paddingRight","bottom","contrastName","TopLeftCorner","displayLevelsBaseline","LRG","LevelsRadioGroup","tooltipSpan","__args__","call","arguments","inputElements","ix","allValues","handleChange","selectedRadio","HeatmapTableRows","profileRowType","profile","geneProfileKey","experimentType","serializedFilterFactors","renderExpressionCells","hoverRowCallback","geneProfilesRows","GeneProfileRow","levels","_geneNameLinked","experimentURL","geneQuery","encodeURIComponent","geneURL","titleTooltip","experimentOrGeneURL","geneNameLinkClicked","displayLevelsRadio","cellType","expression","foldChange","pValue","tStat","cells","className","rowClassName","CellBaseline","_noExpression","_isUnknownExpression","_onMouseEnter","_onMouseLeave","visibility","_unknownCell","baselineExpression","addQuestionMarkTooltip","hasQuestionMark","unknownElement","children","unknownCell","_hasKnownExpression","propsvalue","CellMultiExperiment","_isNAExpression","_tissueNotStudiedInExperiment","HeatmapBottomOptions","coexpressionsAvailable","showCoexpressionsFor","options","CoexpressionOption","numCoexpressionsAvailable","showCoexpressionsCallback","visible","_chooseValue","_turnOnWithDefaultValue","_showOfferToDisplay","_showSlider","marks","trigger","Modal","Button","Glyphicon","Disclaimers","onDownloadCallbackForAnalytics","showModal","_closeModal","_disclaimer","title","_afterDownloadButtonClicked","_commenceDownload","location","href","_commenceDownloadAndCloseModal","BlueprintText","ZebrafishText","Highcharts","min","lower","median","upper","max","chartWidth","chartHeight","chartMargin","highchartsOptions","credits","enabled","chart","margin","text","legend","xAxis","yAxis","labels","align","x","y","plotOptions","boxplot","fillColor","lineWidth","medianColor","medianWidth","stemColor","stemDashStyle","stemWidth","whiskerColor","whiskerLength","whiskerWidth","series","data","headerFormat","fontSize","boxPlotStyle","LegendRow","legendHelp","lowValueColour","highValueColour","lowExpressionLevel","element","highExpressionLevel","spanStyle","backgroundImage","buildHelpAnchor","class","getHelpFileName","pageName","initTooltips","parentElementId","anchor","helpSelector","click","preventDefault","callback","tooltipHelpHtmlId","parent","get","response","status","xhr","tooltipContent","statusText","dataHelpLoc","legendHelpDiv","_hasValue","_getStyle","backgroundColor","_initTooltip","buildHeatmapCellTooltip","tStatistic","scientificNotation","Math","floor","open","ui","css","hideText","showText","onClickCallback","_buttonText","_updateButtonText","ContrastTooltip","initTooltip","contextRoot","collision","close","ajax","url","success","renderToString","createElement","experimentDescription","contrastDescription","testReplicates","referenceReplicates","fail","console","log","contrastPropertyType","propertyName","referenceValue","testValue","propertyRow","property","isFactor","whiteSpace","fontWeight","my","at","identifier","FactorTooltip","tableHeader","$t","$stickyIntersect","$stickyColumn","$stickyHeadRow","$stickyWrap","$tableHeader","createStickyAllowanceCallback","createStickyRepositionCallback","createSetStickyWidthHeight","createSetStickyWidthHeightAndRepositionCallback","eq","end","outerWidth","stickyAllowanceCallback","$w","add","offset","allowance","scrollLeft","scrollTop","outerHeight","setWidthAndHeightCallback","stickyRepositionCallback","rowHeight","BASELINE","PROTEOMICS_BASELINE","DIFFERENTIAL","MULTIEXPERIMENT","EventEmitter","HeatmapAnatomogramContainer","ExperimentTypes","atlasHost","atlasPath","proxyPrefix","selfHosted","endpointPath","sourceURL","params","setMaxListeners","key","showAnatomogram","isWidget","disableGoogleAnalytics","target","document","getElementById","URI","ExperimentsList","ExperimentDescription","experiment","URL","description","paddingBottom","AsynchronouslyLoadedHeatmapAnatomogramContainer","referenceToAnatomogramContainer","_ontologyIdsForTissuesExpressedInAllRows","_expressedFactors","expressedFactorsPerRow","vs","uniq","self","_expressedFactorsPerRow","reduce","row","_ontologyIdsForTissuesExpressedInRow","rowTitle","anatomogramExpressedTissueColour","anatomogramHoveredTissueColour","homoSapiensCellLine","search","source","Component","wrapComponent","facetsEventEmitter","experimentData","_updateStateAsynchronously","config","anatomogram","handleError","jqXHR","textStatus","errorThrown","this","responseText","handleSuccess","error","httpRequest","dataType","method","serverRequest","s","r","m","q","l","Date","getElementsByTagName","async","src","parentNode","insertBefore","ga","$anatomogram","anatomogramEnsembl","responsive","abort","BootstrapButton","array","_getRowsToDisplay","sort","_lexicalSort","displayAll","_displayAll","thisProfile","thatProfile","_renderListItem","_renderListItems","listStyleType","paddingLeft"],"mappings":"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BAAuB,oBAAoB,2BAA2B,uBAAuB,sBAAsB,2BAA2B,gCAAgC,iCAAiC,mCAAmC,oCAAoC,gBAAgB,iBAAiB,iBAAiB,GAAG,yBAAyB,8BAA8B,yCAAyC,sBAAsB,mBAAmB,GAAG,0BAA0B,mBAAmB,uBAAuB,eAAe,wBAAwB,uBAAuB,oBAAoB,2BAA2B,uBAAuB,sBAAsB,GAAG,oBAAoB,2BAA2B,gCAAgC,iCAAiC,mCAAmC,oCAAoC,GAAG,qBAAqB,gBAAgB,iBAAiB,iBAAiB,GAAG;;AAExjC;;;;;;;;;;;;;;;;;ACPA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAgB,mBAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,sBAAsB;AACtC;AACA;AACA,mBAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA,kBAAiB,2BAA2B;AAC5C;AACA;AACA,SAAQ,uBAAuB;AAC/B;AACA;AACA,IAAG;AACH;AACA,kBAAiB,uBAAuB;AACxC;AACA;AACA,4BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA,iCAAgC,sBAAsB;AACtD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;AACA,GAAE;AACF;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AAC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,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA,+BAA8B;AAC9B;AACA,MAAK;AACL,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,EAAC;;AAED;AACA,qC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzdA;;AAEA;AACA;AACA,EAAC;;AAED;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,uCAAsC,uCAAuC,kBAAkB;;AAE/F,4CAA2C,kBAAkB,kCAAkC,qEAAqE,EAAE,EAAE,OAAO,kBAAkB,EAAE,YAAY;;AAE/M;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,oBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mGAAkG;AAClG,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA,qC;;;;;;;;;;;;;;;;ACtUA;;AAEA;AACA;AACA,EAAC;;AAED,qGAAoG,mBAAmB,EAAE,mBAAmB,kGAAkG;;AAE9O;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,uCAAsC,uCAAuC,kBAAkB;;AAE/F;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,EAAC;;AAED;AACA,qC;;;;;;;;;;ACzGA;;AAEA;AACA;AACA,EAAC;;AAED,qGAAoG,mBAAmB,EAAE,mBAAmB,8HAA8H;;AAE1Q;;AAEA;;AAEA;;AAEA;;AAEA,uCAAsC,uCAAuC,kBAAkB;;AAE/F;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,kBAAiB,qBAAqB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;;AAEA;AACA,qC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7LA;;AAEA;AACA;AACA;AACA;AACA,4FAAsE;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;;;;;ACpBA;AACA;;;AAGA;AACA,uCAAsC,uBAAuB,gBAAgB,gBAAgB,uBAAuB,8BAA8B,2BAA2B,kDAAkD,GAAG,gBAAgB,2BAA2B,kDAAkD,GAAG,oBAAoB,uBAAuB,YAAY,gBAAgB,uBAAuB,8BAA8B,GAAG,qBAAqB,uBAAuB,sBAAsB,qBAAqB,gBAAgB,iBAAiB,oBAAoB,uBAAuB,8BAA8B,2BAA2B,GAAG,2BAA2B,0BAA0B,GAAG,mCAAmC,0BAA0B,gCAAgC,GAAG,mBAAmB,uBAAuB,cAAc,YAAY,gBAAgB,oBAAoB,GAAG,wBAAwB,uBAAuB,0BAA0B,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E,EAAE,EAAE,eAAe,GAAG;;;AAGjQ;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,uCAAsC,uCAAuC,gBAAgB;;AAE7F;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,yBAAwB;;AAExB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yBAAwB,sBAAsB,SAAS;AACvD;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,aAAY;AACZ,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA,IAAG;AACH;AACA;AACA,sBAAqB,gBAAgB;AACrC,MAAK;AACL;AACA,sBAAqB,eAAe;AACpC;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;;AAGA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;;AAEA;;AAEA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA,oBAAmB,eAAe;AAClC;;AAEA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAG;;;AAGH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,EAAC;;AAED;;AAEA;AACA,qC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjhBA;;AAEA;AACA;AACA,EAAC;;AAED,iCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,uCAAsC,uCAAuC,gBAAgB;;AAE7F,kDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA,gBAAe;;AAEf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA,EAAC;;AAED;AACA,qC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1LA;;AAEA;AACA;AACA;AACA;AACA,G;;;;;;;;;;ACNA;AACA;;AAEA;AACA,2DAA0D;AAC1D,G;;;;;;;;;;ACLA;AACA;AACA,sFAAqF;AACrF,G;;;;;;;;;;;;;;;;;;;;;;ACHA;;AAEA;AACA;AACA,G;;;;;;;;;;ACJA;;AAEA;AACA;AACA,EAAC;AACD;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA,IAAG;AACH,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChDA;;AAEA;AACA;AACA,EAAC;AACD;;AAEA,oDAAmD,gBAAgB,sBAAsB,OAAO,2BAA2B,0BAA0B,yDAAyD,2BAA2B,EAAE,EAAE,EAAE,eAAe;;AAE9P,iCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,uCAAsC,uCAAuC,gBAAgB;;AAE7F,+CAA8C,iBAAiB,qBAAqB,oCAAoC,6DAA6D,oBAAoB,EAAE,eAAe;;AAE1N,kDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,kDAAiD,aAAa,uFAAuF,EAAE,uFAAuF;;AAE9O,2CAA0C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE5e;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,oBAAmB;;AAEnB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,0BAAyB,iBAAiB;AAC1C;AACA,QAAO;AACP;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,0BAAyB,oBAAoB;AAC7C;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,0BAAyB,mBAAmB;AAC5C;;AAEA;AACA,gCAA+B,kBAAkB;AACjD;AACA,YAAW;AACX,UAAS;AACT,QAAO;AACP;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,0BAAyB,kBAAkB;AAC3C;;AAEA;AACA,gCAA+B,iBAAiB;AAChD;AACA,YAAW;AACX,UAAS;AACT,QAAO;AACP;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;;AAEA;AACA,6DAA4D;AAC5D;AACA,QAAO;AACP;AACA,IAAG;;AAEH;AACA,EAAC;;AAED;AACA;AACA,yBAAwB;AACxB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,8B;;;;;;;;;;AC1WA;AACA;;AAEA;AACA;AACA,oBAAmB;AACnB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,WAAU;AACV,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtDA,KAAM9L,QAAQ,mBAAAD,CAAA,iBAAAA,CAAd;;AAEA,KAAMkhB,gBAAgB;AAClBN,wDADkB;AAElBtH,cACI;AAAA;AAAA;AACI;AAAA;AAAA;AAAA;AAAA,UADJ;AAKI;AAAA;AAAA;AAAA;AAAA,UALJ;AAYI;AAAA;AAAA;AAAA;AAAA,UAZJ;AAmBI;AAAA;AAAA;AAAA;AAAA,UAnBJ;AAoBI;AAAA;AAAA;AAAA;AAAA,UApBJ;AA8BI;AAAA;AAAA;AAAA;AAAA,UA9BJ;AA+BI;AAAA;AAAA;AAAA;AAAA,UA/BJ;AAuCI;AAAA;AAAA;AAAA;AAAA,UAvCJ;AAwCI;AAAA;AAAA;AAAA;AAAA,UAxCJ;AAmDI;AAAA;AAAA;AAAA;AAAA,UAnDJ;AAoDI;AAAA;AAAA;AAAA;AAAA,UApDJ;AA2DI;AAAA;AAAA;AAAA;AAAA,UA3DJ;AA4DI;AAAA;AAAA;AAAA;AAGI;AAAA;AAAA,mBAAG,MAAK,mCAAR;AAAA;AAAA,cAHJ;AAAA;AAAA;AA5DJ;AAHc,EAAtB;;AA0EA,KAAM6H,gBAAgB;AAClBP,kCADkB;AAElBtH,cACI;AAAA;AAAA;AACI;AAAA;AAAA;AAAA;AACyD;AAAA;AAAA,mBAAG,MAAK,sCAAR;AAAA;AAAA,cADzD;AAAA;AAAA,UADJ;AAKI;AAAA;AAAA;AAAA;AAAA,UALJ;AASI;AAAA;AAAA;AAAA;AAAA,UATJ;AAcI;AAAA;AAAA;AAAA;AAEU;AAAA;AAAA,mBAAG,MAAK,kDAAR;AAAA;AAAA,cAFV;AAAA;AAAA;AAdJ;AAHc,EAAtB;;AA2BAxZ,QAAOC,OAAP,GAAiB,EAAC,kBAAkBmhB,aAAnB,EAAkC,aAAaC,aAA/C,EAAjB,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvGA;AACA;AACA,kBAAiB,gBAAgB,oBAAoB,aAAa,kBAAkB,uCAAuC,qHAAqH,2BAA2B,+CAA+C,yCAAyC,WAAW,yNAAyN,cAAc,sDAAsD,qDAAqD,6CAA6C,6BAA6B,gGAAgG,gBAAgB,2BAA2B,aAAa,gLAAgL,cAAc,oDAAoD,yBAAyB,mBAAmB,gBAAgB,kBAAkB,6BAA6B,kBAAkB,MAAM,sFAAsF,SAAS,cAAc,0CAA0C,0BAA0B,yBAAyB,aAAa,aAAa,4CAA4C,oBAAoB,2CAA2C,uBAAuB,IAAI,iDAAiD,oZAAoZ,gBAAgB,eAAe,kCAAkC,KAAK,IAAI,uCAAuC,SAAS,0BAA0B,aAAa,IAAI,+BAA+B,8CAA8C,aAAa,oBAAoB,EAAE,EAAE,cAAc,oDAAoD,EAAE,SAAS,oBAAoB,aAAa,qCAAqC,8CAA8C,aAAa,8BAA8B,iDAAiD,mBAAmB,qDAAqD,mBAAmB,IAAI,8DAA8D,gDAAgD,IAAI,aAAa,UAAU,0CAA0C,cAAc,sBAAsB,gFAAgF,kGAAkG,kBAAkB,oBAAoB,iBAAiB,0BAA0B,gEAAgE,wBAAwB,WAAW,sBAAsB,QAAQ,IAAI,yBAAyB,QAAQ,sBAAsB,EAAE,0BAA0B,QAAQ,eAAe,GAAG,wBAAwB,8CAA8C,uHAAuH,mBAAmB,0DAA0D,iBAAiB,OAAO,qBAAqB,6BAA6B,cAAc,EAAE,OAAO,oBAAoB,gCAAgC,eAAe,iFAAiF,mFAAmF,kDAAkD,YAAY,sBAAsB,sBAAsB,sBAAsB,kB;;;;;;;;;;;;;;;;ACFvnI;;AAEA;AACA;AACA;AACA;AACA,+FAAyE;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;;;;;ACpBA;AACA;;;AAGA;AACA,sRAAqR,eAAe,cAAc,cAAc,kBAAkB,wBAAwB,EAAE,oBAAoB,uBAAuB,WAAW,YAAY,kBAAkB,EAAE,oBAAoB,uBAAuB,wBAAwB,gBAAgB,sBAAsB,+BAA+B,4BAA4B,uBAAuB,EAAE,sBAAsB,kBAAkB,EAAE,qCAAqC,uDAAuD,oDAAoD,+CAA+C,EAAE,sCAAsC,uBAAuB,EAAE,qBAAqB,qBAAqB,EAAE,2CAA2C,sCAAsC,EAAE,qBAAqB,gBAAgB,qEAAqE,cAAc,kBAAkB,wBAAwB,EAAE,uCAAuC,mBAAmB,gBAAgB,iBAAiB,EAAE,qBAAqB,oBAAoB,qBAAqB,EAAE,kFAAkF,+FAAyE,EAAE,uBAAuB,oBAAoB,aAAa,cAAc,sBAAsB,uBAAuB,kCAAkC,iBAAiB,oBAAoB,kBAAkB,EAAE,2BAA2B,gBAAgB,iBAAiB,kHAA4F,EAAE,qBAAqB,uBAAuB,eAAe,iBAAiB,gBAAgB,iBAAiB,oBAAoB,kBAAkB,EAAE,mBAAmB,uBAAuB,WAAW,eAAe,iBAAiB,oBAAoB,0BAA0B,2FAAqE,+DAA+D,kBAAkB,EAAE,oBAAoB,YAAY,EAAE,oBAAoB,aAAa,EAAE,wBAAwB,uBAAuB,aAAa,gBAAgB,iBAAiB,sBAAsB,oBAAoB,kBAAkB,uBAAuB,EAAE,yBAAyB,eAAe,iCAAiC,EAAE,yBAAyB,gBAAgB,iCAAiC,EAAE,8BAA8B,wBAAwB,EAAE,mBAAmB,uBAAuB,kBAAkB,mBAAmB,uBAAuB,wBAAwB,iCAAiC,EAAE,0CAA0C,iCAAiC,gBAAgB,EAAE,yBAAyB,gCAAgC,EAAE,yBAAyB,kCAAkC,EAAE,uBAAuB,uBAAuB,WAAW,YAAY,qBAAqB,kBAAkB,kBAAkB,0FAAoE,EAAE,6BAA6B,oBAAoB,cAAc,aAAa,EAAE,sCAAsC,mBAAmB,uBAAuB,EAAE,yCAAyC,uBAAuB,4EAA4E,uBAAuB,sBAAsB,kBAAkB,EAAE,sCAAsC,wBAAwB,EAAE,gCAAgC,uBAAuB,cAAc,eAAe,yBAAyB,kBAAkB,uBAAuB,EAAE,uCAAuC,0BAA0B,wBAAwB,sBAAsB,4BAA4B,gGAAgG,gCAAgC,6BAA6B,wBAAwB,gCAAgC,gBAAgB,sBAAsB,sBAAsB,wBAAwB,EAAE,kCAAkC,uBAAuB,qBAAqB,gBAAgB,EAAE,iCAAiC,sBAAsB,EAAE,+BAA+B,uBAAuB,cAAc,YAAY,gBAAgB,kBAAkB,qBAAqB,mCAAmC,EAAE,2LAA2L,kFAAkF,oGAA8E,kCAAkC,2EAA2E,2BAA2B,qGAA+E,iCAAiC,2EAA2E,EAAE;;AAE9vK;;;;;;;;;;;ACPA,iF;;;;;;;;;;ACAA,iF;;;;;;;;;;ACAA,iF;;;;;;;;;;ACAA,iF;;;;;;;;;;ACAA,iF;;;;;;;;;;ACAA,iF;;;;;;;;;;;;;;;;ACAA;;AAEA;AACA;AACA;AACA;AACA,yFAAmE;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;;;;;ACpBA;AACA;;;AAGA;AACA,yCAAwC,wBAAwB,gBAAgB,iBAAiB,uBAAuB,kBAAkB,uBAAuB,mBAAmB,qBAAqB,GAAG,oBAAoB,mBAAmB,oBAAoB,GAAG,sBAAsB,wBAAwB,oBAAoB,GAAG,0BAA0B,iBAAiB,GAAG,wBAAwB,8BAA8B,GAAG,gCAAgC,8BAA8B,GAAG,8BAA8B,8BAA8B,GAAG,4BAA4B,iBAAiB,GAAG,uBAAuB,8BAA8B,GAAG,+BAA+B,8BAA8B,GAAG,6BAA6B,8BAA8B,GAAG,2BAA2B,iBAAiB,GAAG,wBAAwB,8BAA8B,GAAG,gCAAgC,8BAA8B,GAAG,8BAA8B,8BAA8B,GAAG,4BAA4B,iBAAiB,GAAG,qBAAqB,8BAA8B,GAAG,6BAA6B,8BAA8B,GAAG,2BAA2B,8BAA8B,GAAG,yBAAyB,iBAAiB,GAAG,wBAAwB,8BAA8B,GAAG,gCAAgC,8BAA8B,GAAG,8BAA8B,8BAA8B,GAAG,4BAA4B,iBAAiB,GAAG,uBAAuB,8BAA8B,GAAG,+BAA+B,8BAA8B,GAAG,6BAA6B,8BAA8B,GAAG,2BAA2B,iBAAiB,GAAG,sBAAsB,8BAA8B,GAAG,8BAA8B,8BAA8B,GAAG,4BAA4B,8BAA8B,GAAG,0BAA0B,iBAAiB,GAAG,qBAAqB,8BAA8B,GAAG,6BAA6B,8BAA8B,GAAG,2BAA2B,8BAA8B,GAAG,yBAAyB,iBAAiB,GAAG,mBAAmB,8BAA8B,+BAA+B,uBAAuB,uBAAuB,6BAA6B,GAAG,0DAA0D,iBAAiB,qCAAqC,GAAG,gFAAgF,gBAAgB,oBAAoB,mBAAmB,GAAG,cAAc,wBAAwB,iBAAiB,mBAAmB,gBAAgB,iBAAiB,uBAAuB,kBAAkB,qBAAqB,GAAG,oBAAoB,mBAAmB,GAAG,0CAA0C,wBAAwB,GAAG,sDAAsD,iBAAiB,GAAG,sFAAsF,gCAAgC,mCAAmC,GAAG,oFAAoF,iCAAiC,oCAAoC,GAAG,6LAA6L,gCAAgC,iCAAiC,GAAG,yLAAyL,mCAAmC,oCAAoC,GAAG,0BAA0B,aAAa,cAAc,uBAAuB,sBAAsB,wBAAwB,GAAG,mCAAmC,kDAAkD,cAAc,kBAAkB,sBAAsB,GAAG,sCAAsC,kDAAkD,cAAc,eAAe,sBAAsB,GAAG,oCAAoC,8DAA8D,aAAa,iBAAiB,qBAAqB,GAAG,qCAAqC,8DAA8D,aAAa,gBAAgB,qBAAqB,GAAG,oBAAoB,8BAA8B,GAAG,oCAAoC,kDAAkD,GAAG,uCAAuC,kDAAkD,GAAG,qCAAqC,8DAA8D,GAAG,sCAAsC,8DAA8D,GAAG,qCAAqC,iBAAiB,GAAG,4EAA4E,wBAAwB,iBAAiB,GAAG,mBAAmB,8BAA8B,GAAG,mCAAmC,kDAAkD,GAAG,sCAAsC,kDAAkD,GAAG,oCAAoC,8DAA8D,GAAG,qCAAqC,8DAA8D,GAAG,oCAAoC,iBAAiB,GAAG,0EAA0E,wBAAwB,iBAAiB,GAAG,oBAAoB,8BAA8B,GAAG,oCAAoC,kDAAkD,GAAG,uCAAuC,kDAAkD,GAAG,qCAAqC,8DAA8D,GAAG,sCAAsC,8DAA8D,GAAG,qCAAqC,iBAAiB,GAAG,4EAA4E,wBAAwB,iBAAiB,GAAG,iBAAiB,8BAA8B,GAAG,iCAAiC,kDAAkD,GAAG,oCAAoC,kDAAkD,GAAG,kCAAkC,8DAA8D,GAAG,mCAAmC,8DAA8D,GAAG,kCAAkC,iBAAiB,GAAG,sEAAsE,wBAAwB,iBAAiB,GAAG,oBAAoB,8BAA8B,GAAG,oCAAoC,kDAAkD,GAAG,uCAAuC,kDAAkD,GAAG,qCAAqC,8DAA8D,GAAG,sCAAsC,8DAA8D,GAAG,qCAAqC,iBAAiB,GAAG,4EAA4E,wBAAwB,iBAAiB,GAAG,mBAAmB,8BAA8B,GAAG,mCAAmC,kDAAkD,GAAG,sCAAsC,kDAAkD,GAAG,oCAAoC,8DAA8D,GAAG,qCAAqC,8DAA8D,GAAG,oCAAoC,iBAAiB,GAAG,0EAA0E,wBAAwB,iBAAiB,GAAG,kBAAkB,8BAA8B,GAAG,kCAAkC,kDAAkD,GAAG,qCAAqC,kDAAkD,GAAG,mCAAmC,8DAA8D,GAAG,oCAAoC,8DAA8D,GAAG,mCAAmC,iBAAiB,GAAG,wEAAwE,wBAAwB,iBAAiB,GAAG,iBAAiB,8BAA8B,GAAG,iCAAiC,kDAAkD,GAAG,oCAAoC,kDAAkD,GAAG,kCAAkC,8DAA8D,GAAG,mCAAmC,8DAA8D,GAAG,kCAAkC,iBAAiB,GAAG,sEAAsE,wBAAwB,iBAAiB,GAAG,qBAAqB,mDAAmD,GAAG,kBAAkB,iDAAiD,GAAG,iBAAiB,+CAA+C,GAAG,iBAAiB,+CAA+C,GAAG,mBAAmB,qDAAqD,GAAG,oCAAoC,UAAU,kDAAkD,iBAAiB,KAAK,QAAQ,6CAA6C,iBAAiB,KAAK,GAAG,sCAAsC,UAAU,kCAAkC,iBAAiB,KAAK,QAAQ,iCAAiC,iBAAiB,KAAK,GAAG,kCAAkC,QAAQ,2CAA2C,iBAAiB,KAAK,SAAS,2CAA2C,KAAK,UAAU,yCAAyC,iBAAiB,KAAK,GAAG,qCAAqC,UAAU,gCAAgC,gCAAgC,iBAAiB,KAAK,QAAQ,8BAA8B,iBAAiB,KAAK,GAAG,kCAAkC,UAAU,2CAA2C,iBAAiB,KAAK,QAAQ,yCAAyC,iBAAiB,KAAK,GAAG,oCAAoC,QAAQ,kCAAkC,iBAAiB,KAAK,SAAS,mCAAmC,KAAK,SAAS,kCAAkC,KAAK,UAAU,iCAAiC,iBAAiB,KAAK,GAAG,WAAW,kBAAkB,GAAG,oDAAoD,gCAAgC,GAAG,8BAA8B,gCAAgC,GAAG,4BAA4B,gCAAgC,GAAG,0BAA0B,mBAAmB,GAAG,oBAAoB,mCAAmC,GAAG,kCAAkC,oDAAoD,GAAG,qCAAqC,oDAAoD,GAAG,mCAAmC,gEAAgE,GAAG,oCAAoC,kEAAkE,GAAG,mCAAmC,mBAAmB,GAAG,wEAAwE,uCAAuC,mBAAmB,GAAG;;AAEznX;;;;;;;;;;;ACPA;;AAEA;;AAEArhB,QAAOC,OAAP,GAAiB,mBAAAC,CAAQ,iDAAR,CAAjB,C;;;;;;;;;;;;ACJA,KAAIC,QAAQ,mBAAAD,CAAQ,iBAAR,CAAZ;AACA,KAAIohB,aAAa,mBAAAphB,CAAQ,4BAAR,CAAjB;AACA,oBAAAA,CAAQ,2BAAR,EAA2BohB,WAAWA,UAAtC;;AAEA,KAAIlV,8BAA8BjM,MAAM0C,WAAN,CAAkB;AAAA;;;AAEhDE,gBAAW;AACP2O,oBAAWvR,MAAM8C,SAAN,CAAgB0B,KAAhB,CAAsB;AAC7B4c,kBAAKphB,MAAM8C,SAAN,CAAgB8B,MADQ;AAE7Byc,oBAAOrhB,MAAM8C,SAAN,CAAgB8B,MAFM;AAG7B0c,qBAAQthB,MAAM8C,SAAN,CAAgB8B,MAHK;AAI7B2c,oBAAOvhB,MAAM8C,SAAN,CAAgB8B,MAJM;AAK7B4c,kBAAKxhB,MAAM8C,SAAN,CAAgB8B;AALQ,UAAtB,EAMR3B;AAPI,MAFqC;;AAYhDQ,aAAQ,kBAAY;;AAEhB,aAAIge,aAAa,GAAjB;AACA,aAAIC,cAAc,GAAlB;AACA,aAAIC,cAAc,CAAlB;;AAEA,aAAIC,oBAAoB;AACpBC,sBAAS,EAAEC,SAAS,KAAX,EADW;AAEpBC,oBAAS,EAAEtd,MAAM,SAAR,EAAmB8D,OAAOkZ,UAA1B,EAAsC9c,QAAQ+c,WAA9C,EAA2DM,QAAQL,WAAnE,EAFW;AAGpBhB,oBAAS,EAAEsB,MAAM,EAAR,EAHW;AAIpBC,qBAAS,EAAEJ,SAAS,KAAX,EAJW;AAKpBK,oBAAS,EAAExB,OAAO,EAAEsB,MAAM,UAAR,EAAT,EALW;AAMpBG,oBAAS;AACLzB,wBAAO,EAAEsB,MAAM,kBAAR,EADF;AAELI,yBAAQ;AACJC,4BAAO,MADH;AAEJC,wBAAG,CAFC;AAGJC,wBAAG,CAAC;AAHA;AAFH,cANW;AAcpBC,0BAAa;AACTC,0BAAS;AACLC,gCAAW,SADN;AAELC,gCAAW,CAFN;AAGLC,kCAAa,SAHR;AAILC,kCAAa,CAJR;AAKLC,gCAAW,SALN;AAMLC,oCAAe,KANV;AAOLC,gCAAW,CAPN;AAQLC,mCAAc,SART;AASLC,oCAAe,KATV;AAULC,mCAAc;AAVT;AADA,cAdO;AA4BpBC,qBAAQ,CAAC;AACLpP,uBAAM,YADD;AAELqP,uBAAM,CACF,CAAC,KAAK9f,KAAL,CAAW+N,SAAX,CAAqB6P,GAAtB,EAA2B,KAAK5d,KAAL,CAAW+N,SAAX,CAAqB8P,KAAhD,EAAuD,KAAK7d,KAAL,CAAW+N,SAAX,CAAqB+P,MAA5E,EAAoF,KAAK9d,KAAL,CAAW+N,SAAX,CAAqBgQ,KAAzG,EAAgH,KAAK/d,KAAL,CAAW+N,SAAX,CAAqBiQ,GAArI,CADE;AAFD,cAAD,CA5BY;AAkCpB9K,sBAAS;AACL6M,+BAAc,EADT;AAEL5Z,wBAAM;AACF6Z,+BAAU,MADR;AAEF3I,8BAAS;AAFP;AAFD;AAlCW,UAAxB;;AA2CA,aAAI4I,eAAe,EAAClb,OAAOkZ,UAAR,EAAoB9c,QAAQ+c,WAA5B,EAAyCM,QAAQL,WAAjD,EAAnB;AACA,gBACI;AAAA;AAAA;AACI;AAAA;AAAA,mBAAK,IAAG,WAAR,EAAoB,OAAO8B,YAA3B;AACI,qCAAC,UAAD,IAAY,QAAQ7B,iBAApB;AADJ;AADJ,UADJ;AAOH;;AArE+C,EAAlB,CAAlC;;AAyEA/hB,QAAOC,OAAP,GAAiBmM,2BAAjB,C;;;;;;;;;;AC7EA,gBAAe,sTAAuT,oBAAoB,mBAAmB,cAAc,4BAA4B,YAAY,UAAU,iBAAiB,gEAAgE,SAAS,+BAA+B,kBAAkB,eAAe,eAAe,YAAY,iBAAiB,aAAa,aAAa,iCAAiC,YAAY,mBAAmB,KAAK,mBAAmB,sEAAsE,SAAS,QAAQ,wBAAwB,sCAAsC,yBAAyB,0HAA0H,eAAe,sBAAsB,yBAAyB,WAAW,0EAA0E,cAAc,wBAAwB,IAAI,UAAU,IAAI,yBAAyB,EAAE,iFAAiF,2CAA2C,EAAE,mCAAmC,sGAAsG,qBAAqB,kGAAkG,kBAAkB,8BAA8B,oCAAoC,iCAAiC,qBAAqB,mBAAmB,iBAAiB,aAAa,IAAI,YAAY,4BAA4B,EAAE,yBAAyB,oBAAoB,YAAY,IAAI,iBAAiB,aAAa,6BAA6B,eAAe,YAAY,GAAG,E;;;;;;;;;;ACAh/D;AACA;;AAEA;;AAEA;AACA;AACA,cAAa,wEAAwE,cAAc,kBAAkB,iBAAiB,8TAA8T,eAAe,qBAAqB;AACxe,kBAAiB,UAAU,2BAA2B,cAAc,WAAW,0DAA0D,0EAA0E,yBAAyB,0BAA0B,+BAA+B,4BAA4B,0DAA0D,EAAE,iBAAiB,6CAA6C,2BAA2B;AACtd,kBAAiB,gBAAgB,oBAAoB,+BAA+B,8EAA8E,EAAE,mCAAmC,8BAA8B,gBAAgB,mBAAmB,gBAAgB,uCAAuC,IAAI,uCAAuC,QAAQ,0BAA0B;AAC5Y,wDAAuD,WAAW,UAAU,wBAAwB,wBAAwB,kCAAkC,yDAAyD,wBAAwB,uCAAuC,wBAAwB,yBAAyB,2BAA2B,wBAAwB,kEAAkE,+BAA+B,sBAAsB;AACjf,oCAAmC,yDAAyD,2BAA2B,4CAA4C,yEAAyE,+DAA+D,EAAE,+BAA+B,gCAAgC;AAC5W,wEAAuE,mCAAmC,6FAA6F,wBAAwB,yBAAyB,kBAAkB,6EAA6E,mEAAmE,mEAAmE;AAC7d,IAAG,mIAAmI,6BAA6B,sDAAsD,OAAO,gEAAgE,iCAAiC,uIAAuI;AACxc,kLAAiL,6BAA6B,SAAS,mLAAmL,sEAAsE,GAAG,SAAS;AAC5d,IAAG,yDAAyD,6KAA6K,uBAAuB,8HAA8H,qBAAqB,0BAA0B,GAAG,SAAS,6BAA6B;AACtd,sBAAqB,OAAO,6CAA6C,2BAA2B,2BAA2B,2BAA2B,MAAM,6CAA6C,YAAY,gBAAgB,MAAM,+EAA+E,sIAAsI,iBAAiB,eAAe,eAAe;AACnf,IAAG,oEAAoE,YAAY,cAAc,sBAAsB,mDAAmD,mEAAmE,wBAAwB,6EAA6E,EAAE,iCAAiC,kEAAkE,EAAE,sCAAsC,gBAAgB;AAC/e,uCAAsC,EAAE,mDAAmD,yGAAyG,kGAAkG,WAAW;AACjT,8DAA6D,QAAQ,mDAAmD,SAAS,EAAE,0CAA0C,gBAAgB,0GAA0G,SAAS,EAAE,sBAAsB,gDAAgD,iCAAiC,aAAa,iBAAiB,YAAY,MAAM,UAAU,WAAW,WAAW,WAAW;AACpf,4BAA2B,4DAA4D,SAAS,OAAO,UAAU,EAAE,sBAAsB,sHAAsH,qBAAqB,+DAA+D,mFAAmF,2BAA2B,yBAAyB,sBAAsB;AAChf,gBAAe,oCAAoC,uBAAuB,+BAA+B,+EAA+E,EAAE,4CAA4C,cAAc,EAAE,yBAAyB,wEAAwE,eAAe,4BAA4B,IAAI,qDAAqD,8BAA8B,KAAK;AAC9d,iBAAgB,kEAAkE,8BAA8B,EAAE,iBAAiB,gCAAgC,0CAA0C,IAAI,iBAAiB,iBAAiB,SAAS,iBAAiB,0CAA0C,wCAAwC,SAAS,2BAA2B;AACnY,yBAAwB,oCAAoC,QAAQ,IAAI,YAAY,8CAA8C,WAAW,iBAAiB,mBAAmB,iBAAiB,6BAA6B,UAAU,MAAM,+BAA+B,4CAA4C,YAAY,YAAY,yDAAyD,QAAQ,IAAI,YAAY,8CAA8C,6BAA6B;AAC9e,MAAK,UAAU,iBAAiB,WAAW,MAAM,+BAA+B,4CAA4C,WAAW,WAAW,yDAAyD,UAAU,kBAAkB,2BAA2B,wDAAwD,6CAA6C,EAAE,iCAAiC,iCAAiC,wEAAwE;AACnf,aAAY,yBAAyB,sCAAsC,4BAA4B,EAAE,6BAA6B,wCAAwC,2CAA2C,qBAAqB,uBAAuB,iDAAiD,yCAAyC,kBAAkB,IAAI,YAAY,mDAAmD,WAAW,MAAM;AACrc,wGAAuG,EAAE,0OAA0O,EAAE,IAAI,kBAAkB,YAAY,gHAAgH,QAAQ,SAAS;AACxf,UAAS,gBAAgB,iBAAiB,EAAE,GAAG,6BAA6B,qBAAqB,cAAc,+GAA+G,2CAA2C,sBAAsB,0BAA0B;AACzT,oBAAmB,wKAAwK,gBAAgB,mBAAmB,aAAa,6GAA6G,aAAa,aAAa,EAAE,uBAAuB,+EAA+E,uBAAuB;AACjf,kDAAiD,yDAAyD,0HAA0H,eAAe,EAAE,aAAa,gCAAgC,4CAA4C,wGAAwG,oCAAoC,qBAAqB;AAC/e,MAAK,6BAA6B,gBAAgB,YAAY,2CAA2C,aAAa,8BAA8B,uBAAuB,iBAAiB,mBAAmB,uHAAuH,8BAA8B,qCAAqC,uBAAuB,oCAAoC,mBAAmB,sBAAsB;AAC7e,qBAAoB,oCAAoC,oBAAoB,sBAAsB,sDAAsD,OAAO,iBAAiB,yBAAyB,iCAAiC,YAAY,qBAAqB,YAAY,mBAAmB,WAAW,sBAAsB,SAAS,cAAc,aAAa,sBAAsB,SAAS,eAAe,UAAU,OAAO,oCAAoC,EAAE,sBAAsB;AAC1e,qEAAoE,wCAAwC,wCAAwC,2DAA2D,uCAAuC,sCAAsC,yCAAyC,0BAA0B,gBAAgB,qDAAqD,EAAE,EAAE,uBAAuB;AAC/b,kFAAiF,uBAAuB,YAAY,cAAc,KAAK,KAAK,KAAK,mBAAmB;AACpK;AACA,+DAA8D,IAAI,yBAAyB,IAAI,oBAAoB,IAAI,yBAAyB,IAAI,EAAE,KAAK,+BAA+B,gCAAgC,yCAAyC,oCAAoC,wCAAwC,EAAE,oBAAoB,EAAE,wBAAwB,0DAA0D,iCAAiC,YAAY,iBAAiB,YAAY,MAAM,UAAU,WAAW,WAAW,WAAW;AACpjB,mBAAkB,EAAE,wBAAwB,iEAAiE,qBAAqB,iIAAiI,2GAA2G,EAAE,wBAAwB,4EAA4E,UAAU,SAAS,OAAO,kBAAkB;AAChgB,yBAAwB,yEAAyE,qGAAqG,yCAAyC,4BAA4B,MAAM,cAAc,mBAAmB,IAAI,KAAK,OAAO,yBAAyB,cAAc,oGAAoG,iBAAiB;AAC9d,KAAI,kBAAkB,uBAAuB,kHAAkH,uIAAuI,KAAK,qFAAqF,KAAK,yCAAyC,wCAAwC,8BAA8B;AACpf,cAAa,uDAAuD,+BAA+B,4DAA4D,+DAA+D,yBAAyB,8DAA8D,kCAAkC,QAAQ,IAAI,4BAA4B;AAC/X,IAAG,qCAAqC,eAAe,eAAe,qBAAqB,yFAAyF,uBAAuB,oDAAoD,yHAAyH,WAAW,8BAA8B,gCAAgC,uBAAuB;AACxd,sCAAqC,EAAE,yBAAyB,uFAAuF,QAAQ,IAAI,0IAA0I,SAAS,+CAA+C,EAAE,uBAAuB,QAAQ,YAAY,EAAE,uBAAuB,uDAAuD;AACle,gBAAe,oFAAoF,EAAE,sBAAsB,YAAY,qBAAqB,oBAAoB,kCAAkC,SAAS,2BAA2B,kDAAkD,OAAO,MAAM,SAAS,UAAU,eAAe,QAAQ,GAAG,QAAQ,UAAU,QAAQ,EAAE,4CAA4C,EAAE,OAAO,oBAAoB;AACvc,6CAA4C,YAAY,EAAE,sBAAsB,4KAA4K,+DAA+D,0BAA0B,8EAA8E,0CAA0C,SAAS,2BAA2B;AACjf,kDAAiD,iCAAiC,SAAS,4BAA4B,qFAAqF,mBAAmB,IAAI,0MAA0M,aAAa,qBAAqB,6BAA6B;AAC5e,aAAY,8BAA8B,gCAAgC,MAAM,KAAK,oBAAoB,sBAAsB,mCAAmC,yCAAyC,eAAe,IAAI,+FAA+F,wBAAwB,UAAU,6CAA6C,qCAAqC,gCAAgC;AACjd,GAAE,gDAAgD,SAAS,qBAAqB,2BAA2B,sHAAsH,EAAE,qCAAqC,6FAA6F,kGAAkG,0BAA0B,gBAAgB;AACjf,2HAA0H,iCAAiC,iBAAiB,qLAAqL,EAAE,gBAAgB,wBAAwB,2CAA2C,YAAY,IAAI;AACtc,uCAAsC,EAAE,uGAAuG,uDAAuD,IAAI,YAAY,gBAAgB,uHAAuH,YAAY,iCAAiC,QAAQ,8DAA8D,6BAA6B;AAC7e,gCAA+B,qDAAqD,oBAAoB,kCAAkC,iCAAiC,0CAA0C,0BAA0B,wFAAwF,GAAG,8BAA8B,gGAAgG,cAAc,EAAE,mBAAmB;AAC3e,WAAU,UAAU,cAAc,cAAc,qDAAqD,oCAAoC,mCAAmC,uHAAuH,kEAAkE,kBAAkB,qBAAqB,UAAU,UAAU,SAAS,SAAS,qDAAqD;AACve,qZAAoZ;AACpZ,aAAY,0BAA0B,SAAS,EAAE,4BAA4B,iBAAiB,aAAa,qFAAqF,cAAc,eAAe,IAAI,kBAAkB,EAAE,iCAAiC,WAAW,qBAAqB,iBAAiB,8FAA8F,gBAAgB,iCAAiC,EAAE;AACxd,KAAI,EAAE,iBAAiB,8EAA8E,yFAAyF,6BAA6B,aAAa,eAAe,cAAc,eAAe,IAAI,mDAAmD,0CAA0C,mDAAmD,EAAE,qEAAqE;AAC/e,wCAAuC,qBAAqB,0BAA0B,2EAA2E,2FAA2F,sCAAsC,4BAA4B,EAAE,mCAAmC,oBAAoB,mBAAmB,6BAA6B;AACva,4BAA2B,8FAA8F,EAAE,mBAAmB,SAAS,EAAE,IAAI;;;;;;;;;;;ACvD7J;;AAEA;;AAEAnM,SAAQsM,kBAAR,GAA6B,mBAAArM,CAAQ,wCAAR,CAA7B;AACAD,SAAQqM,cAAR,GAAyB,mBAAApM,CAAQ,oCAAR,CAAzB,C;;;;;;;;;;ACLA;;AAEA;;AAEA,KAAIC,QAAQ,mBAAAD,CAAQ,iBAAR,CAAZ;AACA,KAAIyF,WAAW,mBAAAzF,CAAQ,qBAAR,CAAf;;AAEA;;AAEA,KAAI2jB,YAAY,mBAAA3jB,CAAQ,2BAAR,CAAhB;AACA,KAAI0M,eAAe,mBAAA1M,CAAQ,0CAAR,CAAnB;;AAEA;;AAEA,oBAAAA,CAAQ,2BAAR;;AAEA;;AAEA,KAAIqM,qBAAqBpM,MAAM0C,WAAN,CAAkB;AAAA;;;AAEvCE,gBAAW;AACP2L,uBAAcvO,MAAM8C,SAAN,CAAgBE,MAAhB,CAAuBC,UAD9B;AAEP2Q,uBAAc5T,MAAM8C,SAAN,CAAgB8B,MAAhB,CAAuB3B,UAF9B;AAGP4Q,uBAAc7T,MAAM8C,SAAN,CAAgB8B,MAAhB,CAAuB3B,UAH9B;AAIP6Q,qBAAY9T,MAAM8C,SAAN,CAAgB8B,MAAhB,CAAuB3B,UAJ5B;AAKP8Q,qBAAY/T,MAAM8C,SAAN,CAAgB8B,MAAhB,CAAuB3B;AAL5B,MAF4B;;AAUvCQ,aAAQ,kBAAY;AAChB,gBACI;AAAA;AAAA,eAAK,WAAU,WAAf;AACI;AAAA;AAAA,mBAAK,OAAO,EAACqB,SAAS,cAAV,EAAZ;AACKwO,uBAAM,KAAK9P,KAAL,CAAWoQ,YAAjB,KAAkCN,MAAM,KAAK9P,KAAL,CAAWqQ,YAAjB,CAAlC,GACG,IADH,GAEG,oBAAC,SAAD,IAAW,oBAAoB;AAAA;AAAA;AAAO,8BAAKrQ,KAAL,CAAWoQ;AAAlB,sBAA/B;AACW,0CAAqB;AAAA;AAAA;AAAO,8BAAKpQ,KAAL,CAAWqQ;AAAlB,sBADhC;AAEW,qCAAe,SAF1B;AAGW,sCAAgB,SAH3B,GAHR;AAQKP,uBAAM,KAAK9P,KAAL,CAAWsQ,UAAjB,KAAgCR,MAAM,KAAK9P,KAAL,CAAWuQ,UAAjB,CAAhC,GACG,IADH,GAEG,oBAAC,SAAD,IAAW,oBAAoB;AAAA;AAAA;AAAO,8BAAKvQ,KAAL,CAAWsQ;AAAlB,sBAA/B;AACW,0CAAqB;AAAA;AAAA;AAAO,8BAAKtQ,KAAL,CAAWuQ;AAAlB,sBADhC;AAEW,qCAAe,SAF1B;AAGW,sCAAgB,SAH3B;AAVR,cADJ;AAiBI,0CAAK,KAAI,YAAT,EAAsB,iBAAc,wBAApC,EAA6D,WAAU,eAAvE;AAjBJ,UADJ;AAqBH,MAhCsC;;AAkCvCxM,wBAAmB,6BAAY;AAC3BkF,sBAAa,KAAKjJ,KAAL,CAAW+K,YAAxB,EAAsC,YAAtC,EAAoD/I,SAASmC,WAAT,CAAqB,KAAKuK,IAAL,CAAUyR,UAA/B,CAApD;AACH;AApCsC,EAAlB,CAAzB;;AAuCA;;AAEA9jB,QAAOC,OAAP,GAAiBsM,kBAAjB,C;;;;;;;;;;;;AC3DA,KAAMpM,QAAQ,mBAAAD,CAAQ,iBAAR,CAAd;;AAEA,oBAAAA,CAAQ,6BAAR;;AAEA,KAAM2jB,YAAY1jB,MAAM0C,WAAN,CAAkB;AAAA;;;AAEhCE,gBAAW;AACPghB,yBAAgB5jB,MAAM8C,SAAN,CAAgBE,MAAhB,CAAuBC,UADhC;AAEP4gB,0BAAiB7jB,MAAM8C,SAAN,CAAgBE,MAAhB,CAAuBC,UAFjC;AAGP6gB,6BAAoB9jB,MAAM8C,SAAN,CAAgBihB,OAAhB,CAAwB9gB,UAHrC;AAIP+gB,8BAAqBhkB,MAAM8C,SAAN,CAAgBihB,OAAhB,CAAwB9gB;AAJtC,MAFqB;;AAShCQ,aAAQ,kBAAY;AAChB,aAAMwgB,YAAY;AACdC,6DAA8C,KAAK1gB,KAAL,CAAWogB,cAAzD,UAA4E,KAAKpgB,KAAL,CAAWqgB,eAAvF;AADc,UAAlB;;AAIA,gBACE,KAAKrgB,KAAL,CAAWsgB,kBAAX,IAAiC,KAAKtgB,KAAL,CAAWwgB,mBAA5C,GACE;AAAA;AAAA,eAAK,OAAO,EAAClf,SAAS,WAAV,EAAZ;AACI;AAAA;AAAA,mBAAK,WAAU,sCAAf;AAAuD,sBAAKtB,KAAL,CAAWsgB;AAAlE,cADJ;AAEI;AAAA;AAAA,mBAAK,OAAO,EAAChf,SAAS,YAAV,EAAZ;AACI,+CAAM,WAAU,mBAAhB,EAAoC,OAAOmf,SAA3C;AADJ,cAFJ;AAKI;AAAA;AAAA,mBAAK,WAAU,sCAAf;AAAuD,sBAAKzgB,KAAL,CAAWwgB;AAAlE;AALJ,UADF,GAQE,IATJ;AAWH;AAzB+B,EAAlB,CAAlB;;AA4BAnkB,QAAOC,OAAP,GAAiB4jB,SAAjB,C;;;;;;;;;;AChCA;;AAEA;AACA;AACA;AACA;AACA,4FAAsE;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;;;;;ACpBA;AACA;;;AAGA;AACA,+CAA8C,qBAAqB,6BAA6B,mBAAmB,mBAAmB,8BAA8B,4BAA4B,GAAG,uBAAuB,0BAA0B,sBAAsB,6BAA6B,0BAA0B,GAAG,0BAA0B,wBAAwB,GAAG,0BAA0B,uBAAuB,GAAG;;AAE7a;;;;;;;;;;;ACPA;;AAEA;;AAEA7jB,QAAOC,OAAP,GAAiB,mBAAAC,CAAQ,uCAAR,CAAjB,C;;;;;;;;;;ACJA;;AAEA;;;;AAEA,KAAIiM,IAAI,mBAAAjM,CAAQ,kBAAR,CAAR;AACA,oBAAAA,CAAQ,4BAAR;;AAEA;;AAEA,oBAAAA,CAAQ,gCAAR;;AAEA;;AAEA,UAASokB,eAAT,GAA2B;AACvB,YAAOnY,EAAE,MAAF,EAAU;AACboY,gBAAO,WADM;AAEbrD,eAAM,GAFO;AAGbJ,gBAAO,EAHM;AAIbsB,eAAM;AAJO,MAAV,CAAP;AAMH;;AAED,UAASoC,eAAT,CAAyBC,QAAzB,EAAkC;AAC9B,YAAO,mBAAmBA,QAAnB,GAA8B,YAArC;AACH;;AAED,UAASC,YAAT,CAAsBhW,YAAtB,EAAoC+V,QAApC,EAA8CE,eAA9C,EAA+D;;AAE3D,SAAIC,SAASN,iBAAb;;AAEA,SAAIO,eAAgB,QAAOF,eAAP,yCAAOA,eAAP,OAA2B,QAA5B,GAAwCA,eAAxC,GAA2DA,mBAAmB,EAApB,GAA0B,iBAA1B,GAA8C,MAAMA,eAAN,GAAwB,kBAAnJ;;AAEAxY,OAAE0Y,YAAF,EACKpb,MADL,CACYmb,MADZ,EAEKE,KAFL,CAEW,UAAUjkB,CAAV,EAAa;AAChBA,WAAEkkB,cAAF;AACH,MAJL,EAKKlO,OALL,CAMI;AACIwC,uBAAc,gBADlB;AAEIG,kBAAS,iBAAUwL,QAAV,EAAoB;AACzB,iBAAIC,oBAAoB9Y,EAAE,IAAF,EAAQ+Y,MAAR,GAAiBpa,IAAjB,CAAsB,eAAtB,CAAxB;;AAEAqB,eAAEgZ,GAAF,CAAMzW,eAAe,kBAAf,GAAoC8V,gBAAgBC,QAAhB,CAA1C,EACI,UAAUW,QAAV,EAAoBC,MAApB,EAA4BC,GAA5B,EAAiC;AAC7B,qBAAIC,cAAJ;;AAEA,qBAAIF,WAAW,OAAf,EAAwB;AACpBE,sCAAiB,mCAAmCD,IAAID,MAAvC,GAAgD,GAAhD,GAAsDC,IAAIE,UAA3E;AACAR,8BAASO,cAAT;AACA;AACH;;AAEDA,kCAAiBpZ,EAAEiZ,QAAF,EAAYzkB,MAAZ,CAAmBskB,iBAAnB,EAAsC7C,IAAtC,EAAjB;AACA,qBAAI,CAACmD,cAAL,EAAqB;AACjBA,sCAAiB,mCAAmCN,iBAAnC,GAAuD,gBAAvD,GAA0ET,gBAAgBC,QAAhB,CAA3F;AACH;;AAEDO,0BAASO,cAAT;AACH,cAhBL;AAkBH;AAvBL,MANJ;AAiCH;;AAED;;AAEAvlB,QAAOC,OAAP,GAAiB,UAAUyO,YAAV,EAAwB+V,QAAxB,EAAkCE,eAAlC,EAAmD;AAChED,kBAAahW,YAAb,EAA2B+V,QAA3B,EAAqCE,eAArC;AACH,EAFD,C;;;;;;;;;;ACrEA;;AAEA;AACA;AACA;AACA;AACA,4FAAsE;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;;;;;ACpBA;AACA;;;AAGA;AACA,4CAA2C,wBAAwB,mCAAmC,mCAAmC,mBAAmB,4BAA4B,uDAAuD,GAAG,iBAAiB,wBAAwB,0BAA0B,uDAAuD,wBAAwB,GAAG;;AAEvY;;;;;;;;;;;ACPA;;AAEA;AACA;AACA;AACA;AACA,4FAAsE;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;;;;;ACpBA;AACA;;;AAGA;AACA,2CAA0C,4BAA4B,0BAA0B,wBAAwB,GAAG,gBAAgB,4BAA4B,yBAAyB,GAAG;;AAEnM;;;;;;;;;;;ACPA;;AAEA;;AAEA,KAAIxkB,QAAQ,mBAAAD,CAAQ,iBAAR,CAAZ;AACA,KAAIyF,WAAW,mBAAAzF,CAAQ,qBAAR,CAAf;;AAEA;;AAEA,KAAI2jB,YAAY,mBAAA3jB,CAAQ,2BAAR,CAAhB;AACA,KAAIwM,eAAe,mBAAAxM,CAAQ,0CAAR,EAA0CyM,OAA7D;AACA,KAAIC,eAAe,mBAAA1M,CAAQ,0CAAR,CAAnB;;AAEA;;AAEA,oBAAAA,CAAQ,2BAAR;;AAEA;;AAEA,KAAIoM,iBAAiBnM,MAAM0C,WAAN,CAAkB;AAAA;;;AAEnCE,gBAAW;AACP2L,uBAAcvO,MAAM8C,SAAN,CAAgBE,MAAhB,CAAuBC,UAD9B;AAEPuQ,6BAAoBxT,MAAM8C,SAAN,CAAgB8B,MAAhB,CAAuB3B,UAFpC;AAGPkQ,6BAAoBnT,MAAM8C,SAAN,CAAgB8B,MAAhB,CAAuB3B,UAHpC;AAIPiK,4BAAmBlN,MAAM8C,SAAN,CAAgBkI,IAAhB,CAAqB/H;AAJjC,MAFwB;;AASnCQ,aAAQ,kBAAY;AAAA;;AAChB,aAAI6hB,cAAc,KAAK9hB,KAAL,CAAW0J,iBAAX,GAA+B,yBAA/B,GAA2D,gBAA7E;;AAEA;AACA,gBACI;AAAA;AAAA,eAAK,WAAU,0BAAf;AACI;AAAA;AAAA,mBAAK,OAAO,EAACpI,SAAS,cAAV,EAAZ;AACI,qCAAC,SAAD,IAAW,oBAAoByH,aAAamS,kBAAb,CAAgC,KAAKlb,KAAL,CAAWgQ,kBAA3C,CAA/B;AACW,0CAAqBjH,aAAamS,kBAAb,CAAgC,KAAKlb,KAAL,CAAW2P,kBAA3C,CADhC;AAEW,qCAAe,SAF1B;AAGW,sCAAgB,SAH3B;AADJ,cADJ;AAOI,0CAAK,KAAK,4BAAiB;AAAE,2BAAKoS,aAAL,GAAqBA,aAArB;AAAqC,kBAAlE,EAAoE,iBAAeD,WAAnF,EAAgG,WAAU,eAA1G;AAPJ,UADJ;AAWH,MAxBkC;;AA0BnC/d,wBAAmB,6BAAY;AAC3BkF,sBAAa,KAAKjJ,KAAL,CAAW+K,YAAxB,EAAsC,YAAtC,EAAoD/I,SAASmC,WAAT,CAAqB,KAAK4d,aAA1B,CAApD;AACH;AA5BkC,EAAlB,CAArB;;AA+BA;;AAEA1lB,QAAOC,OAAP,GAAiBqM,cAAjB,C;;;;;;;;;;;;;;;;;;;;;;;;ACpDAtM,QAAOC,OAAP,GAAiB,mBAAAC,CAAQ,sCAAR,CAAjB,C;;;;;;;;;;;;ACAA,KAAMC,QAAQ,mBAAAD,CAAQ,iBAAR,CAAd;AACA,KAAMyF,WAAW,mBAAAzF,CAAQ,qBAAR,CAAjB;AACA,KAAM4L,iBAAiB,mBAAA5L,CAAQ,4BAAR,CAAvB;AACA,KAAMiM,IAAI,mBAAAjM,CAAQ,kBAAR,CAAV;AACA,oBAAAA,CAAQ,4BAAR;;AAEA,KAAMwM,eAAe,mBAAAxM,CAAQ,0CAAR,EAA0CyM,OAA/D;;AAEA,oBAAAzM,CAAQ,iCAAR;AACA,oBAAAA,CAAQ,4CAAR;;AAEA,KAAMsM,mBAAmBrM,MAAM0C,WAAN,CAAkB;AAAA;;;AAEvCE,gBAAW;AACP4gB,mBAAUxjB,MAAM8C,SAAN,CAAgB8B,MADnB;AAEP2B,iBAAQvG,MAAM8C,SAAN,CAAgBE,MAFjB;AAGP6a,qBAAY7d,MAAM8C,SAAN,CAAgB8B,MAHrB;AAIPkZ,iBAAQ9d,MAAM8C,SAAN,CAAgB8B,MAJjB;AAKPmZ,gBAAO/d,MAAM8C,SAAN,CAAgB8B,MALhB;AAMPkK,wBAAe9O,MAAM8C,SAAN,CAAgBkI,IAAhB,CAAqB/H;AAN7B,MAF4B;;AAWvCuiB,cAXuC,uBAW3B;AACR,gBAAO,CAAC,CAAC,KAAKhiB,KAAL,CAAWqa,UAApB;AACH,MAbsC;AAevC4H,cAfuC,uBAe3B;AACR,gBAAO,KAAKjiB,KAAL,CAAWggB,QAAX,GAAsB,EAAEA,UAAa,KAAKhgB,KAAL,CAAWggB,QAAxB,OAAF,EAAtB,GAAiE,EAAxE;AACH,MAjBsC;AAmBvC/f,WAnBuC,oBAmB9B;AACL,aAAI,CAAC,KAAK+hB,SAAL,EAAL,EAAuB;AACnB,oBAAO,+BAAP;AACH;;AAED,gBACI;AAAA;AAAA,eAAI,OAAO,EAACE,iBAAiB,KAAKliB,KAAL,CAAW+C,MAA7B,EAAqCvB,uBAArC,EAAX;AACI;AAAA;AAAA,mBAAK,OAAO,KAAKygB,SAAL,EAAZ,EAA8B,WAAW,KAAKjiB,KAAL,CAAWsL,aAAX,gCAAzC;AACK,sBAAKtL,KAAL,CAAWqa;AADhB;AADJ,UADJ;AAOH,MA/BsC;AAiCvCtW,sBAjCuC,+BAiCnB;AAChB,aAAI,KAAKie,SAAL,EAAJ,EAAsB;AAClB,kBAAKG,YAAL,CAAkBngB,SAASmC,WAAT,CAAqB,IAArB,CAAlB;AACH;AACJ,MArCsC;AAuCvCge,iBAvCuC,wBAuC1B5B,OAvC0B,EAuCjB;AAAA;;AAElB,kBAAS6B,uBAAT,CAAkC9H,MAAlC,EAA0C+H,UAA1C,EAAsDhI,UAAtD,EAAkE;AAC9D,oBACQ;AAAA;AAAA;AACI;AAAA;AAAA;AACI;AAAA;AAAA;AACKC,kCAAS;AAAA;AAAA;AAAA;AAAa;AAAA;AAAA;AAAA;AAAA,8BAAb;AAAA;AAAA,0BAAT,GAA8C,IADnD;AAEK+H,sCAAa;AAAA;AAAA;AAAI;AAAA;AAAA;AAAA;AAAA,8BAAJ;AAAA;AAAA,0BAAb,GAA6C,IAFlD;AAGI;AAAA;AAAA;AAAA;AAAO;AAAA;AAAA;AAAA;AAAA,8BAAP;AAAA;AAAA;AAHJ;AADJ,kBADJ;AAQI;AAAA;AAAA;AACI;AAAA;AAAA;AACK/H,kCAAS;AAAA;AAAA;AAAKvR,0CAAauZ,kBAAb,CAAgChI,MAAhC;AAAL,0BAAT,GAA8D,IADnE;AAEK+H,sCAAa;AAAA;AAAA;AAAKE,kCAAKC,KAAL,CAAWH,aAAa,GAAxB,IAA+B;AAApC,0BAAb,GAA6D,IAFlE;AAGI;AAAA;AAAA;AAAKhI;AAAL;AAHJ;AADJ;AARJ,cADR;AAkBH;;AAED7R,WAAE+X,OAAF,EAAWpZ,IAAX,cAA6B+L,OAA7B,CAAqC;AACjCuP,mBAAM,cAAC3M,KAAD,EAAQ4M,EAAR,EAAe;AACjBA,oBAAGxP,OAAH,CAAWyP,GAAX,eAA6B,MAAK3iB,KAAL,CAAW+C,MAAxC;AACH,cAHgC;;AAKjC2S,uDALiC;;AAOjCG,sBAAS,mBAAM;AACX,wBAAO1N,eAAe6O,oBAAf,CACHoL,wBAAwB,MAAKpiB,KAAL,CAAWsa,MAAnC,EAA2C,MAAKta,KAAL,CAAWua,KAAtD,EAA6D,MAAKva,KAAL,CAAWqa,UAAxE,CADG,CAAP;AAEH;AAVgC,UAArC;AAYH;AA1EsC,EAAlB,CAAzB;;AA6EAhe,QAAOC,OAAP,GAAiBuM,gBAAjB,C;;;;;;;;;;;;;;;;;;;;;;ACxFA;;AAEA;AACA;AACA;AACA;AACA,4FAAsE;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;;;;;ACpBA;AACA;;;AAGA;AACA,yCAAwC,8BAA8B,0BAA0B,yBAAyB,kBAAkB,mBAAmB,GAAG,kBAAkB,oBAAoB,yBAAyB,GAAG;;AAEnO;;;;;;;;;;;ACPA;;AAEA;AACA;AACA;AACA;AACA,4FAAsE;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;;;;;ACpBA;AACA;;;AAGA;AACA,wDAAuD,iBAAiB,kBAAkB,gCAAgC,2BAA2B,mBAAmB,uDAAuD,GAAG,uCAAuC,gBAAgB,iEAAiE,kCAAkC,gCAAgC,GAAG,oCAAoC,yCAAyC,oCAAoC,GAAG,oEAAoE,yBAAyB,0BAA0B,6BAA6B,mBAAmB,kBAAkB,GAAG,qCAAqC,uBAAuB,GAAG,uCAAuC,yBAAyB,GAAG;;AAEj1B;;;;;;;;;;;;;ACPAxM,QAAOC,OAAP,GAAiB,mBAAAC,CAAQ,yCAAR,CAAjB,C;;;;;;;;;;;;ACAA,KAAIC,QAAQ,mBAAAD,CAAQ,iBAAR,CAAZ;AACA,KAAIyF,WAAW,mBAAAzF,CAAQ,qBAAR,CAAf;;AAEA,KAAIiM,IAAI,mBAAAjM,CAAQ,kBAAR,CAAR;AACA,oBAAAA,CAAQ,4BAAR;;AAEA,KAAIuM,sBAAsBtM,MAAM0C,WAAN,CAAkB;AAAA;;;AAExCE,gBAAW;AACPwjB,mBAAUpmB,MAAM8C,SAAN,CAAgBE,MAAhB,CAAuBC,UAD1B;AAEPojB,mBAAUrmB,MAAM8C,SAAN,CAAgBE,MAAhB,CAAuBC,UAF1B;AAGPqjB,0BAAiBtmB,MAAM8C,SAAN,CAAgBK,IAAhB,CAAqBF,UAH/B;AAIP6L,wBAAe9O,MAAM8C,SAAN,CAAgBkI,IAAhB,CAAqB/H,UAJ7B;AAKPsF,gBAAOvI,MAAM8C,SAAN,CAAgBE,MALhB;AAMPwgB,mBAAUxjB,MAAM8C,SAAN,CAAgBE;AANnB,MAF6B;;AAWxCujB,kBAAa,uBAAY;AACrB,gBAAO,KAAK/iB,KAAL,CAAWsL,aAAX,GAA2B,KAAKtL,KAAL,CAAW4iB,QAAtC,GAAiD,KAAK5iB,KAAL,CAAW6iB,QAAnE;AACH,MAbuC;;AAexCG,wBAAmB,6BAAY;AAC3Bxa,WAAExG,SAASmC,WAAT,CAAqB,IAArB,CAAF,EAA8BwR,MAA9B,CAAqC,EAAEtD,OAAO,KAAK0Q,WAAL,EAAT,EAArC;AACH,MAjBuC;;AAmBxC9iB,aAAQ,kBAAY;AAChB,aAAIkG,QAAQ,EAAZ;AAEA,aAAI,KAAKnG,KAAL,CAAW+E,KAAf,EAAsB;AAClBoB,mBAAMpB,KAAN,GAAc,KAAK/E,KAAL,CAAW+E,KAAzB;AACH;AACD,aAAI,KAAK/E,KAAL,CAAWggB,QAAf,EAAyB;AACrB7Z,mBAAM6Z,QAAN,GAAiB,KAAKhgB,KAAL,CAAWggB,QAA5B;AACH;;AAED,gBACI,gCAAQ,OAAO7Z,KAAf,EAAsB,SAAS,KAAKnG,KAAL,CAAW8iB,eAA1C,GADJ;AAGH,MAhCuC;;AAkCxC/e,wBAAmB,6BAAY;AAC3B,cAAKif,iBAAL;AACH,MApCuC;;AAsCxC/e,yBAAoB,8BAAY;AAC5B,cAAK+e,iBAAL;AACH;;AAxCuC,EAAlB,CAA1B;;AA4CA;;AAEA3mB,QAAOC,OAAP,GAAiBwM,mBAAjB,C;;;;;;;;;;ACpDA;;AAEA;;AAEAzM,QAAOC,OAAP,GAAiB,mBAAAC,CAAQ,0CAAR,CAAjB,C;;;;;;;;;;;;ACJA,KAAIC,QAAQ,mBAAAD,CAAQ,iBAAR,CAAZ;AACA,KAAI4L,iBAAiB,mBAAA5L,CAAQ,4BAAR,CAArB;;AAEA,KAAIiM,IAAI,mBAAAjM,CAAQ,kBAAR,CAAR;AACA,oBAAAA,CAAQ,4BAAR;;AAEA;;AAEA,KAAI0mB,kBAAkB,mBAAA1mB,CAAQ,iCAAR,CAAtB;;AAEA;;AAEA,oBAAAA,CAAQ,oCAAR;;AAEA;;AAEA,UAAS2mB,WAAT,CAAqBC,WAArB,EAAkC1P,SAAlC,EAA6C8M,OAA7C,EAAsDzO,mBAAtD,EAA2EoD,UAA3E,EAAuF;;AAEnF1M,OAAE+X,OAAF,EAAWpZ,IAAX,CAAgB,OAAhB,EAAyB,EAAzB,EAA6B+L,OAA7B,CAAqC;;AAEjCsC,eAAM,KAF2B;;AAIjCC,eAAM,KAJ2B;;AAMjCC,uBAAc,oBANmB;;AAQjC9B,mBAAU,EAAEwP,WAAW,MAAb,EARuB;;AAUjCC,gBAAO,iBAAW;AACd7a,eAAE,qBAAF,EAAyBlD,MAAzB;AACH,UAZgC;;AAcjCuQ,kBAAS,iBAAUwL,QAAV,EAAoB;AACzB7Y,eAAE8a,IAAF,CAAO;AACHC,sBAAIJ,cAAc,wBADf;AAEHrD,uBAAK;AACDhO,0CAAqBA,mBADpB;AAEDoD,iCAAYA,UAFX;AAGDzB,gCAAWA;AAHV,kBAFF;AAOHxS,uBAAK,KAPF;AAQHuiB,0BAAQ,iBAAU1D,IAAV,EAAgB;AACpB,yBAAI/I,OACA5O,eAAesb,cAAf,CACIjnB,MAAMknB,aAAN,CACIT,eADJ,EAEI;AACIU,gDAAuB7D,KAAK6D,qBADhC;AAEIC,8CAAqB9D,KAAK8D,mBAF9B;AAGIC,yCAAgB/D,KAAK+D,cAHzB;AAIIC,8CAAqBhE,KAAKgE,mBAJ9B;AAKItgB,qCAAYsc,KAAKtc;AALrB,sBAFJ,CADJ,CADJ;AAaA6d,8BAAStK,IAAT;AACH;AAvBE,cAAP,EAwBGgN,IAxBH,CAwBQ,UAAUjE,IAAV,EAAgB;AACpBkE,yBAAQC,GAAR,CAAY,aAAanE,IAAzB;AACAuB,0BAAS,YAAYvB,IAArB;AACH,cA3BD;AA4BH;;AA3CgC,MAArC;AA+CH;;AAED;;AAEAzjB,QAAOC,OAAP,GAAiB,UAAU6mB,WAAV,EAAuB1P,SAAvB,EAAkC8M,OAAlC,EAA2CzO,mBAA3C,EAAgEoD,UAAhE,EAA4E;AACzFgO,iBAAYC,WAAZ,EAAyB1P,SAAzB,EAAoC8M,OAApC,EAA6CzO,mBAA7C,EAAkEoD,UAAlE;AACH,EAFD,C;;;;;;;;;;;;ACrEA,KAAI1Y,QAAQ,mBAAAD,CAAQ,iBAAR,CAAZ;;AAEA,KAAI0mB,kBAAkBzmB,MAAM0C,WAAN,CAAkB;AAAA;;AACpCE,gBAAW;AACPukB,gCAAuBnnB,MAAM8C,SAAN,CAAgBE,MAAhB,CAAuBC,UADvC;AAEPmkB,8BAAqBpnB,MAAM8C,SAAN,CAAgBE,MAAhB,CAAuBC,UAFrC;AAGPokB,yBAAgBrnB,MAAM8C,SAAN,CAAgB8B,MAAhB,CAAuB3B,UAHhC;AAIPqkB,8BAAqBtnB,MAAM8C,SAAN,CAAgB8B,MAAhB,CAAuB3B,UAJrC;AAKP+D,qBAAYhH,MAAM8C,SAAN,CAAgBC,OAAhB,CACR/C,MAAM8C,SAAN,CAAgB0B,KAAhB,CAAsB;AAClBkjB,mCAAsB1nB,MAAM8C,SAAN,CAAgBE,MADpB;AAElB2kB,2BAAc3nB,MAAM8C,SAAN,CAAgBE,MAAhB,CAAuBC,UAFnB;AAGlB2kB,6BAAgB5nB,MAAM8C,SAAN,CAAgBE,MAAhB,CAAuBC,UAHrB;AAIlB4kB,wBAAW7nB,MAAM8C,SAAN,CAAgBE,MAAhB,CAAuBC;AAJhB,UAAtB,CADQ;AALL,MADyB;;AAiBpC6kB,kBAAa,qBAAUC,QAAV,EAAoB;AAC7B,aAAI,CAACA,SAASF,SAAV,IAAuB,CAACE,SAASH,cAArC,EAAqD;AACjD,oBAAO,IAAP;AACH;;AAED,kBAASI,QAAT,CAAkBD,QAAlB,EAA4B;AACxB,oBAAOA,SAASL,oBAAT,KAAkC,QAAzC;AACH;;AAED,aAAI/d,QAAQ,EAACse,YAAY,QAAb,EAAZ;;AAEA,aAAID,SAASD,QAAT,CAAJ,EAAwB;AACpBpe,mBAAMue,UAAN,GAAmB,MAAnB;AACH,UAFD,MAEO;AACHve,mBAAM6N,KAAN,GAAc,MAAd;AACH;;AAED,gBACI;AAAA;AAAA,eAAI,KAAKuQ,SAASL,oBAAT,GAAgC,GAAhC,GAAsCK,SAASJ,YAAxD;AACI;AAAA;AAAA,mBAAI,OAAOhe,KAAX;AAAmBoe,0BAASJ;AAA5B,cADJ;AAEI;AAAA;AAAA,mBAAI,OAAOhe,KAAX;AAAmBoe,0BAASF;AAA5B,cAFJ;AAGI;AAAA;AAAA,mBAAI,OAAOle,KAAX;AAAmBoe,0BAASH;AAA5B;AAHJ,UADJ;AAOH,MAzCmC;;AA2CpCnkB,aAAQ,kBAAY;AAChB,gBACI;AAAA;AAAA;AACI;AAAA;AAAA,mBAAK,IAAG,+BAAR,EAAwC,OAAO,EAACykB,YAAY,MAAb,EAAqB1Q,OAAO,MAA5B,EAAoC8D,WAAW,QAA/C,EAA/C;AAA0G,sBAAK9X,KAAL,CAAW2jB;AAArH,cADJ;AAEI;AAAA;AAAA,mBAAK,IAAG,qBAAR,EAA8B,OAAO,EAAC7L,WAAW,QAAZ,EAArC;AAA6D,sBAAK9X,KAAL,CAAW4jB;AAAxE,cAFJ;AAGI;AAAA;AAAA,mBAAO,OAAO,EAACvM,SAAS,KAAV,EAAiBmH,QAAQ,KAAzB,EAAgCzZ,OAAO,MAAvC,EAAd;AACI;AAAA;AAAA;AACI;AAAA;AAAA;AACI;AAAA;AAAA;AAAA;AAAA,0BADJ;AAEI;AAAA;AAAA;AAAA;AAAmB,kCAAK/E,KAAL,CAAW6jB,cAA9B;AAAA;AAAA,0BAFJ;AAGI;AAAA;AAAA;AAAA;AAAwB,kCAAK7jB,KAAL,CAAW8jB,mBAAnC;AAAA;AAAA;AAHJ;AADJ,kBADJ;AAQI;AAAA;AAAA;AACK,0BAAK9jB,KAAL,CAAWwD,UAAX,CAAsB7B,GAAtB,CAA0B,KAAK2iB,WAA/B;AADL;AARJ;AAHJ,UADJ;AAkBH;;AA9DmC,EAAlB,CAAtB;;AAkEA;;AAEAjoB,QAAOC,OAAP,GAAiB2mB,eAAjB,C;;;;;;;;;;ACtEA;;AAEA;AACA;AACA;AACA;AACA,4FAAsE;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;;;;;ACpBA;AACA;;;AAGA;AACA,gDAA+C,yBAAyB,gCAAgC,2BAA2B,mBAAmB,uDAAuD,uBAAuB,GAAG,+BAA+B,gBAAgB,iEAAiE,kCAAkC,gCAAgC,uBAAuB,GAAG,4BAA4B,yCAAyC,oCAAoC,GAAG,4BAA4B,kCAAkC,GAAG,oDAAoD,6BAA6B,mBAAmB,GAAG,oCAAoC,uBAAuB,GAAG;;AAErwB;;;;;;;;;;;ACPA;;AAEA;;AAEA,KAAIza,IAAI,mBAAAjM,CAAQ,kBAAR,CAAR;AACA,oBAAAA,CAAQ,4BAAR;;AAEA;;AAEA,oBAAAA,CAAQ,6CAAR;;AAEA;;AAEA;;;;;;;AAOA,UAAS2mB,WAAT,CAAqBlH,OAArB,EAA6B;;AAEzBxT,OAAEwT,QAAQuE,OAAV,EAAmBpZ,IAAnB,CAAwB,OAAxB,EAAiC,EAAjC,EAAqC+L,OAArC,CAA6C;;AAEzCsC,eAAM,KAFmC;;AAIzCC,eAAM,KAJmC;;AAMzCC,uBAAc,oBAN2B;;AAQzC2N,gBAAO,iBAAW;AACd7a,eAAE,qBAAF,EAAyBlD,MAAzB;AACH,UAVwC;;AAYzCsO,mBAAU,EAAE+Q,IAAI,aAAN,EAAqBC,IAAI,OAAzB,EAZ+B;;AAczC/O,kBAAS,iBAAUwL,QAAV,EAAoB;AACzB,iBAAIrF,QAAQ6I,UAAZ,EAAyB;AACrBrc,mBAAE8a,IAAF,CAAO;AACHC,0BAAKvH,QAAQmH,WAAR,GAAsB,wBADxB;AAEHrD,2BAAM;AACFrV,mCAAUuR,QAAQvR,QADhB;AAEFoa,qCAAY7I,QAAQ6I;AAFlB,sBAFH;AAMH5jB,2BAAK,KANF;AAOHuiB,8BAAS,iBAAU/B,QAAV,EAAoB;AACzB,6BAAI,CAACA,QAAL,EAAe;AACXJ,sCAAS,iCAAiCrF,QAAQ6I,UAAzC,GAAsD,WAA/D;AACH;;AAEDxD,kCAASI,QAAT;AACH;AAbE,kBAAP,EAcGsC,IAdH,CAcQ,UAAUjE,IAAV,EAAgB;AACpBkE,6BAAQC,GAAR,CAAY,aAAanE,IAAzB;AACAuB,8BAAS,YAAYvB,IAArB;AACH,kBAjBD;AAkBH;AACJ;;AAnCwC,MAA7C;AAuCH;;AAED;;AAEAxjB,SAAQkX,IAAR,GAAe,UAAS2P,WAAT,EAAsB5C,OAAtB,EAA+BsE,UAA/B,EAA2Cpa,QAA3C,EAAqD;AAChEyY,iBAAY,EAACC,aAAaA,WAAd,EAA2B5C,SAASA,OAApC,EAA6CsE,YAAYA,UAAzD,EAAqEpa,UAAUA,QAA/E,EAAZ;AACH,EAFD,C;;;;;;;;;;ACjEA;;AAEA;AACA;AACA;AACA;AACA,2FAAgF;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;;;;;ACpBA;AACA;;;AAGA;AACA,gDAA+C,gCAAgC,2BAA2B,mBAAmB,uDAAuD,8BAA8B,GAAG,+BAA+B,mBAAmB,wBAAwB,4BAA4B,uBAAuB,GAAG,6BAA6B,yBAAyB,2CAA2C,KAAK,yBAAyB,0BAA0B,GAAG;;AAEjf;;;;;;;;;;;ACPA;;AAEA;;AAEA,KAAIjO,QAAQ,mBAAAD,CAAQ,iBAAR,CAAZ;AACA,KAAI4L,iBAAiB,mBAAA5L,CAAQ,4BAAR,CAArB;;AAEA,KAAIiM,IAAI,mBAAAjM,CAAQ,kBAAR,CAAR;AACA,oBAAAA,CAAQ,4BAAR;;AAEA;;AAEA,KAAIuoB,gBAAgB,mBAAAvoB,CAAQ,+BAAR,CAApB;;AAEA;;AAEA,oBAAAA,CAAQ,qCAAR;;AAEA;;AAEA;;;;;;;;AAQA,UAAS2mB,WAAT,CAAqBlH,OAArB,EAA8B;;AAE1BxT,OAAEwT,QAAQuE,OAAV,EAAmBpZ,IAAnB,CAAwB,OAAxB,EAAiC,EAAjC,EAAqC+L,OAArC,CAA6C;;AAEzCsC,eAAK,KAFoC;;AAIzCC,eAAK,KAJoC;;AAMzCC,uBAAc,kBAN2B;;AAQzC2N,gBAAO,iBAAW;AACd7a,eAAE,mBAAF,EAAuBlD,MAAvB;AACH,UAVwC;;AAYzCuQ,kBAAS,iBAAUwL,QAAV,EAAoB;AACzB7Y,eAAE8a,IAAF,CAAO;AACHC,sBAAKvH,QAAQmH,WAAR,GAAsB,0BADxB;AAEHrD,uBAAK;AACDhO,0CAAqBkK,QAAQlK,mBAD5B;AAED/H,mCAAciS,QAAQjS,YAFrB;AAGD0J,gCAAWuI,QAAQvI;AAHlB,kBAFF;AAOHxS,uBAAK,KAPF;AAQHuiB,0BAAQ,iBAAU1D,IAAV,EAAgB;AACpB,yBAAI/I,OACA5O,eAAesb,cAAf,CACIjnB,MAAMknB,aAAN,CACIoB,aADJ,EAEI;AACIthB,qCAAYsc,KAAKtc,UADrB;AAEI4G,qCAAY0V,KAAK1V;AAFrB,sBAFJ,CADJ,CADJ;AAUAiX,8BAAStK,IAAT;AACH;AApBE,cAAP,EAqBGgN,IArBH,CAqBQ,UAAUjE,IAAV,EAAgB;AAChBkE,yBAAQC,GAAR,CAAY,aAAanE,IAAzB;AACAuB,0BAAS,YAAYvB,IAArB;AACP,cAxBD;AAyBH;AAtCwC,MAA7C;AAwCH;;AAED;;AAEAxjB,SAAQkX,IAAR,GAAe,UAAU2P,WAAV,EAAuB1P,SAAvB,EAAkC8M,OAAlC,EAA2CzO,mBAA3C,EAAgE/H,YAAhE,EAA8E;AACzFmZ,iBAAY,EAACC,aAAaA,WAAd,EAA2B1P,WAAWA,SAAtC,EAAiD8M,SAASA,OAA1D,EAAmEzO,qBAAqBA,mBAAxF,EAA6G/H,cAAcA,YAA3H,EAAZ;AACH,EAFD,C;;;;;;;;;;AC1EA;;AAEA;;AAEA,KAAIvN,QAAQ,mBAAAD,CAAQ,iBAAR,CAAZ;;AAEA;;AAEA,KAAIuoB,gBAAgBtoB,MAAM0C,WAAN,CAAkB;AAAA;;;AAElColB,kBAAa,qBAAUC,QAAV,EAAoB;AAC7B,aAAI,CAACA,SAASF,SAAd,EAAyB;AACrB,oBAAO,IAAP;AACH;;AAED,kBAASG,QAAT,CAAkBD,QAAlB,EAA4B;AACxB,oBAAOA,SAASL,oBAAT,KAAkC,QAAzC;AACH;;AAED,aAAI/d,QAAQ,EAAC,cAAc,QAAf,EAAZ;;AAEA,aAAIqe,SAASD,QAAT,CAAJ,EAAwB;AACpBpe,mBAAM,YAAN,IAAsB,MAAtB;AACH,UAFD,MAEO;AACHA,mBAAM,OAAN,IAAiB,MAAjB;AACH;;AAED,gBACI;AAAA;AAAA,eAAI,KAAKoe,SAASJ,YAAlB;AACI;AAAA;AAAA,mBAAI,OAAOhe,KAAX;AAAmBoe,0BAASJ;AAA5B,cADJ;AAEI;AAAA;AAAA,mBAAI,OAAOhe,KAAX;AAAmBoe,0BAASF;AAA5B;AAFJ,UADJ;AAMH,MAzBiC;;AA2BlCpkB,aAAQ,kBAAY;AAChB,gBACI;AAAA;AAAA;AACI;AAAA;AAAA;AACI;AAAA;AAAA;AACI;AAAA;AAAA;AACI;AAAA;AAAA;AAAA;AAAA,0BADJ;AAEI;AAAA;AAAA;AAAA;AAAc,kCAAKD,KAAL,CAAWoK,UAAzB;AAAA;AAAA;AAFJ;AADJ,kBADJ;AAOI;AAAA;AAAA;AACK,0BAAKpK,KAAL,CAAWwD,UAAX,CAAsB7B,GAAtB,CAA0B,KAAK2iB,WAA/B;AADL;AAPJ;AADJ,UADJ;AAeH;AA3CiC,EAAlB,CAApB;;AA8CA;;AAEAjoB,QAAOC,OAAP,GAAiBwoB,aAAjB,C;;;;;;;;;;ACxDA;;AAEA;AACA;AACA;AACA;AACA,2FAAgF;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;;;;;ACpBA;AACA;;;AAGA;AACA,8CAA6C,gCAAgC,2BAA2B,mBAAmB,uDAAuD,uBAAuB,GAAG,6BAA6B,gBAAgB,iEAAiE,kCAAkC,gCAAgC,GAAG,0BAA0B,yCAAyC,oCAAoC,GAAG,0BAA0B,kCAAkC,0BAA0B,GAAG,gDAAgD,6BAA6B,mBAAmB,GAAG;;AAErqB;;;;;;;;;;;ACPA;;AAEA;;AAEA,KAAItc,IAAI,mBAAAjM,CAAQ,kBAAR,CAAR;;AAEA;;AAEA,UAAS8M,kBAAT,CAA4BoF,KAA5B,EAAmCG,eAAnC,EAAoDC,YAApD,EAAkEC,aAAlE,EAAiFE,UAAjF,EAA6F+V,WAA7F,EAA0G;AACtG,SAAIC,KAAkBxc,EAAEiG,KAAF,CAAtB;AAAA,SACIwW,mBAAmBzc,EAAEoG,eAAF,CADvB;AAAA,SAEIsW,gBAAmB1c,EAAEqG,YAAF,CAFvB;AAAA,SAGIsW,iBAAmB3c,EAAEsG,aAAF,CAHvB;AAAA,SAIIsW,cAAmB5c,EAAEwG,UAAF,CAJvB;AAAA,SAKIqW,eAAmB7c,EAAEuc,WAAF,CALvB;;AAOA,SAAI1V,qBAAqBiW,8BAA8BN,EAA9B,EAAkCG,cAAlC,CAAzB;AACA,SAAI5V,mBAAmBgW,+BAA+BP,EAA/B,EAAmCC,gBAAnC,EAAqDC,aAArD,EAAoEC,cAApE,EAAoFC,WAApF,EAAiGC,YAAjG,EAA+GhW,kBAA/G,CAAvB;AACA,SAAII,oBAAoB+V,2BAA2BR,EAA3B,EAA+BC,gBAA/B,EAAiDC,aAAjD,EAAgEC,cAAhE,EAAgFC,WAAhF,CAAxB;AACA,SAAIlW,yBAAyBuW,gDAAgDhW,iBAAhD,EAAmEF,gBAAnE,CAA7B;;AAEA,YAAO;AACHF,6BAAoBA,kBADjB;AAEHE,2BAAkBA,gBAFf;AAGHE,4BAAmBA,iBAHhB;AAIHP,iCAAwBA;AAJrB,MAAP;;AAOA,cAASsW,0BAAT,CAAoCR,EAApC,EAAwCC,gBAAxC,EAA0DC,aAA1D,EAAyEC,cAAzE,EAAyFC,WAAzF,EAAsG;AAClG,gBAAO,YAAY;AACfJ,gBAAG/N,IAAH,CAAQ,UAAR,EAAoBC,IAApB,CACI,UAAUnY,CAAV,EAAa;AACTomB,gCAAelO,IAAf,CAAoB,IAApB,EAA0ByO,EAA1B,CAA6B3mB,CAA7B,EAAgCgG,KAAhC,CAAsCyD,EAAE,IAAF,EAAQzD,KAAR,EAAtC;AACH,cAHL,EAIE4gB,GAJF,GAIQ1O,IAJR,CAIa,IAJb,EAImBC,IAJnB,CAKI,UAAUnY,CAAV,EAAa;AACTmmB,+BAAcjO,IAAd,CAAmB,IAAnB,EAAyByO,EAAzB,CAA4B3mB,CAA5B,EAA+BoC,MAA/B,CAAsCqH,EAAE,IAAF,EAAQrH,MAAR,EAAtC;AACA8jB,kCAAiBhO,IAAjB,CAAsB,IAAtB,EAA4ByO,EAA5B,CAA+B3mB,CAA/B,EAAkCoC,MAAlC,CAAyCqH,EAAE,IAAF,EAAQrH,MAAR,EAAzC;AACH,cARL;;AAWAgkB,4BAAepgB,KAAf,CAAqBqgB,YAAYrgB,KAAZ,EAArB,EAA0CkS,IAA1C,CAA+C,OAA/C,EAAwDlS,KAAxD,CAA8DigB,GAAGjgB,KAAH,EAA9D;AACAkgB,8BAAiBhO,IAAjB,CAAsB,OAAtB,EAA+B2O,UAA/B,CAA0CZ,GAAG/N,IAAH,CAAQ,UAAR,EAAoByO,EAApB,CAAuB,CAAvB,EAA0BE,UAA1B,EAA1C;AACAV,2BAAcjO,IAAd,CAAmB,OAAnB,EAA4B2O,UAA5B,CAAuCZ,GAAG/N,IAAH,CAAQ,UAAR,EAAoByO,EAApB,CAAuB,CAAvB,EAA0BE,UAA1B,EAAvC;;AAEA;AACAX,8BAAiBhO,IAAjB,CAAsB,oBAAtB,EAA4CC,IAA5C,CAAiD,UAAUnY,CAAV,EAAa;AAC1DyJ,mBAAE,IAAF,EAAQzD,KAAR,CAAcigB,GAAG/N,IAAH,CAAQ,oBAAR,EAA8ByO,EAA9B,CAAiC3mB,CAAjC,EAAoCgG,KAApC,EAAd;AACH,cAFD;AAGH,UApBD;AAqBH;;AAED,cAASwgB,8BAAT,CAAwCP,EAAxC,EAA4CC,gBAA5C,EAA8DC,aAA9D,EAA6EC,cAA7E,EAA6FC,WAA7F,EAA0GC,YAA1G,EAAwHQ,uBAAxH,EAAiJ;AAC7I,gBAAO,YAAW;AACd,iBAAIC,KAAKtd,EAAE8E,MAAF,CAAT;;AAEA;AACA6X,4BAAeY,GAAf,CAAmBd,gBAAnB,EAAqCc,GAArC,CAAyCb,aAAzC,EAAwDvC,GAAxD,CAA4D;AACxD7O,uBAAMsR,YAAYY,MAAZ,GAAqBlS,IAD6B;AAExD8D,sBAAKwN,YAAYY,MAAZ,GAAqBpO;AAF8B,cAA5D;;AAKA,iBAAIqO,YAAYJ,yBAAhB;;AAEAV,4BAAelO,IAAf,CAAoB,OAApB,EAA6B0L,GAA7B,CAAiC;AAC7B7O,uBAAM,CAACsR,YAAYc,UAAZ;AADsB,cAAjC;AAGAhB,2BAAcvC,GAAd,CAAkB;AACd/K,sBAAKwN,YAAYY,MAAZ,GAAqBpO,GAArB,GAA2BkO,GAAGK,SAAH,EADlB;AAEdrS,uBAAMsR,YAAYY,MAAZ,GAAqBlS;AAFb,cAAlB;;AAKA;AACA,iBAAIgS,GAAGK,SAAH,KAAiBd,aAAae,WAAb,EAAjB,GAA8CpB,GAAGgB,MAAH,GAAYpO,GAA1D,IACAkO,GAAGK,SAAH,KAAiBd,aAAae,WAAb,EAAjB,GAA8CpB,GAAGgB,MAAH,GAAYpO,GAAZ,GAAkBoN,GAAGoB,WAAH,EAAlB,GAAqCH,SADvF,EACkG;AAC9F;AACAd,gCAAeY,GAAf,CAAmBd,gBAAnB,EAAqCtC,GAArC,CAAyC;AACrC3H,iCAAY,SADyB;AAErCpD,0BAAKyN,aAAae,WAAb;AAFgC,kBAAzC;AAIH,cAPD,MAOO,IAAIN,GAAGK,SAAH,KAAiBd,aAAae,WAAb,EAAjB,GAA8CpB,GAAGgB,MAAH,GAAYpO,GAAZ,GAAkBoN,GAAGoB,WAAH,EAAlB,GAAqCH,SAAvF,EAAkG;AACrGd,gCAAeY,GAAf,CAAmBd,gBAAnB,EAAqCtC,GAArC,CAAyC;AACrC3H,iCAAY,SADyB;AAErCpD,0BAAKoN,GAAGgB,MAAH,GAAYpO,GAAZ,GAAkBoN,GAAGoB,WAAH,EAAlB,GAAqCH,SAArC,GAAiDH,GAAGK,SAAH;AAFjB,kBAAzC;AAIH,cALM,MAKA;AACH;AACAhB,gCAAeY,GAAf,CAAmBd,gBAAnB,EAAqCtC,GAArC,CAAyC;AACrC3H,iCAAY,QADyB;AAErCpD,0BAAKwN,YAAYY,MAAZ,GAAqBpO,GAArB,GAA2BkO,GAAGK,SAAH;AAFK,kBAAzC;AAIH;;AAED;AACA,iBAAGf,YAAYc,UAAZ,KAA2B,CAA9B,EAAiC;AAC7B;AACAhB,+BAAcvC,GAAd,CAAkB;AACd3H,iCAAY,SADE;AAEd,gCAAW;AAFG,kBAAlB;AAIH,cAND,MAMO;AACHkK,+BAAcvC,GAAd,CAAkB;AACd3H,iCAAY,QADE;AAEd,gCAAW,CAAC;AAFE,kBAAlB;AAIH;AACJ,UArDD;AAsDH;;AAED,cAASyK,+CAAT,CAAyDY,yBAAzD,EAAoFC,wBAApF,EAA8G;AAC1G,gBAAO,YAAY;AACfD;AACAC;AACH,UAHD;AAIH;;AAED,cAAShB,6BAAT,CAAuCN,EAAvC,EAA2CG,cAA3C,EAA2D;AACvD,gBAAO,YAAW;AACd,iBAAIoB,YAAY,CAAhB;AACA;AACAvB,gBAAG/N,IAAH,CAAQ,gBAAR,EAA0BC,IAA1B,CAA+B,YAAY;AACvCqP,8BAAa/d,EAAE,IAAF,EAAQrH,MAAR,EAAb;AACH,cAFD;AAGA,oBAAOolB,YAAYpB,eAAehkB,MAAf,EAAnB;AACH,UAPD;AAQH;AACJ;;AAED;;AAEA9E,QAAOC,OAAP,GAAiB+M,kBAAjB,C;;;;;;;;;;AClIA;;AAEA;AACA;AACA;AACA;AACA,2FAAgF;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;;;;;ACpBA;AACA;;;AAGA;AACA,gDAA+C,uBAAuB,yBAAyB,yBAAyB,kBAAkB,GAAG,iDAAiD,uBAAuB,GAAG,6BAA6B,oBAAoB,GAAG,iCAAiC,gBAAgB,yBAAyB,kBAAkB,iFAAiF,GAAG,wIAAwI,yBAAyB,sBAAsB,kBAAkB,GAAG,6CAA6C,kBAAkB,kBAAkB,uBAAuB,gDAAgD,kBAAkB,GAAG,mDAAmD,6BAA6B,GAAG,gCAAgC,gCAAgC,6BAA6B,4BAA4B,GAAG,qBAAqB,gBAAgB,kBAAkB,GAAG,qBAAqB,kBAAkB,GAAG,sHAAsH,uDAAuD,wBAAwB,OAAO,GAAG;;AAEvzC;;;;;;;;;;;ACPA;;AAEA;AACA;AACA;AACA;AACA,2FAAgF;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;;;;;ACpBA;AACA;;;AAGA;AACA,2DAA0D,yBAAyB,qBAAqB,oBAAoB,kBAAkB,uBAAuB,GAAG,mBAAmB,qBAAqB,8BAA8B,2CAA2C,wBAAwB,wBAAwB,mBAAmB,uBAAuB,kBAAkB,gCAAgC,GAAG,0DAA0D,qBAAqB,6BAA6B,2CAA2C,mBAAmB,kBAAkB,0BAA0B,GAAG,wDAAwD,0BAA0B,sDAAsD,GAAG,oDAAoD,2CAA2C,GAAG,kCAAkC,sBAAsB,GAAG,gKAAgK,sDAAsD,gCAAgC,kBAAkB,GAAG,gCAAgC,gCAAgC,0BAA0B,kBAAkB,kCAAkC,GAAG,2DAA2D,sDAAsD,GAAG,iIAAiI,sDAAsD,GAAG,qBAAqB,qBAAqB,8BAA8B,kBAAkB,mBAAmB,0BAA0B,yBAAyB,GAAG,qCAAqC,0BAA0B,uBAAuB,gCAAgC,GAAG,+BAA+B,wBAAwB,GAAG,kCAAkC,oBAAoB,gCAAgC,6BAA6B,6BAA6B,iCAAiC,yBAAyB,gBAAgB,kBAAkB,uBAAuB,0BAA0B,qCAAqC,sCAAsC,oCAAoC,qCAAqC,wCAAwC,yCAAyC,mCAAmC,oCAAoC,GAAG,iCAAiC,sCAAsC,yCAAyC,qCAAqC,oCAAoC,GAAG,sBAAsB,wCAAwC,kCAAkC,sCAAsC,mBAAmB,GAAG,4BAA4B,qBAAqB,GAAG,kCAAkC,qBAAqB,GAAG,6CAA6C,iBAAiB,iBAAiB,yBAAyB,GAAG,oCAAoC,mBAAmB,GAAG;;AAEhoG;;;;;;;;;;;ACPA;;AAEA;;AAEAhN,QAAOC,OAAP,GAAiB;AACbkqB,eAAU,EAAEjd,YAAY,IAAd,EAAoBI,gBAAgB,gCAApC,EADG;AAEb8c,0BAAqB,EAAEld,YAAY,IAAd,EAAoBC,cAAc,IAAlC,EAAwCG,gBAAgB,kCAAxD,EAFR;AAGb+c,mBAAc,EAAEjd,gBAAgB,IAAlB,EAAwBE,gBAAgB,oCAAxC,EAHD;AAIbgd,sBAAiB,EAAEjd,mBAAmB,IAArB,EAA2BC,gBAAgB,uCAA3C;AAJJ,EAAjB,C;;;;;;;;;;;;ACJAtN,QAAOC,OAAP,GAAiB,mBAAAC,CAAQ,+CAAR,CAAjB,C;;;;;;;;;;ACAA;;AAEA,KAAIC,QAAQ,mBAAAD,CAAQ,iBAAR,CAAZ;AACA,KAAIyF,WAAW,mBAAAzF,CAAQ,qBAAR,CAAf;;AAEA;;AAEA,KAAIqqB,eAAe,mBAAArqB,CAAQ,kBAAR,CAAnB;;AAEA,KAAIsqB,8BAA8B,mBAAAtqB,CAAQ,6CAAR,CAAlC;;AAEA,KAAIuqB,kBAAkB,mBAAAvqB,CAAQ,gCAAR,CAAtB;;AAEA;;AAEA;;;;;;;;;;;;;AAaAD,SAAQ2D,MAAR,GAAiB,UAAS+b,OAAT,EAAkB;;AAEjC,SAAI+K,YAAY/K,QAAQ+K,SAAR,KAAsB/Y,SAAtB,GAAkC,uBAAlC,GAA4DgO,QAAQ+K,SAApF;AAAA,SACIC,YAAY,MADhB;;AAGA,SAAIjc,eACA,CAACgc,UAAU3pB,OAAV,CAAkB,SAAlB,MAAiC,CAAjC,IAAsC2pB,UAAU3pB,OAAV,CAAkB,UAAlB,MAAkC,CAAxE,GACG,EADH,GAEG4e,QAAQiL,WAAR,IAAuB,UAF3B,IAGEF,SAHF,GAIEC,SALN;;AAOA,SAAIhc,oBAAoBgR,QAAQkL,UAAR,GAAoB,CAAClL,QAAQiL,WAAR,IAAuB,UAAxB,IAAqC,mBAAzD,GAA8Elc,YAAtG;;AAEE,SAAIoc,eAAenL,QAAQtS,iBAAR,GAA4B,oCAA5B,GAAmE,sCAAtF;;AAEA,SAAI0d,YAAYrc,eAAeoc,YAAf,GAA8B,GAA9B,GAAoCnL,QAAQqL,MAA5D;;AAEA,SAAIxc,0BAA0B,IAAI+b,YAAJ,EAA9B;AACA/b,6BAAwByc,eAAxB,CAAwC,CAAxC;;AAEAtlB,cAAS/B,MAAT,CACIzD,MAAMknB,aAAN,CACImD,2BADJ,EAEI,EAAIU,KAAK3W,KAAKE,SAAL,CAAekL,QAAQqL,MAAvB,CAAT;AACID,oBAAWA,SADf;AAEIrc,uBAAcA,YAFlB;AAGIjO,2CAAiCkO,oBAAkB,wBAHvD;AAIIA,4BAAmBA,iBAJvB;AAKI/J,eAAM+a,QAAQtS,iBAAR,GAA4Bod,gBAAgBH,eAA5C,GAA8DG,gBAAgBN,QALxF;AAMIgB,0BAAiBxL,QAAQwL,eAAR,KAA4BxZ,SAA5B,GAAwC,IAAxC,GAA+CgO,QAAQwL,eAN5E;AAOIC,mBAAUzL,QAAQyL,QAAR,KAAqBzZ,SAArB,GAAiC,IAAjC,GAAwCgO,QAAQyL,QAP9D;AAQIC,iCAAwB1L,QAAQ0L,sBAAR,KAAmC1Z,SAAnC,GAA+C,KAA/C,GAAuDgO,QAAQ0L,sBAR3F;AASI3D,eAAM/H,QAAQ+H,IATlB;AAUIlZ,kCAAyBA;AAV7B,MAFJ,CADJ,EAgBK,OAAOmR,QAAQ2L,MAAf,KAA0B,QAA3B,GAAuCC,SAASC,cAAT,CAAwB7L,QAAQ2L,MAAhC,CAAvC,GAAiF3L,QAAQ2L,MAhB7F;AAkBH,EAvCD,C;;;;;;;;;;AC5BA;;AAEA;;;;AAEA,KAAInrB,QAAQ,mBAAAD,CAAQ,iBAAR,CAAZ;AACA,KAAIyF,WAAW,mBAAAzF,CAAQ,qBAAR,CAAf;;AAEA,KAAIiM,IAAI,mBAAAjM,CAAQ,kBAAR,CAAR;AACA,oBAAAA,CAAQ,4BAAR;;AAEA,KAAIurB,MAAM,mBAAAvrB,CAAQ,iBAAR,CAAV;;AAEA;;AAEA,KAAIE,cAAc,mBAAAF,CAAQ,uBAAR,CAAlB;AACA,KAAI+M,UAAU,mBAAA/M,CAAQ,yBAAR,CAAd;AACA,KAAIwrB,kBAAkB,mBAAAxrB,CAAQ,iCAAR,CAAtB;AACA,KAAIuqB,kBAAkB,mBAAAvqB,CAAQ,gCAAR,CAAtB;;AAEA;;AAEA,oBAAAA,CAAQ,6CAAR;;AAEA;;AAEA,KAAIyrB,wBAAwBxrB,MAAM0C,WAAN,CAAkB;AAAA;;AAC1CE,gBAAW;AACP4L,4BAAmBxO,MAAM8C,SAAN,CAAgBE,MAAhB,CAAuBC,UADnC;AAEPwoB,qBAAYzrB,MAAM8C,SAAN,CAAgB0B,KAAhB,CAAsB;AAC9BknB,kBAAK1rB,MAAM8C,SAAN,CAAgBE,MAAhB,CAAuBC,UADE;AAE9B0oB,0BAAa3rB,MAAM8C,SAAN,CAAgBE,MAAhB,CAAuBC,UAFN;AAG9B5C,sBAASL,MAAM8C,SAAN,CAAgBE,MAAhB,CAAuBC;AAHF,UAAtB,EAITA;AANI,MAD+B;;AAU1CQ,aAAQ,kBAAY;;AAEhB,aAAI0Z,gBAAgB,KAAK3Z,KAAL,CAAWgL,iBAAX,GAA+B,KAAKhL,KAAL,CAAWioB,UAAX,CAAsBC,GAAzE;;AAEA,gBACI;AAAA;AAAA,eAAK,OAAO,EAACnjB,OAAO,MAAR,EAAgBqjB,eAAe,MAA/B,EAAZ;AACI;AAAA;AAAA,mBAAK,IAAG,uBAAR;AACI;AAAA;AAAA,uBAAG,IAAG,iBAAN,EAAwB,WAAU,cAAlC,EAAiD,OAAM,iBAAvD,EAAyE,MAAMzO,aAA/E;AAA+F,0BAAK3Z,KAAL,CAAWioB,UAAX,CAAsBE;AAArH;AADJ,cADJ;AAII;AAAA;AAAA,mBAAK,IAAG,qBAAR;AAAA;AAAwC;AAAA;AAAA,uBAAM,OAAO,EAAC,aAAY,QAAb,EAAb;AAAsC,0BAAKnoB,KAAL,CAAWioB,UAAX,CAAsBprB;AAA5D;AAAxC;AAJJ,UADJ;AAQH;;AAtByC,EAAlB,CAA5B;AAyBA,KAAIwrB,kDAAkD7rB,MAAM0C,WAAN,CAAkB;AAAA;;AACtEqD,sBAAiB,2BAAU;AACzB,gBAAO;AACL+lB,8CAAiC;AAD5B,UAAP;AAGD,MALqE;;AAQtEC,+CAA0C,oDAAU;AAClD;AACA,aAAIC,oBAAmB,SAAnBA,iBAAmB,CAASC,sBAAT,EAAgC;AACrD,iBAAInc,IAAImc,sBAAR;AACA,iBAAIC,KAAKjoB,OAAOyH,IAAP,CAAYoE,CAAZ,EAAe3K,GAAf,CAAmB,UAASzE,CAAT,EAAW;AAAC,wBAAOoP,EAAEpP,CAAF,CAAP;AAAa,cAA5C,CAAT;AACA,oBACE,GAAG6E,MAAH,CAAU0K,KAAV,CAAgB,EAAhB,EAAmBic,EAAnB,EACC1rB,MADD,CACQ,SAAS2rB,IAAT,CAAczrB,CAAd,EAAiByb,EAAjB,EAAqBiQ,IAArB,EAA2B;AAC/B,wBAAOA,KAAKxrB,OAAL,CAAaF,CAAb,MAAoByb,EAA3B;AACH,cAHD,CADF;AAMD,UATD;AAUA,aAAIkQ,0BAA0B,SAA1BA,uBAA0B,CAAShZ,WAAT,EAAqB;AACjD,oBACEA,YACCiZ,MADD,CACQ,UAASvW,MAAT,EAAgBwW,GAAhB,EAAoB;AAC1BxW,wBAAOwW,IAAItY,IAAX,IACEsY,IAAIjb,WAAJ,CAAgB9Q,MAAhB,CAAuB,UAASod,UAAT,EAAoB;AACzC,4BAAOA,WAAWzN,KAAlB;AACD,kBAFD,EAGChL,GAHD,CAGK,UAASyY,UAAT,EAAoB;AACvB,4BAAOA,WAAWtX,SAAlB;AACD,kBALD,CADF;AAOA,wBAAOyP,MAAP;AACD,cAVD,EAUE,EAVF,CADF;AAaD,UAdD;AAeA,gBAAOiW,kBAAkBK,wBAAwB,KAAK7oB,KAAL,CAAWsK,QAAX,CAAoB6B,IAA5C,CAAlB,CAAP;AACD,MApCqE;AAqCtE6c,2CAAsC,8CAASC,QAAT,EAAkB;AACtD;AACA,aAAIJ,0BAA0B,SAA1BA,uBAA0B,CAAShZ,WAAT,EAAqB;AACjD,oBACEA,YACCiZ,MADD,CACQ,UAASvW,MAAT,EAAgBwW,GAAhB,EAAoB;AAC1BxW,wBAAOwW,IAAItY,IAAX,IACEsY,IAAIjb,WAAJ,CAAgB9Q,MAAhB,CAAuB,UAASod,UAAT,EAAoB;AACzC,4BAAOA,WAAWzN,KAAlB;AACD,kBAFD,EAGChL,GAHD,CAGK,UAASyY,UAAT,EAAoB;AACvB,4BAAOA,WAAWtX,SAAlB;AACD,kBALD,CADF;AAOA,wBAAOyP,MAAP;AACD,cAVD,EAUE,EAVF,CADF;AAaD,UAdD;AAeA,gBACEsW,wBAAwB,KAAK7oB,KAAL,CAAWsK,QAAX,CAAoB6B,IAA5C,EAAkD8c,QAAlD,CADF;AAGD,MAzDqE;AA0DtEhpB,aAAQ,kBAAW;;AAEjB,aAAIipB,mCAAmC,KAAKlpB,KAAL,CAAWiB,IAAX,CAAgByI,iBAAhB,GAAoC,KAApC,GAA4C,MAAnF;AACA,aAAIyf,iCAAiC,KAAKnpB,KAAL,CAAWiB,IAAX,CAAgByI,iBAAhB,GAAoC,QAApC,GAA+C,KAApF;AACA,aAAIvJ,oBAAoB;AACtBrD,+CAAiC,KAAKkD,KAAL,CAAWlD,gCADtB;AAEtBsB,8BAAiB,KAAK4B,KAAL,CAAW5B,eAFN;AAGtBE,oCAAuB4qB,gCAHD;AAItB3qB,kCAAqB4qB,8BAJC;AAKtB1qB,uCAAyB,KAAK8pB,wCAAL,EALH;AAMtBhrB,2BAAc,KAAKyC,KAAL,CAAW6K,uBANH;AAOtBE,2BAAc,KAAK/K,KAAL,CAAW+K;AAPH,UAAxB;;AAUA,aAAIqe,sBAAsB,KAAKppB,KAAL,CAAW4J,aAAX,CAAyB/M,OAAzB,KAAqC,cAArC,IAAuD,IAAIirB,GAAJ,CAAQ,KAAK9nB,KAAL,CAAWonB,SAAnB,EAA8BiC,MAA9B,CAAqC,IAArC,EAA2CC,MAA3C,KAAsD,WAAvI;AACA,aAAIC,SAAJ,EAAe3pB,cAAf;AACA,aAAGwpB,mBAAH,EAAuB;AACrBG,yBAAYxB,eAAZ;AACAnoB,8BAAiB;AACd0K,2BAAS,KAAKtK,KAAL,CAAWsK,QADN;AAEdS,+BAAa,KAAK/K,KAAL,CAAW+K,YAFV;AAGdC,oCAAkB,KAAKhL,KAAL,CAAWgL,iBAHf;AAId4O,4BAAU,KAAK5Z,KAAL,CAAW4J,aAAX,CAAyBgQ;AAJrB,cAAjB;AAMD,UARD,MAQO;AACL2P,yBAAYjgB,OAAZ;AACA1J,8BAAiB;AACfqB,uBAAK,KAAKjB,KAAL,CAAWiB,IADD;AAEN2I,gCAAc,KAAK5J,KAAL,CAAW4J,aAFnB;AAGNC,gCAAc,KAAK7J,KAAL,CAAW6J,aAHnB;AAINS,2BAAS,KAAKtK,KAAL,CAAWsK,QAJd;AAKNK,kCAAgB,KAAK3K,KAAL,CAAW2K,eALrB;AAMNE,0CAAwB,KAAK7K,KAAL,CAAW6K,uBAN7B;AAONE,+BAAa,KAAK/K,KAAL,CAAW+K,YAPlB;AAQNC,oCAAkB,KAAKhL,KAAL,CAAWgL,iBARvB;AASNK,0CAAwB,KAAKrL,KAAL,CAAWqL;AAT7B,cAAjB;AAWD;AACD,aAAIhL,UAAU5D,YAAY+sB,aAAZ,CAA0BrpB,iBAA1B,EAA6CopB,SAA7C,EAAwD3pB,cAAxD,CAAd;AACA,gBACE,KAAKI,KAAL,CAAW5B,eAAX,GACM,oBAAC,OAAD,IAAS,KAAK,KAAK4B,KAAL,CAAWsoB,+BAAzB,GADN,GAEK,oBAAC,SAAD,EAAe1oB,cAAf,CAHP;AAKD,MAtGqE;AAuGtEmE,wBAAmB,6BAAU;AAC3B,cAAK/D,KAAL,CAAW6K,uBAAX,CACC6I,WADD,CACa,6BADb,EAEE,UAAS7G,QAAT,EAAkB;AAChB,kBAAK6B,IAAL,CAAU,KAAK1O,KAAL,CAAWsoB,+BAArB,EAAsD1nB,QAAtD,CAA+D,EAACL,0CAAyCsM,WAAS,CAACA,QAAD,CAAT,GAAoB,EAA9D,EAA/D;AACD,UAFD,CAEEN,IAFF,CAEO,IAFP,CAFF;AAKA,cAAKvM,KAAL,CAAW6K,uBAAX,CACC6I,WADD,CACa,0BADb,EAEE,UAAS3G,KAAT,EAAe;AACb,kBAAK2B,IAAL,CAAU,KAAK1O,KAAL,CAAWsoB,+BAArB,EAAsD1nB,QAAtD,CAA+D,EAACL,0CAA0CwM,QAAO,KAAKic,oCAAL,CAA0Cjc,KAA1C,CAAP,GAAyD,EAApG,EAA/D;AACH,UAFC,CAEAR,IAFA,CAEK,IAFL,CAFF;AAKD;AAlHqE,EAAlB,CAAtD;AAoHA,KAAIsa,8BAA8BrqB,MAAM0C,WAAN,CAAkB;AAAA;;AAChDE,gBAAW;AACPtC,2CAAkCN,MAAM8C,SAAN,CAAgBE,MAAhB,CAAuBC,UADlD;AAEP2nB,oBAAW5qB,MAAM8C,SAAN,CAAgBE,MAAhB,CAAuBC,UAF3B;AAGPsL,uBAAcvO,MAAM8C,SAAN,CAAgBE,MAAhB,CAAuBC,UAH9B;AAIPuL,4BAAmBxO,MAAM8C,SAAN,CAAgBE,MAAhB,CAAuBC,UAJnC;AAKPwB,eAAMzE,MAAM8C,SAAN,CAAgBgI,KAAhB,CAAsB,CACxBwf,gBAAgBN,QADQ,EACEM,gBAAgBH,eADlB,EACmCG,gBAAgBJ,YADnD,EACiEI,gBAAgBL,mBADjF,CAAtB,EAEHhnB,UAPI;AAQP+nB,0BAAiBhrB,MAAM8C,SAAN,CAAgBkI,IAAhB,CAAqB/H,UAR/B;AASPgoB,mBAAUjrB,MAAM8C,SAAN,CAAgBkI,IAAhB,CAAqB/H,UATxB;AAUPioB,iCAAwBlrB,MAAM8C,SAAN,CAAgBkI,IAAhB,CAAqB/H,UAVtC;AAWPskB,eAAMvnB,MAAM8C,SAAN,CAAgBK,IAXf;AAYP0L,kCAAyB7O,MAAM8C,SAAN,CAAgBK,IAZlC;AAaPkL,kCAAyBrO,MAAM8C,SAAN,CAAgBO,MAAhB,CAAuBJ,UAbzC;AAcPgqB,6BAAoBjtB,MAAM8C,SAAN,CAAgBO;AAd7B,MADqC;;AAkBhDI,aAAQ,kBAAY;;AAEhB,aAAI6Z,UACA,KAAK9Z,KAAL,CAAWgL,iBAAX,GAA+B,QAA/B,GACA,aADA,GACgB,KAAKrK,KAAL,CAAWiJ,aAAX,CAAyBgQ,SADzC,GAEA,YAFA,GAEe,KAAKjZ,KAAL,CAAWiJ,aAAX,CAAyB/M,OAH5C;;AAMA,gBACI;AAAA;AAAA,eAAK,KAAI,MAAT;AAEM,kBAAK8D,KAAL,CAAW+oB,cAAX,GACE,oBAAC,qBAAD,IAAuB,YAAY,KAAK/oB,KAAL,CAAW+oB,cAA9C,EAA8D,mBAAmB,KAAK1pB,KAAL,CAAWgL,iBAA5F,GADF,GAEI,IAJV;AAOM,kBAAKrK,KAAL,CAAWiJ,aAAX,GACI,oBAAC,+CAAD,eAAqD,KAAK5J,KAA1D,EAAqE,KAAKW,KAA1E,EADJ,GAGE;AAAA;AAAA,mBAAK,KAAI,yBAAT;AACI,8CAAK,KAAK,KAAKX,KAAL,CAAW+K,YAAX,GAA0B,+BAApC;AADJ,cAVR;AAeM,kBAAK/K,KAAL,CAAWynB,QAAX,GACE;AAAA;AAAA;AAAK;AAAA;AAAA;AAAG;AAAA;AAAA,2BAAG,MAAM3N,OAAT;AAAA;AAAA,sBAAH;AACD,oDADC;AAAA;AACwC;AAAA;AAAA,2BAAG,MAAM,KAAK9Z,KAAL,CAAWgL,iBAApB;AAAA;AAAA,sBADxC;AAAA;AAED,oDAFC;AAAA;AAE6C;AAAA;AAAA,2BAAG,MAAK,qCAAR;AAAA;AAAA;AAF7C;AAAL,cADF,GAME;AArBR,UADJ;AA2BH,MArD+C;;AAuDhD1K,sBAAiB,2BAAW;AACxB,gBAAO;AACHsJ,4BAAe,EADZ;AAEHC,4BAAe,EAFZ;AAGHS,uBAAU;AACN6B,uBAAM,EADA;AAEN6D,qCAAoB,CAFd;AAGNL,qCAAoB;AAHd,cAHP;AAQHpF,gCAAkB,EARf;AASHI,8BAAiB,EATd;AAUHvM,8BAAiB,EAVd;AAWHsrB,6BAAgB,EAXb;AAYHre,sCAAyB,mCAAW,CAAE;AAZnC,UAAP;AAcH,MAtE+C;;AAwEhDse,iCAA4B,oCAAU7J,IAAV,EAAgB;AACxC,cAAKlf,QAAL,CAAc;AACVgJ,4BAAekW,KAAK8J,MADV;AAEV/f,4BAAeiW,KAAKjW,aAFV;AAGVS,uBAAUwV,KAAKxV,QAHL;AAIVC,gCAAoBuV,KAAKvV,iBAJf;AAKVI,8BAAiBmV,KAAKnV,eALZ;AAMVvM,8BAAiB0hB,KAAK+J,WANZ;AAOVH,6BAAgB5J,KAAKmI;AAPX,UAAd;AASH,MAlF+C;;AAoFhDlkB,wBAAmB,6BAAW;AAC1B,aAAI+lB,cAAc,UAASC,KAAT,EAAgBC,UAAhB,EAA4BC,WAA5B,EAAyC;AACvD,iBAAI,KAAKjqB,KAAL,CAAW+jB,IAAf,EAAqB;AACjB,sBAAK/jB,KAAL,CAAW+jB,IAAX,CAAgBgG,KAAhB,EAAuBC,UAAvB,EAAmCC,WAAnC;AACH,cAFD,MAEO,IAAID,eAAe,aAAnB,EAAkC;AACrCxhB,mBAAExG,SAASmC,WAAT,CAAqB,KAAKuK,IAAL,CAAUwb,IAA/B,CAAF,EAAwCnT,IAAxC,CAA6C,2DAA7C;AACH,cAFM,MAEA;AACHvO,mBAAExG,SAASmC,WAAT,CAAqB,KAAKuK,IAAL,CAAUwb,IAA/B,CAAF,EAAwCnT,IAAxC,CAA6C,2BAA2BgT,MAAMI,YAAjC,GAAgD,QAA7F;AACH;AACJ,UARiB,CAQhB5d,IARgB,CAQX,IARW,CAAlB;;AAUA,aAAI6d,gBAAgB,UAAStK,IAAT,EAAe;AAC/B,iBAAI,WAAWA,IAAf,EAAqB;AACjBgK,6BAAY,EAACK,cAAcrK,KAAKuK,KAApB,EAAZ;AACH,cAFD,MAEO;AACH,sBAAKV,0BAAL,CAAgC7J,IAAhC;AACH;AACJ,UANmB,CAMlBvT,IANkB,CAMb,IANa,CAApB;;AAQA,aAAI+d,cAAc;AACd/G,kBAAK,KAAKvjB,KAAL,CAAWonB,SADF;AAEdmD,uBAAU,MAFI;AAGdC,qBAAQ,KAHM;AAIdhH,sBAAS4G,aAJK;AAKdC,oBAAOP;AALO,UAAlB;;AAQA,cAAKW,aAAL,GAAqBjiB,EAAE8a,IAAF,CAAOgH,WAAP,CAArB;;AAEA,aAAI,CAAC,KAAKtqB,KAAL,CAAW0nB,sBAAhB,EAAwC;AACpC,cAAC,UAAS3oB,CAAT,EAAW2rB,CAAX,EAAape,CAAb,EAAe1G,CAAf,EAAiB+kB,CAAjB,EAAmB9rB,CAAnB,EAAqB+rB,CAArB,EAAuB;AAAC7rB,mBAAE,uBAAF,IAA2B4rB,CAA3B,CAA6B5rB,EAAE4rB,CAAF,IAAK5rB,EAAE4rB,CAAF,KAAM,YAAU;AAC3E,sBAAC5rB,EAAE4rB,CAAF,EAAKE,CAAL,GAAO9rB,EAAE4rB,CAAF,EAAKE,CAAL,IAAQ,EAAhB,EAAoBhmB,IAApB,CAAyB4T,SAAzB;AAAoC,kBADkB,EACjB1Z,EAAE4rB,CAAF,EAAKG,CAAL,GAAO,IAAE,IAAIC,IAAJ,EADQ,CACGlsB,IAAE6rB,EAAEhH,aAAF,CAAgBpX,CAAhB,CAAF,EACzDse,IAAEF,EAAEM,oBAAF,CAAuB1e,CAAvB,EAA0B,CAA1B,CADuD,CAC1BzN,EAAEosB,KAAF,GAAQ,CAAR,CAAUpsB,EAAEqsB,GAAF,GAAMtlB,CAAN,CAAQglB,EAAEO,UAAF,CAAaC,YAAb,CAA0BvsB,CAA1B,EAA4B+rB,CAA5B;AAChD,cAHD,EAGGtd,MAHH,EAGUsa,QAHV,EAGmB,QAHnB,EAG4B,+CAH5B,EAG4E,IAH5E;;AAKAyD,gBAAG,QAAH,EAAa,eAAb,EAA8B,MAA9B;AACAA,gBAAG,MAAH,EAAW,UAAX;AACA,kBAAKzqB,QAAL,CAAc,EAACyK,yBAAyBggB,EAA1B,EAAd;AACH;AACJ,MA3H+C;;AA6HhDpnB,yBAAoB,8BAAW;AAC3B;AACA;AACA,aAAIqnB,eAAe9iB,EAAExG,SAASmC,WAAT,CAAqB,KAAKuK,IAAL,CAAU6c,kBAA/B,CAAF,CAAnB;;AAEA,aAAI,KAAKvrB,KAAL,CAAWwnB,eAAf,EAAgC;AAC5B8D,0BAAanc,QAAb,CAAsB,EAACqc,YAAY,IAAb,EAAtB;AACH;;AAEDhjB,WAAE8E,MAAF,EAAUoP,OAAV,CAAkB,mCAAlB;AACH,MAvI+C;AAwIhDzZ,2BAAsB,gCAAW;AAC7B,cAAKwnB,aAAL,CAAmBgB,KAAnB;AACH;AA1I+C,EAAlB,CAAlC;;AA6IA;;AAEApvB,QAAOC,OAAP,GAAiBuqB,2BAAjB,C;;;;;;;;;;ACrTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,yCAAwC;AACxC;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL,yCAAwC,YAAY;AACpD;AACA;AACA,MAAK;AACL;AACA;;AAEA,sCAAqC,YAAY;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,yCAAwC,YAAY;AACpD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,sCAAqC,YAAY;AACjD;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,oCAAmC,OAAO;AAC1C;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA4B,IAAI,KAAK,IAAI,KAAK,IAAI,KAAK,IAAI;AAC3D;AACA;AACA;AACA,4CAA2C,IAAI,GAAG,EAAE,aAAa,IAAI,mBAAmB,IAAI,GAAG,EAAE,cAAc,IAAI,yEAAyE,EAAE,oBAAoB,IAAI,GAAG,EAAE,gBAAgB,IAAI,EAAE,IAAI,2EAA2E,EAAE,oBAAoB,IAAI,GAAG,EAAE,gBAAgB,IAAI,EAAE,IAAI,iBAAiB,IAAI,2EAA2E,EAAE,qBAAqB,IAAI,GAAG,EAAE,gBAAgB,IAAI,EAAE,IAAI,iBAAiB,IAAI,EAAE,IAAI,yEAAyE,EAAE,qBAAqB,IAAI,GAAG,EAAE,gBAAgB,IAAI,EAAE,IAAI,iBAAiB,IAAI,EAAE,IAAI,yEAAyE,EAAE,qBAAqB,IAAI,GAAG,EAAE,gBAAgB,IAAI,EAAE,IAAI,iBAAiB,IAAI,EAAE,IAAI,yEAAyE,EAAE,yBAAyB,IAAI,EAAE,IAAI,iBAAiB,IAAI,EAAE,IAAI,yEAAyE,EAAE;AAC9jC;AACA;AACA;AACA;AACA,sDAAqD,IAAI,kBAAkB,IAAI,yBAAyB,IAAI,0GAA0G;AACtN;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wEAAuE;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB;AACnB;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB;AACnB;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,4EAA2E;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB;AACnB;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;;AAEA,gDAA+C,YAAY;AAC3D;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,oBAAmB,YAAY;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,6BAA4B;AAC5B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAgD,YAAY;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA,wCAAuC,YAAY;AACnD;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,6BAA4B;;AAE5B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA,kBAAiB,cAAc;AAC/B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,6BAA4B;AAC5B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,MAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,MAAK;AACL;;AAEA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,MAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,kCAAiC,OAAO;AACxC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP,yCAAwC,OAAO;AAC/C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,MAAK;AACL,gCAA+B,OAAO;AACtC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,GAAG;;AAEtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,uEAAsE,OAAO;AAC7E;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,gBAAe,qBAAqB;AACpC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;;;;;;;;;;;ACloED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,EAAC;AACD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAiB,cAAc;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,oBAAmB,WAAW;AAC9B;AACA,sBAAqB,QAAQ;AAC7B;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET,gBAAe,WAAW;AAC1B;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,gBAAe,YAAY;AAC3B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;;;;;;;;;;AC1LD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,EAAC;AACD;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA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","file":"expressionAtlasHeatmap.bundle.js","sourcesContent":["/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @typechecks\n */\n\n'use strict';\n\n/**\n * Gets the scroll position of the supplied element or window.\n *\n * The return values are unbounded, unlike `getScrollPosition`. This means they\n * may be negative or exceed the element boundaries (which is possible using\n * inertial scrolling).\n *\n * @param {DOMWindow|DOMElement} scrollable\n * @return {object} Map with `x` and `y` keys.\n */\n\nfunction getUnboundedScrollPosition(scrollable) {\n  if (scrollable === window) {\n    return {\n      x: window.pageXOffset || document.documentElement.scrollLeft,\n      y: window.pageYOffset || document.documentElement.scrollTop\n    };\n  }\n  return {\n    x: scrollable.scrollLeft,\n    y: scrollable.scrollTop\n  };\n}\n\nmodule.exports = getUnboundedScrollPosition;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/fbjs/lib/getUnboundedScrollPosition.js\n// module id = 3059\n// module chunks = 2 7","'use strict';\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @typechecks\n */\n\n/**\n * @param {*} object The object to check.\n * @return {boolean} Whether or not the object is a DOM node.\n */\nfunction isNode(object) {\n  return !!(object && (typeof Node === 'function' ? object instanceof Node : typeof object === 'object' && typeof object.nodeType === 'number' && typeof object.nodeName === 'string'));\n}\n\nmodule.exports = isNode;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/fbjs/lib/isNode.js\n// module id = 3067\n// module chunks = 2 7","'use strict';\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @typechecks\n */\n\n/* eslint-disable fb-www/typeof-undefined */\n\n/**\n * Same as document.activeElement but wraps in a try-catch block. In IE it is\n * not safe to call document.activeElement if there is nothing focused.\n *\n * The activeElement will be null only if the document or document body is not\n * yet defined.\n */\nfunction getActiveElement() /*?DOMElement*/{\n  if (typeof document === 'undefined') {\n    return null;\n  }\n  try {\n    return document.activeElement || document.body;\n  } catch (e) {\n    return document.body;\n  }\n}\n\nmodule.exports = getActiveElement;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/fbjs/lib/getActiveElement.js\n// module id = 3068\n// module chunks = 2 7","module.exports = require(`./src/AnatomogramFactory.jsx`);\n\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/heatmap/~/anatomogram/index.js","const React = require(`react`);\nconst Anatomogram = require(`./Anatomogram.jsx`);\nconst getSvgsForSpecies = require(`./imagesAvailable.js`).GetSvgsForSpecies;\nrequire(`./ContainerLayout.less`);\n\n// See note below, consider using something like https://flowtype.org if type checking is necessary\n// const argumentShape= {\n//     pathToFolderWithBundledResources: RequiredString,\n//     anatomogramData: React.PropTypes.shape({\n//         species: RequiredString,\n//         allSvgPathIds: React.PropTypes.arrayOf(RequiredString) //if not provided, we use properties read in from the file\n//     }).isRequired,\n//     expressedTissueColour: RequiredString,\n//     hoveredTissueColour: RequiredString,\n//     eventEmitter: React.PropTypes.instanceOf(EventEmitter)\n// };\n\nconst _availableAnatomograms = (species, pathToFolderWithBundledResources, allSvgPathIds) =>\n    getSvgsForSpecies(pathToFolderWithBundledResources, species)\n    .filter(e => !allSvgPathIds || allSvgPathIds.some(id => e.ids.indexOf(id) > -1));\n\nconst callEmitterWhenMousedOverTissuesChange = (eventEmitter) => {\n    const forEachXNotInYsEmit = (xs, ys, eventName) => {\n        xs\n        .filter(id => ys.indexOf(id) === -1)\n        .forEach(id => {eventEmitter.emit(eventName, id);});\n    };\n\n    return function emitEvents(nextIds,previousIds){\n        forEachXNotInYsEmit(nextIds, previousIds, 'gxaAnatomogramTissueMouseEnter');\n        forEachXNotInYsEmit(previousIds,nextIds, 'gxaAnatomogramTissueMouseLeave');\n    }\n};\n\nconst createAnatomogram = (args) => {\n    // PropTypes should only be used with proper React components\n    // https://facebook.github.io/react/warnings/dont-call-proptypes.html\n    // validate(argumentShape, args, \"Error!\");\n\n    const availableAnatomograms =\n        _availableAnatomograms(\n            args.anatomogramData.species,\n            args.pathToFolderWithBundledResources,\n            args.anatomogramData.allSvgPathIds || null);\n\n    return(\n        availableAnatomograms.length ?\n            <Anatomogram\n                pathToFolderWithBundledResources={args.pathToFolderWithBundledResources}\n                expressedTissueColour={args.expressedTissueColour}\n                hoveredTissueColour={args.hoveredTissueColour}\n                availableAnatomograms= {availableAnatomograms}\n                height={args.anatomogramData.species.indexOf(\"homo sapiens\")>-1 ? 375 : 265}\n                whenMousedOverIdsChange={\n                    args.whenMousedOverIdsChange ||\n                    (args.eventEmitter ? callEmitterWhenMousedOverTissuesChange(args.eventEmitter) : function(){}\n                )}\n                idsExpressedInExperiment={args.idsExpressedInExperiment || args.ontologyIdsForTissuesExpressedInAllRows || []}\n                idsToBeHighlighted={args.idsToBeHighlighted||[]}\n                {...(args.anatomogramData.allSvgPathIds? {allSvgPathIds:args.anatomogramData.allSvgPathIds} :{})}/> :\n            null\n    );\n};\n\n//http://stackoverflow.com/questions/3115982/how-to-check-if-two-arrays-are-equal-with-javascript\nconst arraysEqual = (a, b) => {\n    if (a === b) return true;\n    if (a == null || b == null) return false;\n    if (a.length != b.length) return false;\n    for (let i = 0 ; i < a.length ; ++i) {\n        if (a[i] !== b[i]) return false;\n    }\n    return true;\n};\n\nconst makeWrapper = (ComponentClass) => {\n    return (\n        React.createClass({\n            displayName: \"WrappedComponent\",\n            propTypes: {\n                ontologyIdsToHighlight: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n                onOntologyIdIsUnderFocus: React.PropTypes.func.isRequired,\n                componentProps: React.PropTypes.object.isRequired\n            },\n\n        shouldComponentUpdate(nextProps) {\n            return !arraysEqual(nextProps.ontologyIdsToHighlight, this.props.ontologyIdsToHighlight) ;\n        },\n\n        render() {\n            return (\n                <div id=\"gxaAnatomogramWrapper\">\n                    <ComponentClass ontologyIdsToHighlight={this.props.ontologyIdsToHighlight}\n                                    onOntologyIdIsUnderFocus={this.props.onOntologyIdIsUnderFocus}\n                                    {...this.props.componentProps} />\n                </div>\n            );\n        }\n    })\n  );\n};\n\n/**\nanatomogramConfig: see argumentShape\ncomponentClass : a React class to be wrapped. Should accept props onOntologyIdIsUnderFocus and ontologyIdsToHighlight\ncomponentProps : other props to be passed over.\n*/\nconst wrapComponentWithAnatomogram = (anatomogramConfig, componentClass, componentProps) => {\n    const Wrapped = makeWrapper(componentClass);\n\n    return React.createClass({\n        displayName: \"AnatomogramComponentWrapper\",\n\n        getInitialState() {\n            return {\n                ontologyIdsForComponentContentUnderFocus: [],\n                ontologyIdsForAnatomogramContentUnderFocus: []\n            }\n        },\n\n        render() {\n            return (\n                <div>\n                    <div id=\"gxaAnatomogramAside\">\n                        {createAnatomogram(\n                            Object.assign({},\n                                anatomogramConfig,\n                                {\n                                    idsToBeHighlighted: this.state.ontologyIdsForComponentContentUnderFocus,\n                                    whenMousedOverIdsChange: nextIds => {\n                                        this.setState({ontologyIdsForAnatomogramContentUnderFocus: nextIds});\n                                    }\n                                })\n                        )}\n                    </div>\n\n                    <Wrapped componentProps={componentProps}\n                             onOntologyIdIsUnderFocus={selectedIdOrIds => {\n                                 this.setState({\n                                     ontologyIdsForComponentContentUnderFocus:\n                                        selectedIdOrIds ?\n                                            (typeof selectedIdOrIds === 'string' ? [selectedIdOrIds] : selectedIdOrIds) :\n                                            []})\n                             }}\n                             ontologyIdsToHighlight={this.state.ontologyIdsForAnatomogramContentUnderFocus}/>\n                </div>\n            )\n        }\n    })\n};\n\nmodule.exports={\"create\": createAnatomogram, \"wrapComponent\": wrapComponentWithAnatomogram};\n\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/heatmap/~/anatomogram/src/AnatomogramFactory.jsx","const React = require(`react`);\nconst AnatomogramImage = require(`./AnatomogramImage.jsx`);\nconst SelectionIcon = require(`./SelectionIcon.jsx`);\n\nconst Anatomogram = React.createClass({\n    propTypes: {\n        pathToFolderWithBundledResources: React.PropTypes.string.isRequired,\n        expressedTissueColour: React.PropTypes.string.isRequired,\n        hoveredTissueColour: React.PropTypes.string.isRequired,\n        availableAnatomograms : React.PropTypes.arrayOf(\n            React.PropTypes.shape({\n                type:React.PropTypes.string.isRequired,\n                path:React.PropTypes.string.isRequired,\n                ids: React.PropTypes.arrayOf(React.PropTypes.string).isRequired\n            })\n        ).isRequired,\n        height: React.PropTypes.number.isRequired,\n        whenMousedOverIdsChange: React.PropTypes.func,\n        allSvgPathIds: React.PropTypes.arrayOf(React.PropTypes.string),\n        idsToBeHighlighted: React.PropTypes.arrayOf(React.PropTypes.string).isRequired\n    },\n\n    getInitialState() {\n        return { selectedType: this.props.availableAnatomograms[0].type };\n    },\n\n    render() {\n        return (\n            <div className=\"gxaAnatomogram\" style={{display: `table`, paddingTop: `4px`}}>\n                <div style={{display: `table-row`}}>\n                    <div style={{display: `table-cell`, verticalAlign: `top`}}>\n                        {this._anatomogramSelectImageButtons()}\n                    </div>\n                    <AnatomogramImage\n                        key={this.state.selectedType}\n                        file={this._selectedAnatomogram().path}\n                        allSvgPathIds={this.props.allSvgPathIds || this._selectedAnatomogram().ids}\n                        {...this.props} />\n                </div>\n            </div>\n        );\n    },\n\n    _anatomogramSelectImageButtons() {\n        return (\n            this.props.availableAnatomograms.length < 2 ?\n                [] :\n                this.props.availableAnatomograms\n                .map(availableAnatomogram =>\n                    (\n                        <SelectionIcon\n                            key={`${availableAnatomogram.type}_toggle`}\n                            pathToFolderWithBundledResources={this.props.pathToFolderWithBundledResources}\n                            anatomogramType={availableAnatomogram.type}\n                            selected={this.state.selectedType === availableAnatomogram.type}\n                            onClick={() => { this._afterUserSelectedAnatomogram(availableAnatomogram.type); }}/>\n                    )\n                )\n        );\n    },\n\n    _afterUserSelectedAnatomogram(newSelectedType) {\n        if (newSelectedType !== this.state.selectedType) {\n            this.setState({ selectedType: newSelectedType });\n        }\n    },\n\n    _selectedAnatomogram() {\n        return (\n            this.props.availableAnatomograms\n            .filter(e => e.type === this.state.selectedType)\n            .concat({\n                type: `_`,\n                path: `__invalid__.svg`,\n                ids: []\n            })[0]\n        );\n    },\n});\n\nmodule.exports = Anatomogram;\n\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/heatmap/~/anatomogram/src/Anatomogram.jsx","const React = require(`react`);\nconst ReactDOM = require(`react-dom`);\nconst Snap = require(`imports-loader?this=>window,fix=>module.exports=0!snapsvg/dist/snap.svg.js`);\n\n//http://stackoverflow.com/questions/3115982/how-to-check-if-two-arrays-are-equal-with-javascript\nconst ArraysEqual = (a, b) => {\n    if (a === b) return true;\n    if (a == null || b == null) return false;\n    if (a.length != b.length) return false;\n    for (let i = 0; i < a.length; ++i) {\n        if (a[i] !== b[i]) return false;\n    }\n    return true;\n};\n\nconst AnatomogramImageParts = React.createClass({\n    propTypes: {\n        idsExpressedInExperiment: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n        idsHeatmapWantsHighlighted: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n        idsMousedOver: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n        idsNotHighlighted: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n        expressedTissueColour: React.PropTypes.string.isRequired,\n        hoveredTissueColour: React.PropTypes.string.isRequired,\n        whenMousedOverIdsChange: React.PropTypes.func\n    },\n\n    getDefaultProps() {\n        return ({ whenMousedOverIdsChange: (nextIds, oldIds) => {} });\n    },\n\n    getInitialState() {\n        return {\n            toDraw: [].concat(\n                this._idsThatShouldBeStronglyHighlighted(this.props).map(this._highlightStrongly),\n                this.props.idsExpressedInExperiment.map(this._highlightSlightly),\n                this.props.idsNotHighlighted.map(this._highlightAsBackground)\n            )};\n    },\n\n    render() {\n        return <span/>;\n    },\n\n    _highlightStrongly(svgPathId) {\n        return { id: svgPathId, colour: this.props.hoveredTissueColour, opacity: 0.7 };\n    },\n\n    _highlightSlightly(svgPathId) {\n        return { id: svgPathId, colour: this.props.expressedTissueColour, opacity: 0.5 };\n    },\n\n    _highlightAsBackground(svgPathId) {\n        return { id: svgPathId, colour: `gray`, opacity: 0.5 };\n    },\n\n    componentWillUnmount() {\n        this.props.whenMousedOverIdsChange([],this.props.idsMousedOver);\n    },\n\n    componentWillReceiveProps(nextProps) {\n        if(!ArraysEqual(nextProps.idsMousedOver, this.props.idsMousedOver)){\n            this.props.whenMousedOverIdsChange(nextProps.idsMousedOver,this.props.idsMousedOver);\n        }\n        const oldStrong = this._idsThatShouldBeStronglyHighlighted(this.props);\n        const newStrong = this._idsThatShouldBeStronglyHighlighted(nextProps);\n        const oldWeak = this.props.idsExpressedInExperiment;\n        const newWeak = nextProps.idsExpressedInExperiment;\n\n        const toDraw = [].concat(\n            //ids that heatmap wants highlighted are the most highlighted\n            newStrong\n            .filter(id => !oldStrong.includes(id))\n            .map(this._highlightStrongly),\n            //ids that are expressed in the experiment are highlighted with a weaker colour, often the same as background\n            newWeak\n            .filter(id => !newStrong.includes(id))\n            .filter(id => !oldWeak.includes(id))\n            .map(this._highlightSlightly),\n            nextProps.idsNotHighlighted\n            .filter(id => !this.props.idsNotHighlighted.includes(id))\n            .map(this._highlightAsBackground)\n        );\n\n        this.setState({ toDraw: toDraw });\n    },\n\n    _idsThatShouldBeStronglyHighlighted(properties) {\n        return properties.idsHeatmapWantsHighlighted.concat(properties.idsMousedOver);\n    }\n});\n\n\nconst AnatomogramImage = React.createClass({\n    propTypes: {\n        file: (props, propName, componentName) => {\n            if(propName === `file`){\n                if(typeof props[propName]!== `string`){\n                    return new Error(`Expected string to specify file, got: ${props[propName]}`);\n                }\n                if(!props[propName]){\n                    return new Error(`Path to file empty!`);\n                }\n            }\n            return ``;\n        },\n        height: React.PropTypes.number.isRequired,\n        allSvgPathIds: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n        idsExpressedInExperiment: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n        idsToBeHighlighted: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n        expressedTissueColour: React.PropTypes.string.isRequired,\n        hoveredTissueColour: React.PropTypes.string.isRequired,\n        whenMousedOverIdsChange: React.PropTypes.func\n    },\n\n    getInitialState() {\n        return { mousedOverSvgIds: [] };\n    },\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.file!==this.props.file) {\n            this._loadAnatomogram(nextProps.file);\n        }\n    },\n\n    componentDidMount() {\n        this._loadAnatomogram(this.props.file);\n        this._draw();\n    },\n\n    componentDidUpdate() {\n        this._draw();\n    },\n\n    _draw() {\n        const svg = Snap(ReactDOM.findDOMNode(this._anatomogram)).select(`#LAYER_EFO`);\n        if(svg !== null){\n            this._drawOnSvg(svg, this._imageParts.state.toDraw);\n            this._imageParts.setState({ toDraw: [] });\n        }\n    },\n\n    _drawInitialLayout(svg) {\n        if(this._imageParts) {\n            this._drawOnSvg(svg, this._imageParts.getInitialState().toDraw);\n            this._imageParts.setState({ toDraw: [] });\n        }\n    },\n\n    _drawOnSvg(svg, instructions) {\n        instructions.forEach(instruction => {\n            this._highlightOrganismParts(svg,instruction.id, instruction.colour, instruction.opacity);\n        });\n    },\n\n    render () {\n        let idsExpressedInExperiment = [],\n            idsHoveredOver = [],\n            idsHeatmapWantsHighlighted = [],\n            idsNotHighlighted = [];\n\n        this.props.allSvgPathIds.forEach(id => {\n            if (this.state.mousedOverSvgIds.includes(id)) {\n                idsHoveredOver.push(id);\n            } else if (this.props.idsToBeHighlighted.includes(id)) {\n                idsHeatmapWantsHighlighted.push(id);\n            } else if (this.props.idsExpressedInExperiment.includes(id)) {\n                idsExpressedInExperiment.push(id);\n            } else {\n                idsNotHighlighted.push(id);\n            }\n        });\n\n    return (\n        <span>\n            <svg ref={c => this._anatomogram = c} style={{display: \"table-cell\", width: \"230px\", height:this.props.height + \"px\"}} />\n\n            <AnatomogramImageParts\n                ref={c => this._imageParts = c} key={this.props.file}\n                idsExpressedInExperiment={idsExpressedInExperiment}\n                idsHeatmapWantsHighlighted={idsHeatmapWantsHighlighted}\n                idsMousedOver={idsHoveredOver}\n                idsNotHighlighted={idsNotHighlighted}\n                expressedTissueColour={this.props.expressedTissueColour}\n                hoveredTissueColour={this.props.hoveredTissueColour}\n                whenMousedOverIdsChange={this.props.whenMousedOverIdsChange}\n            />\n        </span>);\n    },\n\n    _highlightPath(svgPathId) {\n        this.setState({ hoveredPathId: svgPathId });\n    },\n\n    _loadAnatomogram(svgFile) {\n        let svgCanvas = Snap(ReactDOM.findDOMNode(this._anatomogram)),\n            allElements = svgCanvas.selectAll(`*`);\n\n        if (allElements) {\n            allElements.remove();\n        }\n\n        const displayAllOrganismPartsCallback = this._drawInitialLayout;\n        const registerHoverEventsCallback = this._registerHoverEvents;\n\n        Snap.load(\n            svgFile,\n            fragment => {\n                displayAllOrganismPartsCallback(fragment.select(`#LAYER_EFO`));\n                registerHoverEventsCallback(fragment.select(`#LAYER_EFO`));\n                fragment.selectAll(`svg > g`).forEach(g => {\n                    g.transform(`S1.6,0,0`);\n                    svgCanvas.append(g);\n                });\n                const img = fragment.select(`#ccLogo`);\n                if (img) {\n                    // svgCanvas.node.clientHeight and svgCanvas.node.clientWidth is more correct but are 0 in Firefox\n                    const heightTranslate = Number.parseInt(this._anatomogram.style.height) - 15;\n                    const widthTranslate = Number.parseInt(this._anatomogram.style.width) / 2 - 40;\n                    img.transform(`t${widthTranslate},${heightTranslate}`);\n                    svgCanvas.append(img);\n                }\n            }\n        );\n    },\n\n    _registerHoverEvents(svg) {\n        if (svg) {  // Sometimes svg is null... why?\n            const MaxOverlappingTissues = 5;\n            const mouseoverCallback = svgPathId => {\n                this.setState((previousState) =>\n                    ({ mousedOverSvgIds: [...previousState.mousedOverSvgIds, svgPathId].slice(-MaxOverlappingTissues) })\n                );\n            };\n\n            const mouseoutCallback = svgPathId => {\n                this.setState((previousState) =>\n                    ({ mousedOverSvgIds: previousState.mousedOverSvgIds.map(el => el === svgPathId ? `` : el) })\n                );\n            };\n\n            const attachCallbacks = (svgElement, svgPathId) => {\n                if (svgElement) {\n                    svgElement.mouseover(() => { mouseoverCallback(svgPathId) });\n                    svgElement.mouseout(() => { mouseoutCallback(svgPathId) });\n                }\n            };\n\n            this.props.allSvgPathIds.forEach(svgPathId => {\n                const svgElement = svg.select(`#${svgPathId}`);\n                attachCallbacks(svgElement, svgPathId);\n                if(svgElement && svgElement.type === `use`){\n                    attachCallbacks(svg.select(svgElement.node.getAttribute(`xlink:href`)), svgPathId);\n                }\n            });\n        }\n    },\n\n    _highlightOrganismParts(svg, svgPathId, colour, opacity) {\n        let el = svg.select(`#${svgPathId}`);\n        if (el && el.type === `use`) {\n            this._recursivelyChangeProperties(svg.select(el.node.getAttribute(`xlink:href`)), colour, opacity);\n        }\n        this._recursivelyChangeProperties(el, colour, opacity);\n    },\n\n    _recursivelyChangeProperties(svgElement, colour, opacity) {\n        if (svgElement) {\n            svgElement.selectAll(`*`).forEach(innerElement => { this._recursivelyChangeProperties(innerElement); });\n            svgElement.attr({\"fill\": colour, \"fill-opacity\": opacity});\n        }\n    }\n});\n\nmodule.exports = AnatomogramImage;\n\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/heatmap/~/anatomogram/src/AnatomogramImage.jsx","const React = require(`react`);\nconst ResolvePathToIcon = require(`./imagesAvailable.js`).ResolvePathToIcon;\nrequire(`./SelectionIcon.less`);\n\nconst SelectionIcon = React.createClass({\n    propTypes: {\n        pathToFolderWithBundledResources: React.PropTypes.string.isRequired,\n        anatomogramType: React.PropTypes.oneOf([`brain`,`female`,`male`,`whole_plant`,`flower_parts`]).isRequired,\n        selected: React.PropTypes.bool.isRequired,\n        onClick: React.PropTypes.func.isRequired\n    },\n\n    render() {\n        return (\n            <img className={\"selection-icon\"} onClick={this.props.onClick}\n                 src={\n                     ResolvePathToIcon(\n                         this.props.pathToFolderWithBundledResources,\n                         this.props.anatomogramType,\n                         this.props.selected\n                     )\n                 }/>\n        );\n    },\n\n    shouldComponentUpdate(nextProps) {\n        return this.props.selected !== nextProps.selected;\n    }\n});\n\nmodule.exports = SelectionIcon;\n\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/heatmap/~/anatomogram/src/SelectionIcon.jsx","const Url = require(`url`);\nconst Path = require(`path`);\nconst SvgsForSpecies = require(`../resources/json/svgsForSpecies.json`);\nconst IdsForSvgs = require(`../resources/json/idsForSvgs.json`);\n\nconst ResolvePathToIcon = (pathToFolderWithBundledResources, type, selected) =>\n    Url.resolve(\n        pathToFolderWithBundledResources,\n        Path.basename(require(`../resources/icons/${type}_${selected ? `` : `un`}selected.png`))\n    );\n\nconst ResolvePathToSvg = (pathToFolderWithBundledResources, svg) =>\n    Url.resolve(\n        pathToFolderWithBundledResources,\n        Path.basename(require(`../resources/svg/${svg}`))\n    );\n\nconst GetSvgsForSpecies = (pathToFolderWithBundledResources, species) => {\n    let svgEntry = SvgsForSpecies[species];\n    if (typeof svgEntry === `object`) {\n        return Object.keys(svgEntry).map(anatomogramType => (\n            {\n                type: anatomogramType,\n                path: ResolvePathToSvg(pathToFolderWithBundledResources, svgEntry[anatomogramType]),\n                ids: IdsForSvgs[svgEntry[anatomogramType]]\n            }\n        ));\n    } else if (typeof svgEntry === `string`) {\n        return [{\n            type: `svg`,\n            path: ResolvePathToSvg(pathToFolderWithBundledResources, svgEntry),\n            ids: IdsForSvgs[svgEntry]\n        }];\n    } else {\n        return [];\n    }\n};\n\nmodule.exports = {GetSvgsForSpecies, ResolvePathToIcon};\n\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/heatmap/~/anatomogram/src/imagesAvailable.js","var map = {\n\t\"./brain_selected.png\": 3113,\n\t\"./brain_unselected.png\": 3114,\n\t\"./female_selected.png\": 3115,\n\t\"./female_unselected.png\": 3116,\n\t\"./flower_parts_selected.png\": 3117,\n\t\"./flower_parts_unselected.png\": 3118,\n\t\"./male_selected.png\": 3119,\n\t\"./male_unselected.png\": 3120,\n\t\"./whole_plant_selected.png\": 3121,\n\t\"./whole_plant_unselected.png\": 3122\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 3112;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/anatomogram/resources/icons ^\\.\\/.*selected\\.png$\n// module id = 3112\n// module chunks = 2 7","var map = {\n\t\"./anolis_carolinensis.svg\": 3124,\n\t\"./arabidopsis_thaliana_whole_plant.svg\": 3125,\n\t\"./brachypodium_distachyon_flower_parts.svg\": 3126,\n\t\"./brachypodium_distachyon_whole_plant.svg\": 3127,\n\t\"./chicken.svg\": 3128,\n\t\"./cow.svg\": 3129,\n\t\"./hordeum_vulgare_flower_parts.svg\": 3130,\n\t\"./hordeum_vulgare_whole_plant.svg\": 3131,\n\t\"./human_brain.svg\": 3132,\n\t\"./human_female.svg\": 3133,\n\t\"./human_male.svg\": 3134,\n\t\"./macaca_mulatta.svg\": 3135,\n\t\"./monodelphis_domestica.svg\": 3136,\n\t\"./mouse_brain.svg\": 3137,\n\t\"./mouse_female.svg\": 3138,\n\t\"./mouse_male.svg\": 3139,\n\t\"./oryza_sativa_flower_parts.svg\": 3140,\n\t\"./oryza_sativa_whole_plant.svg\": 3141,\n\t\"./papio_anubis.svg\": 3142,\n\t\"./rat.svg\": 3143,\n\t\"./solanum_lycopersicum_flower_parts.svg\": 3144,\n\t\"./solanum_lycopersicum_whole_plant.svg\": 3145,\n\t\"./solanum_tuberosum_whole_plant.svg\": 3146,\n\t\"./sorghum_bicolor_flower_parts.svg\": 3147,\n\t\"./sorghum_bicolor_whole_plant.svg\": 3148,\n\t\"./tetraodon_nigroviridis.svg\": 3149,\n\t\"./triticum_aestivum_flower_parts.svg\": 3150,\n\t\"./triticum_aestivum_whole_plant.svg\": 3151,\n\t\"./xenopus_tropicalis.svg\": 3152,\n\t\"./zea_mays_flower_parts.svg\": 3153,\n\t\"./zea_mays_whole_plant.svg\": 3154\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 3123;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/anatomogram/resources/svg ^\\.\\/.*$\n// module id = 3123\n// module chunks = 2 7","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../css-loader/index.js!./../../less-loader/index.js!./SelectionIcon.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./../../less-loader/index.js!./SelectionIcon.less\", function() {\n\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./../../less-loader/index.js!./SelectionIcon.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/anatomogram/src/SelectionIcon.less\n// module id = 3155\n// module chunks = 2 7","exports = module.exports = require(\"./../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".selection-icon {\\n  display: block;\\n  position: relative;\\n  padding: 0;\\n  line-height: normal;\\n  margin-right: .1em;\\n  cursor: pointer;\\n  vertical-align: middle;\\n  text-align: center;\\n  overflow: visible;\\n  border: 1px solid #ccc;\\n  border-top-left-radius: 4px;\\n  border-top-right-radius: 4px;\\n  border-bottom-left-radius: 4px;\\n  border-bottom-right-radius: 4px;\\n  width: 24px;\\n  height: 24px;\\n  padding: 2px;\\n}\\n.selection-icon:hover {\\n  border: 1px solid #fbcb09;\\n  background: #fdf5ce 50% 50% repeat-x;\\n  font-weight: bold;\\n  color: #c77405;\\n}\\n.jquery-ui-like-button {\\n  display: block;\\n  position: relative;\\n  padding: 0;\\n  line-height: normal;\\n  margin-right: .1em;\\n  cursor: pointer;\\n  vertical-align: middle;\\n  text-align: center;\\n  overflow: visible;\\n}\\n.rounded-corners {\\n  border: 1px solid #ccc;\\n  border-top-left-radius: 4px;\\n  border-top-right-radius: 4px;\\n  border-bottom-left-radius: 4px;\\n  border-bottom-right-radius: 4px;\\n}\\n.right-dimensions {\\n  width: 24px;\\n  height: 24px;\\n  padding: 2px;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/css-loader!./atlas_bundles/heatmap/~/less-loader!./atlas_bundles/heatmap/~/anatomogram/src/SelectionIcon.less\n// module id = 3156\n// module chunks = 2 7","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/style-loader/addStyles.js\n// module id = 3158\n// module chunks = 2 7","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../css-loader/index.js!./../../less-loader/index.js!./ContainerLayout.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./../../less-loader/index.js!./ContainerLayout.less\", function() {\n\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./../../less-loader/index.js!./ContainerLayout.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/anatomogram/src/ContainerLayout.less\n// module id = 3159\n// module chunks = 2 7","exports = module.exports = require(\"./../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"#gxaAnatomogramWrapper {\\n  display: block;\\n  zoom: 1;\\n  position: relative;\\n  overflow: hidden;\\n  marginLeft: 270px;\\n}\\n#gxaAnatomogramWrapper:after {\\n  content: \\\" \\\";\\n  display: block;\\n  font-size: 0;\\n  height: 0;\\n  clear: both;\\n  visibility: hidden;\\n}\\n#gxaAnatomogramAside {\\n  float: left;\\n  max-width: 270px;\\n}\\n.clearfix {\\n  display: block;\\n  zoom: 1;\\n}\\n.clearfix:after {\\n  content: \\\" \\\";\\n  display: block;\\n  font-size: 0;\\n  height: 0;\\n  clear: both;\\n  visibility: hidden;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/css-loader!./atlas_bundles/heatmap/~/less-loader!./atlas_bundles/heatmap/~/anatomogram/src/ContainerLayout.less\n// module id = 3160\n// module chunks = 2 7","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\nvar ReactDOMServer = require('react-dom/server');\nvar RadioGroup = require('react-radio-group');\nvar Slider = require('rc-slider');\nrequire('rc-slider/assets/index.css');\n\nvar DownloadProfilesButton =require('expression-atlas-download-profiles-button');\nvar shallowCompare = require('react-addons-shallow-compare');\n\nvar $ = require('jquery');\n\nrequire('jquery-ui-bundle');\nrequire('jquery-hc-sticky');\nrequire('atlas-modernizr');  // Leaks Modernizr to the global window namespace\n\nrequire('fancybox')($);\nrequire('fancybox/dist/css/jquery.fancybox.css');\n\nrequire('jquery-toolbar');\nrequire('jquery-toolbar/jquery.toolbar.css');\n\n\n//*------------------------------------------------------------------*\n\nvar HeatmapBaselineCellVariance = require('expression-atlas-heatmap-baseline-cell-variance');\nvar Legend = require('expression-atlas-legend');\nvar LegendBaseline = Legend.LegendBaseline;\nvar LegendDifferential = Legend.LegendDifferential;\nvar CellDifferential = require('expression-atlas-cell-differential');\nvar DisplayLevelsButton = require('expression-atlas-display-levels-button');\nvar NumberFormat = require('expression-atlas-number-format').default;\nvar HelpTooltips = require('expression-atlas-help-tooltips');\nvar ContrastTooltips = require('expression-atlas-contrast-tooltips');\n\nvar GenePropertiesTooltipModule = require('./genePropertiesTooltipModule.js');\nvar FactorTooltipModule = require('./factorTooltipModule.js');\n\nvar StickyHeaderModule = require('./stickyHeaderModule.js');\nrequire('./stickyHeaderModule.css');\n\n//*------------------------------------------------------------------*\n\nrequire('./Heatmap.css');\n\n//*------------------------------------------------------------------*\n\nvar Heatmap = React.createClass({\n\n    propTypes: {\n        type: React.PropTypes.shape({\n            isBaseline: React.PropTypes.bool,\n            isProteomics: React.PropTypes.bool,\n            isDifferential: React.PropTypes.bool,\n            isMultiExperiment: React.PropTypes.bool,\n            heatmapTooltip: React.PropTypes.string.isRequired\n        }),\n        heatmapConfig: React.PropTypes.object.isRequired,\n        columnHeaders: React.PropTypes.oneOfType([\n            React.PropTypes.arrayOf(React.PropTypes.shape({\n                assayGroupId: React.PropTypes.string.isRequired,\n                factorValue: React.PropTypes.string.isRequired,\n                factorValueOntologyTermId: React.PropTypes.string\n            })),\n            React.PropTypes.arrayOf(React.PropTypes.shape({\n                id: React.PropTypes.string.isRequired,\n                referenceAssayGroup: React.PropTypes.shape({\n                    id: React.PropTypes.string.isRequired,\n                    assayAccessions: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n                    replicates: React.PropTypes.number.isRequired\n                }).isRequired,\n                testAssayGroup: React.PropTypes.shape({\n                    id: React.PropTypes.string.isRequired,\n                    assayAccessions: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n                    replicates: React.PropTypes.number.isRequired\n                }).isRequired,\n                displayName: React.PropTypes.string.isRequired\n            }))\n        ]).isRequired,\n        profiles: React.PropTypes.object.isRequired,\n        jsonCoexpressions: React.PropTypes.arrayOf(React.PropTypes.shape({\n          geneId: React.PropTypes.string.isRequired,\n          geneName: React.PropTypes.string.isRequired,\n          jsonProfiles: React.PropTypes.object\n        })),\n        geneSetProfiles: React.PropTypes.object,\n        prefFormDisplayLevels: React.PropTypes.object,\n        anatomogramEventEmitter: React.PropTypes.object,\n        googleAnalytics: React.PropTypes.bool,\n        atlasBaseURL: React.PropTypes.string.isRequired,\n        linksAtlasBaseURL: React.PropTypes.string.isRequired,\n        selectGeneIdCallback: React.PropTypes.func,\n        selectedGeneId: React.PropTypes.string,\n        selectColumnIdCallback: React.PropTypes.func,\n        selectedColumnId: React.PropTypes.string,\n        googleAnalyticsCallback: React.PropTypes.func.isRequired\n    },\n\n    getInitialState: function () {\n        var displayLevels = this.props.prefFormDisplayLevels ? (this.props.prefFormDisplayLevels.val() === \"true\") : false;\n        var coexpressionsDisplayed = {};\n        if(this.props.jsonCoexpressions ) {\n          for (var i = 0; i< this.props.jsonCoexpressions.length; i++){\n            coexpressionsDisplayed[this.props.jsonCoexpressions[i].geneId]=0;\n          }\n        }\n        return {\n            showGeneSetProfiles: false,\n            displayLevels: displayLevels,\n            hoveredColumnId: null,\n            hoveredGeneId: null,\n            selectedRadioButton: \"gradients\",\n            coexpressionsDisplayed:coexpressionsDisplayed,\n            userInteractedWithTheHeatmap: false\n        };\n    },\n\n    _coexpressionsCurrentlyShown: function() {\n      var ans = 0;\n      for(var k in this.state.coexpressionsDisplayed){\n        ans+= this.state.coexpressionsDisplayed[k];\n      }\n      return ans;\n    },\n\n    _getProfiles: function() {\n      if(this.state.showGeneSetProfiles){\n        return this.props.geneSetProfiles;\n      } else if (! this.props.jsonCoexpressions){\n        return this.props.profiles;\n      } else {\n        var newRows = [];\n        for(var i = 0; i< this.props.profiles.rows.length ; i++){\n            var thisRow = this.props.profiles.rows[i];\n            newRows.push(thisRow);\n            var coexpressionsForThisRow =\n                this.props.jsonCoexpressions\n                  .filter(function(o){\n                    return o.geneId=== thisRow.id && this.state.coexpressionsDisplayed[o.geneId]\n                  }.bind(this))\n            for(var j = 0 ; j < coexpressionsForThisRow.length ; j++ ){\n              [].push.apply(newRows,coexpressionsForThisRow[j].jsonProfiles.rows.slice(0, this.state.coexpressionsDisplayed[coexpressionsForThisRow[j].geneId]));\n            }\n\n        }\n        return Object.create(this.props.profiles, {rows: {value: newRows}});\n      }\n    },\n\n    _hoverColumn: function(columnId) {\n        this.setState({hoveredColumnId: columnId}, function() {\n            this.props.anatomogramEventEmitter.emit('gxaHeatmapColumnHoverChange', columnId);\n        });\n    },\n\n    _hoverRow: function(rowId) {\n        this.setState({hoveredRowId: rowId}, function() {\n            this.props.anatomogramEventEmitter.emit('gxaHeatmapRowHoverChange', rowId);\n        });\n    },\n\n    selectColumn: function (columnId) {\n        if (this.props.selectColumnIdCallback) {\n            this.props.selectColumnIdCallback(columnId);\n        }\n    },\n\n    selectGene: function (geneId) {\n        if (this.props.selectGeneIdCallback) {\n            this.props.selectGeneIdCallback(geneId);\n        }\n    },\n\n    toggleGeneSets: function () {\n        this.setState({showGeneSetProfiles: !this.state.showGeneSetProfiles});\n    },\n\n    toggleDisplayLevels: function () {\n        var newDisplayLevels = !this.state.displayLevels;\n        this.setState({displayLevels: newDisplayLevels});\n        if (this.props.prefFormDisplayLevels) {\n            this.props.prefFormDisplayLevels.val(newDisplayLevels);\n        }\n        $(window).resize();\n    },\n\n    toggleRadioButton: function(newSelected) {\n        this.setState({selectedRadioButton: newSelected});\n        this.setState({displayLevels: (newSelected === \"levels\")}); //update the LegendType\n    },\n\n    isMicroarray: function () {\n        return this.props.profiles.rows[0].hasOwnProperty(\"designElement\") && this.props.profiles.rows[0].designElement;\n    },\n\n    hasQuartiles: function() {\n        var hasQuartiles = false;\n        for(var i=0; i < this.props.profiles.rows[0].expressions.length; i++) {\n            if(this.props.profiles.rows[0].expressions[i].quartiles != undefined) {\n                hasQuartiles = true;\n                break;\n            }\n        }\n        return hasQuartiles;\n    },\n\n    isSingleGeneResult: function () {\n        return (this.props.profiles.rows.length == 1);\n    },\n\n    _stateChangeRepresentsInteraction: function (s1, s2) {\n      var ks = [\n        \"displayLevels\", \"showGeneSetProfiles\", \"hoveredColumnId\", \"hoveredGeneId\", \"hoveredRowId\"\n      ];\n      for(var i = 0; i< ks.length ; i++){\n        var k = ks[i];\n        if(s1[k] !== s2[k]){\n          return k || true;\n        }\n      }\n      return false;\n    },\n\n    _propsChangeRepresentsInteraction: function (s1, s2) {\n        var ks = [\n            \"selectedGeneId\", \"selectedColumnId\"\n        ];\n        for(var i = 0; i< ks.length ; i++){\n            var k = ks[i];\n            if(s1[k] !== s2[k]){\n                return k || true;\n            }\n        }\n        return false;\n    },\n\n    shouldComponentUpdate: function(nextProps,nextState){\n      return shallowCompare(this, nextProps, nextState);\n    },\n\n    componentWillUpdate: function(nextProps, nextState) {\n      if(! this.state.userInteractedWithTheHeatmap){\n        if( this._stateChangeRepresentsInteraction(this.state, nextState)) {\n          this.props.googleAnalyticsCallback('send', 'event', 'HeatmapReact', 'interact');\n          this.setState({userInteractedWithTheHeatmap: true});\n        }\n\n        if (this._propsChangeRepresentsInteraction(this.props, nextProps)) {\n            this.props.googleAnalyticsCallback('send', 'event', 'HeatmapReact', 'interact');\n            this.setState({userInteractedWithTheHeatmap: true});\n        }\n      }\n\n      if(nextProps.ontologyIdsToHighlight){\n        var forEachXNotInYsEmit = function(xs, ys, eventName){\n          xs\n          .filter(function(id){\n            return ys.indexOf(id)==-1;\n          })\n          .forEach(function(id){\n            eventEmitter.emit(eventName, id);\n          });\n        };\n\n        forEachXNotInYsEmit(nextProps.ontologyIdsToHighlight, this.props.ontologyIdsToHighlight, 'gxaAnatomogramTissueMouseEnter');\n        forEachXNotInYsEmit(this.props.ontologyIdsToHighlight,nextProps.ontologyIdsToHighlight, 'gxaAnatomogramTissueMouseLeave');\n      }\n    },\n\n    componentDidMount: function() {\n        var table           = ReactDOM.findDOMNode(this.refs.heatmapTable),\n            stickyIntersect = ReactDOM.findDOMNode(this.refs.stickyIntersect),\n            stickyColumn    = ReactDOM.findDOMNode(this.refs.stickyColumn),\n            stickyHeadRow   = ReactDOM.findDOMNode(this.refs.stickyHeader),\n            stickyWrap      = ReactDOM.findDOMNode(this.refs.stickyWrap),\n            countAndLegend  = ReactDOM.findDOMNode(this.refs.countAndLegend);\n\n        var stickyHeader = StickyHeaderModule(table, stickyIntersect, stickyColumn, stickyHeadRow, stickyWrap, countAndLegend);\n\n        stickyHeader.setWidthsAndReposition();\n        $(countAndLegend).hcSticky({bottomEnd: stickyHeader.calculateAllowance()});\n\n        $(stickyWrap).scroll(stickyHeader.stickyReposition);\n        $(window).resize(stickyHeader.setWidthsAndReposition)\n                 .scroll(stickyHeader.stickyReposition)\n                 .on(\n                     \"gxaResizeHeatmapAnatomogramHeader\",\n                     function() {\n                         stickyHeader.setWidthAndHeight();\n                         $(countAndLegend).hcSticky(\"resize\");\n                     }\n                 );\n    },\n\n    _getMaxExpressionLevel: function () {\n      var maxExpressionLevel = -Infinity;\n      var profileRows = this._getProfiles().rows;\n      for(var i = 0; i< profileRows.length; i++){\n        for(var j = 0 ; j < (profileRows[i].expressions || []).length; j ++) {\n          var value = profileRows[i].expressions[j].value;\n          if(!isNaN(value) && value > maxExpressionLevel){\n            maxExpressionLevel = value;\n          }\n        }\n      }\n      return maxExpressionLevel;\n    },\n\n    _getMinExpressionLevel: function () {\n      var minExpressionLevel = Infinity;\n      var profileRows = this._getProfiles().rows;\n      for(var i = 0; i< profileRows.length; i++){\n        for(var j = 0 ; j < (profileRows[i].expressions || []).length; j ++) {\n          var value = profileRows[i].expressions[j].value;\n          if(!isNaN(value) && value < minExpressionLevel){\n            minExpressionLevel = value;\n          }\n        }\n      }\n      return minExpressionLevel;\n    },\n\n    legendType: function () {\n        if (this.props.type.isBaseline || this.props.type.isMultiExperiment) {\n          return <LegendBaseline\n            atlasBaseURL={this.props.atlasBaseURL}\n            minExpressionLevel={this._getMinExpressionLevel()}\n            maxExpressionLevel={this._getMaxExpressionLevel()}\n            isMultiExperiment={this.props.type.isMultiExperiment ? true : false}/> ;\n        } else {\n          var ps = this._getProfiles();\n          return <LegendDifferential atlasBaseURL={this.props.atlasBaseURL}\n                                     minDownLevel={parseFloat(ps.minDownLevel)}\n                                     maxDownLevel={parseFloat(ps.maxDownLevel)}\n                                     minUpLevel={parseFloat(ps.minUpLevel)}\n                                     maxUpLevel={parseFloat(ps.maxUpLevel)} />;\n        }\n    },\n\n    _getCoexpressionsAvailable: function() {\n      return ! this.props.jsonCoexpressions\n             ? []\n             : this.props.jsonCoexpressions.map(function(value){\n        return {name: value.geneName, id: value.geneId, amount: value.jsonProfiles && value.jsonProfiles.rows? value.jsonProfiles.rows.length : 0}\n      });\n    },\n\n    _showCoexpressionsFor : function(geneId, amount) {\n      this.setState(function(previousState) {\n        if(previousState.coexpressionsDisplayed.hasOwnProperty(geneId)){\n          previousState.coexpressionsDisplayed[geneId] = amount;\n        }\n        return {coexpressionsDisplayed: JSON.parse(JSON.stringify(previousState.coexpressionsDisplayed))};\n      });\n    },\n\n    _showGeneCount: function() {\n      var shownRows, totalRows;\n      if (this.props.type.isMultiExperiment || ! this.state.showGeneSetProfiles || ! this.props.geneSetProfiles){\n          shownRows = this.props.profiles.rows.length;\n          totalRows = this.props.profiles.searchResultTotal;\n      } else {\n        shownRows = this.props.geneSetProfiles.rows.length;\n        totalRows = this.props.geneSetProfiles.searchResultTotal;\n      }\n\n      return <div style={{display: \"inline-block\", 'verticalAlign': \"top\"}}>\n        {this.props.type.isMultiExperiment\n          ? <span id=\"geneCount\">Showing {shownRows} of {totalRows} experiments found: </span>\n          : <span id=\"geneCount\">Showing {shownRows} of {totalRows} {this.state.showGeneSetProfiles ? 'gene sets' : 'genes' } found\n              {! this.props.jsonCoexpressions || ! this.props.jsonCoexpressions.length ? \":\" : \" and \"+(this._getProfiles().rows.length-shownRows)+ \" similarly expressed genes:\"}</span> }\n        {this.props.geneSetProfiles && !this.props.type.isMultiExperiment ? <a href=\"javascript:void(0)\" onClick={this.toggleGeneSets}>{this.state.showGeneSetProfiles ? '(show individual genes)' : '(show by gene set)'}</a> : ''}\n      </div>\n    },\n\n    _constructDownloadProfilesURL: function() {\n      return this.props.heatmapConfig.downloadProfilesURL.match(/.*\\?.+/) && Object.keys(this.state.coexpressionsDisplayed).length > 0\n            ?this.props.heatmapConfig.downloadProfilesURL+\"&coexpressions=\"+JSON.stringify(this.state.coexpressionsDisplayed)\n            :this.props.heatmapConfig.downloadProfilesURL;\n    },\n\n    render: function () {\n        var paddingMargin = \"15px\";\n\n        return (\n            <div>\n                <div ref=\"countAndLegend\" className=\"gxaHeatmapCountAndLegend\" style={{\"paddingBottom\": paddingMargin, \"position\": \"sticky\"}}>\n                    {this._showGeneCount()}\n                    <div style={{display: \"inline-block\", \"paddingLeft\": \"10px\", \"verticalAlign\": \"top\"}}>\n                        <DownloadProfilesButton ref=\"downloadProfilesButton\"\n                                                downloadProfilesURL={this._constructDownloadProfilesURL()}\n                                                atlasBaseURL={this.props.atlasBaseURL}\n                                                disclaimer={this.props.heatmapConfig.disclaimer}\n                                                onDownloadCallbackForAnalytics={function() {this.props.googleAnalyticsCallback('send', 'event', 'HeatmapReact', 'downloadData')}.bind(this)}/>\n                    </div>\n                    <div style={{display: \"inline-block\", \"paddingLeft\": \"20px\"}}>\n                        {this.legendType()}\n                    </div>\n                </div>\n\n                <div ref=\"stickyWrap\" className=\"gxaStickyTableWrap\" style={{\"marginTop\": paddingMargin}}>\n                    <table ref=\"heatmapTable\" className=\"gxaTableGrid gxaStickyEnabled\" id=\"heatmap-table\">\n                        <HeatmapTableHeader ref=\"heatmapTableHeader\"\n                                            radioId=\"table\"\n                                            isMicroarray={this.isMicroarray()}\n                                            hasQuartiles={this.hasQuartiles()}\n                                            isSingleGeneResult={this.isSingleGeneResult()}\n                                            currentlyShowingCoexpressions={!!this._coexpressionsCurrentlyShown()}\n                                            type={this.props.type}\n                                            columnHeaders={this.props.columnHeaders}\n                                            multipleColumnHeaders={this.props.multipleColumnHeaders}\n                                            selectedColumnId={this.props.selectedColumnId}\n                                            selectColumn={this.selectColumn}\n                                            hoverColumnCallback={this._hoverColumn}\n                                            heatmapConfig={this.props.heatmapConfig}\n                                            atlasBaseURL={this.props.atlasBaseURL}\n                                            displayLevels={this.state.displayLevels}\n                                            toggleDisplayLevels={this.toggleDisplayLevels}\n                                            showGeneSetProfiles={this.state.showGeneSetProfiles}\n                                            selectedRadioButton={this.state.selectedRadioButton}\n                                            toggleRadioButton={this.toggleRadioButton}\n                                            renderContrastFactorHeaders={true}\n                                            anatomogramEventEmitter={this.props.anatomogramEventEmitter}/>\n                        <HeatmapTableRows profiles={this._getProfiles().rows}\n                                          selectedGeneId={this.props.selectedGeneId}\n                                          selectGene={this.selectGene}\n                                          type={this.props.type}\n                                          heatmapConfig={this.props.heatmapConfig}\n                                          atlasBaseURL={this.props.atlasBaseURL}\n                                          linksAtlasBaseURL={this.props.linksAtlasBaseURL}\n                                          displayLevels={this.state.displayLevels}\n                                          showGeneSetProfiles={this.state.showGeneSetProfiles}\n                                          selectedRadioButton={this.state.selectedRadioButton}\n                                          hoverColumnCallback={this._hoverColumn}\n                                          hoverRowCallback={this._hoverRow}\n                                          hasQuartiles={this.hasQuartiles()}\n                                          isSingleGeneResult={this.isSingleGeneResult()}\n                                          renderExpressionCells={true}/>\n                    </table>\n\n                    <div ref=\"stickyIntersect\" className=\"gxaStickyTableIntersect\">\n                        <table className=\"gxaTableGrid\">\n                            <HeatmapTableHeader isMicroarray={this.isMicroarray()}\n                                                    radioId=\"intersect\"\n                                                    hasQuartiles={this.hasQuartiles()}\n                                                    isSingleGeneResult={this.isSingleGeneResult()}\n                                                    currentlyShowingCoexpressions={!!this._coexpressionsCurrentlyShown()}\n                                                    type={this.props.type}\n                                                    columnHeaders={this.props.columnHeaders}\n                                                    multipleColumnHeaders={this.props.multipleColumnHeaders}\n                                                    selectedColumnId={this.props.selectedColumnId}\n                                                    selectColumn={this.selectColumn}\n                                                    heatmapConfig={this.props.heatmapConfig}\n                                                    atlasBaseURL={this.props.atlasBaseURL}\n                                                    linksAtlasBaseURL={this.props.linksAtlasBaseURL}\n                                                    displayLevels={this.state.displayLevels}\n                                                    toggleDisplayLevels={this.toggleDisplayLevels}\n                                                    showGeneSetProfiles={this.state.showGeneSetProfiles}\n                                                    selectedRadioButton={this.state.selectedRadioButton}\n                                                    toggleRadioButton={this.toggleRadioButton}\n                                                    renderContrastFactorHeaders={false}/>\n\n                        </table>\n                    </div>\n\n                    <div ref=\"stickyColumn\" className=\"gxaStickyTableColumn\">\n                        <table className=\"gxaTableGrid\">\n                            <HeatmapTableHeader isMicroarray={this.isMicroarray()}\n                                                radioId=\"column\"\n                                                hasQuartiles={this.hasQuartiles()}\n                                                isSingleGeneResult={this.isSingleGeneResult()}\n                                                currentlyShowingCoexpressions={!!this._coexpressionsCurrentlyShown()}\n                                                columnHeaders={this.props.columnHeaders}\n                                                type={this.props.type}\n                                                multipleColumnHeaders={this.props.multipleColumnHeaders}\n                                                selectedColumnId={this.props.selectedColumnId}\n                                                selectColumn={this.selectColumn}\n                                                heatmapConfig={this.props.heatmapConfig}\n                                                atlasBaseURL={this.props.atlasBaseURL}\n                                                displayLevels={this.state.displayLevels}\n                                                toggleDisplayLevels={this.toggleDisplayLevels}\n                                                showGeneSetProfiles={this.state.showGeneSetProfiles}\n                                                selectedRadioButton={this.state.selectedRadioButton}\n                                                toggleRadioButton={this.toggleRadioButton}\n                                                renderContrastFactorHeaders={false}/>\n                            <HeatmapTableRows profiles={this._getProfiles().rows}\n                                              selectedGeneId={this.props.selectedGeneId}\n                                              selectGene={this.selectGene}\n                                              type={this.props.type}\n                                              heatmapConfig={this.props.heatmapConfig}\n                                              atlasBaseURL={this.props.atlasBaseURL}\n                                              linksAtlasBaseURL={this.props.linksAtlasBaseURL}\n                                              displayLevels={this.state.displayLevels}\n                                              showGeneSetProfiles={this.state.showGeneSetProfiles}\n                                              selectedRadioButton={this.state.selectedRadioButton}\n                                              hoverRowCallback={this._hoverRow}\n                                              hasQuartiles={this.hasQuartiles()}\n                                              isSingleGeneResult={this.isSingleGeneResult()}\n                                              renderExpressionCells={false}/>\n                        </table>\n                    </div>\n\n\n                    <div ref=\"stickyHeader\" className=\"gxaStickyTableHeader\">\n                        <table className=\"gxaTableGrid\">\n                            <HeatmapTableHeader isMicroarray={this.isMicroarray()}\n                                                    radioId=\"header\"\n                                                    hasQuartiles={this.hasQuartiles()}\n                                                    isSingleGeneResult={this.isSingleGeneResult()}\n                                                    currentlyShowingCoexpressions={!!this._coexpressionsCurrentlyShown()}\n                                                    hoverColumnCallback={this._hoverColumn}\n                                                    type={this.props.type}\n                                                    columnHeaders={this.props.columnHeaders}\n                                                    multipleColumnHeaders={this.props.multipleColumnHeaders}\n                                                    selectedColumnId={this.props.selectedColumnId}\n                                                    selectColumn={this.selectColumn}\n                                                    heatmapConfig={this.props.heatmapConfig}\n                                                    atlasBaseURL={this.props.atlasBaseURL}\n                                                    linksAtlasBaseURL={this.props.linksAtlasBaseURL}\n                                                    displayLevels={this.state.displayLevels}\n                                                    toggleDisplayLevels={this.toggleDisplayLevels}\n                                                    showGeneSetProfiles={this.state.showGeneSetProfiles}\n                                                    selectedRadioButton={this.state.selectedRadioButton}\n                                                    toggleRadioButton={this.toggleRadioButton}\n                                                    renderContrastFactorHeaders={true}\n                                                    anatomogramEventEmitter={this.props.anatomogramEventEmitter}/>\n\n                        </table>\n                    </div>\n                    <HeatmapBottomOptions coexpressionsAvailable={this._getCoexpressionsAvailable()}\n                                          showCoexpressionsFor={this._showCoexpressionsFor}\n                                          googleAnalyticsCallback={this.props.googleAnalyticsCallback} />\n                </div>\n\n            </div>\n        );\n    }\n\n});\n\nvar HeatmapTableHeader = React.createClass({\n    propTypes: {\n        currentlyShowingCoexpressions: React.PropTypes.bool.isRequired\n    },\n\n    renderContrastFactorHeaders: function () {\n        var heatmapConfig = this.props.heatmapConfig;\n\n        if (this.props.type.isBaseline) {\n            return renderFactorHeaders(heatmapConfig, this.props.atlasBaseURL, this.props.mainHeaderNames, this.props.type, this.props.columnHeaders, heatmapConfig.experimentAccession,\n                                        this.props.selectColumn, this.props.selectedColumnId, this.props.hoverColumnCallback, this.props.anatomogramEventEmitter);\n        }\n        else if (this.props.type.isDifferential) {\n            return renderContrastHeaders(heatmapConfig, this.props.atlasBaseURL, this.props.columnHeaders, this.props.selectedColumnId, this.props.selectColumn, heatmapConfig.experimentAccession);\n        }\n        else if (this.props.type.isMultiExperiment) {\n            return renderFactorHeaders(heatmapConfig, this.props.atlasBaseURL, null, this.props.type, this.props.columnHeaders, \"\",\n                this.props.selectColumn, this.props.selectedColumnId, this.props.hoverColumnCallback, this.props.anatomogramEventEmitter);\n        }\n    },\n\n    render: function () {\n        var showGeneProfile = this.props.showGeneSetProfiles ? \"Gene set\" : \"Gene\";\n        var showExperimentProfile = this.props.type.isMultiExperiment ? \"Experiment\" : showGeneProfile;\n\n        return (\n            <thead>\n                <tr>\n                    <th className=\"gxaHorizontalHeaderCell gxaHeatmapTableIntersect\" colSpan={this.props.isMicroarray ? 2 : undefined}>\n                        <TopLeftCorner type={this.props.type}\n                                       hasQuartiles={this.props.hasQuartiles}\n                                       radioId={this.props.radioId}\n                                       isSingleGeneResult={this.props.isSingleGeneResult}\n                                       currentlyShowingCoexpressions={this.props.currentlyShowingCoexpressions}\n                                       heatmapConfig={this.props.heatmapConfig}\n                                       displayLevels={this.props.displayLevels}\n                                       toggleDisplayLevels={this.props.toggleDisplayLevels}\n                                       selectedRadioButton={this.props.selectedRadioButton}\n                                       toggleRadioButton={this.props.toggleRadioButton}\n                                       atlasBaseURL={this.props.atlasBaseURL}/>\n                    </th>\n\n                    { this.props.renderContrastFactorHeaders ? this.renderContrastFactorHeaders() : null }\n                </tr>\n\n                <tr>\n                    <th className=\"gxaHorizontalHeaderCell gxaHeatmapTableIntersect\" style={ this.props.isMicroarray ? {width: \"166px\"} : {}}><div>{ showExperimentProfile }</div></th>\n                    { this.props.isMicroarray ? <th className=\"gxaHorizontalHeaderCell gxaHeatmapTableIntersect\"><div>Design Element</div></th> : null}\n                </tr>\n            </thead>\n        );\n    }\n});\n\n\nfunction restrictLabelSize(label, maxSize) {\n    var result = label;\n    if (result.length > maxSize + 1) {  // +1 to account for the extra ellipsis character appended\n        result = result.substring(0, maxSize);\n        if (result.lastIndexOf(\" \") > maxSize - 5) {\n            result = result.substring(0, result.lastIndexOf(\" \"));\n        }\n        result = result + \"\";\n    }\n    return result;\n}\n\n\nfunction renderFactorHeaders(heatmapConfig, atlasBaseURL, mainHeaderNames, type, assayGroupFactors, experimentAccession, selectColumn,\n                             selectedColumnId, hoverColumnCallback, anatomogramEventEmitter) {\n\n    return assayGroupFactors.map(function (assayGroupFactor) {\n        return <FactorHeader key={mainHeaderNames + assayGroupFactor.factorValue}\n                             type={type}\n                             heatmapConfig={heatmapConfig}\n                             factorName={assayGroupFactor.factorValue}\n                             svgPathId={assayGroupFactor.factorValueOntologyTermId}\n                             assayGroupId={assayGroupFactor.assayGroupId}\n                             experimentAccession={experimentAccession}\n                             selectColumn={selectColumn}\n                             selected={assayGroupFactor.assayGroupId === selectedColumnId}\n                             hoverColumnCallback={hoverColumnCallback}\n                             anatomogramEventEmitter={anatomogramEventEmitter}\n                             atlasBaseURL={atlasBaseURL}/>;\n    });\n}\n\nvar FactorHeader = React.createClass({\n\n    getInitialState: function () {\n        return ({hover: false, selected: false});\n    },\n\n    onMouseEnter: function () {\n        if (this.props.heatmapConfig.enableEnsemblLauncher) {\n            this.setState({hover: true});\n        }\n        this.props.hoverColumnCallback(this.props.svgPathId);\n    },\n\n    onMouseLeave: function () {\n        if (this.props.heatmapConfig.enableEnsemblLauncher) {\n            this.setState({hover: false});\n        }\n        this.props.hoverColumnCallback(null);\n        this._closeTooltip();\n    },\n\n    _closeTooltip: function() {\n        if(!this.props.type.isMultiExperiment) {\n            $(ReactDOM.findDOMNode(this)).tooltip(\"close\");\n        }\n    },\n\n    _anatomogramTissueMouseEnter: function(svgPathId) {\n        if (svgPathId === this.props.svgPathId) {\n            $(ReactDOM.findDOMNode(this.refs.headerCell)).addClass(\"gxaHeaderHover\");\n        }\n    },\n\n    _anatomogramTissueMouseLeave: function(svgPathId) {\n        if (svgPathId === this.props.svgPathId) {\n            $(ReactDOM.findDOMNode(this.refs.headerCell)).removeClass(\"gxaHeaderHover\");\n        }\n    },\n\n    onClick: function () {\n        if (this.props.heatmapConfig.enableEnsemblLauncher) {\n            this.props.selectColumn(this.props.assayGroupId);\n        }\n    },\n\n    componentDidMount: function () {\n        if(!this.props.type.isMultiExperiment) {\n            FactorTooltipModule.init(this.props.atlasBaseURL, this.props.heatmapConfig.accessKey, ReactDOM.findDOMNode(this), this.props.experimentAccession, this.props.assayGroupId);\n        }\n        if (this.props.anatomogramEventEmitter) {\n            this.props.anatomogramEventEmitter.addListener('gxaAnatomogramTissueMouseEnter', this._anatomogramTissueMouseEnter);\n            this.props.anatomogramEventEmitter.addListener('gxaAnatomogramTissueMouseLeave', this._anatomogramTissueMouseLeave);\n        }\n    },\n\n    render: function () {\n        var showSelectTextOnHover = this.state.hover && !this.props.selected ? <span style={{position: \"absolute\", width:\"10px\", right:\"0px\", left:\"95px\", float:\"right\", color:\"green\"}}>  select</span> : null;\n        var showTickWhenSelected = this.props.selected ? <span className=\"rotate_tick\" style={{position: \"absolute\", width:\"5px\", right:\"0px\", left:\"125px\", float:\"right\", color:\"green\"}}> &#10004; </span>: null ;\n        var thClass = \"rotated_cell gxaHoverableHeader\" + (this.props.selected ? \" gxaVerticalHeaderCell-selected\" : \" gxaVerticalHeaderCell\") + (this.props.heatmapConfig.enableEnsemblLauncher ? \" gxaSelectableHeader\" : \"\");\n        var divClass = \"rotate_text factor-header\";\n        var factorName = Modernizr.csstransforms ? restrictLabelSize(this.props.factorName, 14) : this.props.factorName;\n\n        return (\n            <th ref=\"headerCell\" className={thClass} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave} onClick={this.onClick} rowSpan=\"2\">\n                <div data-assay-group-id={this.props.assayGroupId} data-experiment-accession={this.props.experimentAccession} className={divClass}>\n                    {factorName}\n                    {showSelectTextOnHover}\n                    {showTickWhenSelected}\n                </div>\n            </th>\n        );\n    }\n\n});\n\n\nfunction renderContrastHeaders(heatmapConfig, atlasBaseURL, contrasts, selectedColumnId, selectColumn, experimentAccession){\n    var contrastHeaders = contrasts.map(function (contrast) {\n\n        var plotsThisContrast = {\n            maPlot: contrast.resources.some(function(e) {return e.type === 'ma-plot'}),\n            gseaGo: contrast.resources.some(function(e) {return e.type === 'gsea_go'}),\n            gseaInterpro: contrast.resources.some(function(e) {return e.type === 'gsea_interpro'}),\n            gseaReactome: contrast.resources.some(function(e) {return e.type === 'gsea_reactome'})\n        };\n\n        // var gseaPlotsThisContrast = this.props.gseaPlots ? this.props.gseaPlots[contrast.id] : {go: false, interpro: false, reactome: false};\n        return <ContrastHeader key={contrast.id}\n                               heatmapConfig={heatmapConfig}\n                               atlasBaseURL={atlasBaseURL}\n                               selectColumn={selectColumn}\n                               selected={contrast.id === selectedColumnId}\n                               contrastName={contrast.displayName} arrayDesignAccession={contrast.arrayDesignAccession}\n                               contrastId={contrast.id} experimentAccession={experimentAccession}\n                               showMaPlotButton={plotsThisContrast.maPlot}\n                               showGseaGoPlot={plotsThisContrast.gseaGo}\n                               showGseaInterproPlot={plotsThisContrast.gseaInterpro}\n                               showGseaReactomePlot={plotsThisContrast.gseaReactome}/>;\n    }.bind(this));\n\n    return contrastHeaders;\n}\n\nvar ContrastHeader = React.createClass({\n\n    getInitialState: function () {\n        return ({hover:false, selected:false});\n    },\n\n    onMouseEnter: function () {\n        this.setState({hover:true});\n    },\n\n    onMouseLeave: function () {\n        this.setState({hover:false});\n        this._closeTooltip();\n    },\n\n    _closeTooltip: function() {\n        $(ReactDOM.findDOMNode(this)).tooltip(\"close\");\n    },\n\n    onClick: function () {\n        this.props.selectColumn(this.props.contrastId);\n    },\n\n    componentDidMount: function () {\n        ContrastTooltips(this.props.atlasBaseURL, this.props.heatmapConfig.accessKey, ReactDOM.findDOMNode(this), this.props.experimentAccession, this.props.contrastId);\n\n        if (this.showPlotsButton()) {\n            this.renderToolBarContent(ReactDOM.findDOMNode(this.refs.plotsToolBarContent));\n\n            var $plotsButton = $(ReactDOM.findDOMNode(this.refs.plotsButton));\n            $plotsButton.tooltip({\n                hide: false,\n                show: false,\n                tooltipClass: \"gxaHelpTooltip\"\n            }).button();\n            $plotsButton.toolbar({\n                content: ReactDOM.findDOMNode(this.refs.plotsToolBarContent),\n                position: \"right\",\n                style: \"white\",\n                event: \"click\",\n                hideOnClick: true\n            });\n            $plotsButton.addClass(\"gxaNoTextButton\");\n        }\n    },\n\n    renderToolBarContent: function(contentNode) {\n\n        var $contentNode = $(contentNode);\n\n        var maPlotURL = this.props.atlasBaseURL + \"/external-resources/\" + this.props.experimentAccession + '/' + (this.props.arrayDesignAccession ? this.props.arrayDesignAccession + \"/\" : \"\" ) + this.props.contrastId + \"/ma-plot.png\";\n        var maPlotImgSrcURL = this.props.atlasBaseURL + \"/resources/images/maplot-button.png\";\n\n        var gseaGoPlotURL = this.props.atlasBaseURL + \"/external-resources/\" + this.props.experimentAccession + '/' + this.props.contrastId + \"/gsea_go.png\";\n        var gseaGoPlotImgSrcURL = this.props.atlasBaseURL + \"/resources/images/gsea-go-button.png\";\n\n        var gseaInterproPlotURL = this.props.atlasBaseURL + \"/external-resources/\" + this.props.experimentAccession + '/' + this.props.contrastId + \"/gsea_interpro.png\";\n        var gseaInterproImgSrcURL = this.props.atlasBaseURL + '/resources/images/gsea-interpro-button.png';\n\n        var gseaReactomePlotURL = this.props.atlasBaseURL + \"/external-resources/\" + this.props.experimentAccession + '/' + this.props.contrastId + \"/gsea_reactome.png\";\n        var gseaReactomePlotImgSrcURL = this.props.atlasBaseURL + \"/resources/images/gsea-reactome-button.png\";\n\n        var content =\n            <div>\n                {this.props.showMaPlotButton ? <a href={maPlotURL} id=\"maButtonID\" title=\"Click to view MA plot for the contrast across all genes\" onClick={this.clickButton}><img src={maPlotImgSrcURL} /></a> : null }\n                {this.props.showGseaGoPlot ? <a href={gseaGoPlotURL} id=\"goButtonID\" title=\"Click to view GO terms enrichment analysis plot\" onClick={this.clickButton}><img src={gseaGoPlotImgSrcURL} /></a> : null }\n                {this.props.showGseaInterproPlot ? <a href={gseaInterproPlotURL} id=\"interproButtonID\" title=\"Click to view Interpro domains enrichment analysis plot\" onClick={this.clickButton}><img src={gseaInterproImgSrcURL} /></a> : null }\n                {this.props.showGseaReactomePlot ? <a href={gseaReactomePlotURL} id=\"reactomeButtonID\" title=\"Click to view Reactome pathways enrichment analysis plot\" onClick={this.clickButton}><img src={gseaReactomePlotImgSrcURL} /></a> : null }\n            </div>;\n\n        // the tool bar content will be copied around the DOM by the toolbar plugin\n        // so we render using static markup because otherwise when copied, we'll end up with\n        // duplicate data-reactids\n        $contentNode.html(ReactDOMServer.renderToStaticMarkup(content));\n\n        $contentNode.find('a').tooltip({\n            tooltipClass: \"gxaHelpTooltip\"\n        });\n\n        //need to use each here otherwise we get a fancybox error\n        $contentNode.find('a').each(function (index, button) {\n            $(button).fancybox({\n                padding:0,\n                openEffect:'elastic',\n                closeEffect:'elastic'\n            });\n        });\n    },\n\n    clickButton: function (event) {\n        // prevent contrast from being selected\n        event.stopPropagation();\n    },\n\n    showPlotsButton: function () {\n        return this.props.showMaPlotButton || this.props.showGseaGoPlot || this.props.showGseaInterproPlot || this.props.showGseaReactomePlot;\n    },\n\n    render: function () {\n        var thStyle = this.showPlotsButton() ? {minWidth: \"80px\"} : {};\n        var textStyle = this.showPlotsButton() ? {top: \"57px\"} : {};\n\n        var plotsImgSrcURL = this.props.atlasBaseURL + \"/resources/images/yellow-chart-icon.png\";\n\n        var plotsButton = (\n            <div style={{textAlign: \"right\", paddingRight: \"3px\"}} >\n                <a href=\"#\" ref=\"plotsButton\" onClick={this.clickButton} title=\"Click to view plots\"><img src={plotsImgSrcURL}/></a>\n            </div>\n        );\n\n        var showSelectTextOnHover = this.state.hover && !this.props.selected ? <span style={{position: \"absolute\", width: \"10px\", right: \"0px\", left: \"95px\", bottom: \"-35px\", color: \"green\"}}>  select</span> : null;\n        var showTickWhenSelected = this.props.selected ? <span className=\"rotate_tick\" style={{position: \"absolute\", width: \"5px\", right: \"0px\", left: \"125px\", bottom: \"-35px\", color: \"green\"}}> &#10004; </span>: null;\n        var thClass = \"rotated_cell gxaHoverableHeader\" + (this.props.selected ? \" gxaVerticalHeaderCell-selected\" : \" gxaVerticalHeaderCell\") + (this.props.heatmapConfig.enableEnsemblLauncher ? \" gxaSelectableHeader \" : \"\");\n        var divClass = \"rotate_text factor-header\";\n        var contrastName = Modernizr.csstransforms ? restrictLabelSize(this.props.contrastName, 17) : this.props.contrastName;\n\n        return (\n            <th className={thClass} rowSpan=\"2\" style={thStyle} onMouseEnter={this.props.heatmapConfig.enableEnsemblLauncher ? this.onMouseEnter : undefined} onMouseLeave={this.props.heatmapConfig.enableEnsemblLauncher ? this.onMouseLeave : this._closeTooltip} onClick={this.props.heatmapConfig.enableEnsemblLauncher ? this.onClick : undefined}>\n                <div data-contrast-id={this.props.contrastId} data-experiment-accession={this.props.experimentAccession} className={divClass} style={textStyle}>\n                    {contrastName}\n                    {showSelectTextOnHover}\n                    {showTickWhenSelected}\n                </div>\n                {this.showPlotsButton() ? plotsButton : null}\n                {this.showPlotsButton() ? <div ref=\"plotsToolBarContent\" style={{display: \"none\"}}>placeholder</div> : null}\n            </th>\n        );\n    }\n\n});\n\nvar TopLeftCorner = React.createClass({\n\n    displayLevelsBaseline: function() {\n        if (this.props.hasQuartiles && this.props.isSingleGeneResult) {\n            var LRG = this.props.currentlyShowingCoexpressions\n              ? LevelsRadioGroup(\"gradients\", \"levels\")\n              : LevelsRadioGroup(\"gradients\", \"levels\", \"variance\");\n            return (\n                <LRG radioId={this.props.radioId}\n                                  selectedRadioButton={this.props.selectedRadioButton}\n                                  toggleRadioButton={this.props.toggleRadioButton}/>\n            );\n        } else if (this.props.type.isBaseline || this.props.type.isMultiExperiment) {\n            return (\n                    <DisplayLevelsButton hideText=\"Hide levels\"\n                                         showText=\"Display levels\"\n                                         onClickCallback={this.props.toggleDisplayLevels}\n                                         displayLevels={this.props.displayLevels}\n                                         width=\"150px\" fontSize=\"14px\"/>\n            );\n        } else {\n            return (\n                    <DisplayLevelsButton hideText=\"Hide log<sub>2</sub>-fold change\"\n                                         showText=\"Display log<sub>2</sub>-fold change\"\n                                         onClickCallback={this.props.toggleDisplayLevels}\n                                         displayLevels={this.props.displayLevels}\n                                         width=\"200px\" fontSize=\"14px\"/>\n            );\n        }\n    },\n\n    render: function () {\n        return (\n            <div className=\"gxaHeatmapMatrixTopLeftCorner\">\n                <span data-help-loc={this.props.type.heatmapTooltip} ref=\"tooltipSpan\"/>\n                <div style={{display: \"table-cell\", verticalAlign: \"middle\", textAlign: \"center\"}}>\n                    {this.displayLevelsBaseline()}\n                </div>\n            </div>\n        );\n    },\n\n    componentDidMount: function () {\n        HelpTooltips(this.props.atlasBaseURL, 'experiment', ReactDOM.findDOMNode(this.refs.tooltipSpan));\n    }\n\n});\n\n\nvar LevelsRadioGroup = function(__args__) {\n  var args = [].slice.call(arguments)\n  var inputElements = [].concat.apply([],\n    args.map(\n      function(el, ix){\n        return [\n          <RadioGroup.Radio key={3*ix} type=\"radio\" value={el}/>,\n          <span key={3*ix +1}>{\"Display \"+el}</span>,\n          <br key={3*ix +2}/> ];\n      }\n    )).slice(0,-1);\n  return (React.createClass({\n    displayName: \"levelsRadioGroup for \"+args,\n\n    getDefaultProps: function(){\n      return {\n        allValues: args\n      }\n    },\n\n    getInitialState: function() {\n        return {\n            value: this.props.allValues.indexOf(this.props.selectedRadioButton) > -1 ?\n                this.props.selectedRadioButton :\n                this.props.allValues[0]\n        };\n    },\n    componentDidMount: function() {\n      if(this.props.allValues.indexOf(this.props.selectedRadioButton)==-1){\n        this.handleChange(this.state.value);\n      }\n    },\n\n    render: function() {\n        return (\n            <RadioGroup.RadioGroup name={\"displayLevelsGroup_\" + this.props.radioId} selectedValue={this.state.value} onChange={this.handleChange}>\n                <div style={{\"marginLeft\": \"10px\", \"marginTop\": \"8px\"}}>\n                    {inputElements}\n                </div>\n            </RadioGroup.RadioGroup>\n        );\n    },\n\n    handleChange: function(selectedRadio) {\n        this.props.toggleRadioButton(selectedRadio);\n        this.setState({value: selectedRadio});\n\n        // To resize the sticky column/header in case the row height or column width changes\n        $(window).resize();\n    }\n  }) );\n};\n\n\nvar HeatmapTableRows = React.createClass({\n    propTypes: {\n        profiles: React.PropTypes.arrayOf(React.PropTypes.object).isRequired\n    },\n\n    profileRowType: function (profile)  {\n        var geneProfileKey = this.props.heatmapConfig.species + \"-\" +\n            (this.props.type.isDifferential\n              ? profile.name + \"-\" + profile.designElement\n              : profile.name);\n        return (this.props.type.isMultiExperiment ?\n            <GeneProfileRow key={geneProfileKey}\n                            id={profile.id}\n                            name={profile.name}\n                            type={this.props.type}\n                            experimentType={profile.experimentType}\n                            expressions={profile.expressions}\n                            serializedFilterFactors={profile.serializedFilterFactors}\n                            heatmapConfig={this.props.heatmapConfig}\n                            atlasBaseURL={this.props.atlasBaseURL}\n                            linksAtlasBaseURL={this.props.linksAtlasBaseURL}\n                            displayLevels={this.props.displayLevels}\n                            renderExpressionCells={this.props.renderExpressionCells}\n                            hoverColumnCallback={this.props.hoverColumnCallback}\n                            hoverRowCallback={this.props.hoverRowCallback}/>\n            :\n            <GeneProfileRow key={geneProfileKey}\n                            selected={profile.id === this.props.selectedGeneId}\n                            selectGene={this.props.selectGene}\n                            designElement={profile.designElement}\n                            id={profile.id}\n                            name={profile.name}\n                            type={this.props.type}\n                            expressions={profile.expressions}\n                            heatmapConfig={this.props.heatmapConfig}\n                            atlasBaseURL={this.props.atlasBaseURL}\n                            linksAtlasBaseURL={this.props.linksAtlasBaseURL}\n                            displayLevels={this.props.displayLevels}\n                            showGeneSetProfiles={this.props.showGeneSetProfiles}\n                            selectedRadioButton={this.props.selectedRadioButton}\n                            hasQuartiles={this.props.hasQuartiles}\n                            isSingleGeneResult={this.props.isSingleGeneResult}\n                            renderExpressionCells={this.props.renderExpressionCells}\n                            hoverColumnCallback={this.props.hoverColumnCallback}\n                            hoverRowCallback={this.props.hoverRowCallback}/>\n        );\n    },\n\n    render: function () {\n        var geneProfilesRows = this.props.profiles.map(function (profile) {\n\n            return this.profileRowType(profile);\n        }.bind(this));\n\n        return (\n            <tbody>\n            {geneProfilesRows}\n            </tbody>\n        );\n    }\n});\n\n\nvar GeneProfileRow = React.createClass({\n    propTypes: {\n        atlasBaseURL: React.PropTypes.string.isRequired,\n        linksAtlasBaseURL: React.PropTypes.string.isRequired\n    },\n\n    getInitialState: function () {\n        return ({hover:false, selected:false, levels: this.props.displayLevels});\n    },\n\n    onMouseEnter: function () {\n        if (this.props.heatmapConfig.enableEnsemblLauncher) {\n            this.setState({hover:true});\n        }\n        // We use name instead of id because in multiexperiment the same id can appear under different name (same experiment, different conditions)\n        this.props.hoverRowCallback(this.props.name);\n    },\n\n    onMouseLeave: function () {\n        if (this.props.heatmapConfig.enableEnsemblLauncher) {\n            this.setState({hover:false});\n        }\n        this._closeTooltip();\n        this.props.hoverRowCallback(null);\n    },\n\n    onClick: function () {\n        if (this.props.heatmapConfig.enableEnsemblLauncher) {\n            this.props.selectGene(this.props.id);\n        }\n    },\n\n    _geneNameLinked: function () {\n        var experimentURL = '/experiments/' + this.props.id + '?geneQuery=' + this.props.heatmapConfig.geneQuery + (this.props.serializedFilterFactors ? \"&serializedFilterFactors=\" + encodeURIComponent(this.props.serializedFilterFactors) : \"\");\n        var geneURL = this.props.showGeneSetProfiles ? '/query?geneQuery=' + this.props.name : '/genes/' + this.props.id;\n\n        var titleTooltip = this.props.type.isMultiExperiment ? (this.props.experimentType == \"PROTEOMICS_BASELINE\" ? \"Protein Expression\" : \"RNA Expression\" ) : \"\";\n\n        var experimentOrGeneURL = this.props.linksAtlasBaseURL + (this.props.type.isMultiExperiment ? experimentURL : geneURL);\n\n        // don't render id for gene sets to prevent tooltips\n        // The vertical align in the <a> element is needed because the kerning in the font used in icon-conceptual is vertically off\n        return (\n            <span title={titleTooltip} style={{\"display\": \"table-cell\"}}>\n                <span className=\"icon icon-conceptual icon-c2\" data-icon={this.props.type.isMultiExperiment ? (this.props.experimentType == \"PROTEOMICS_BASELINE\" ? 'P' : 'd') : ''}/>\n                <a ref=\"geneName\" id={this.props.showGeneSetProfiles ? '' : this.props.id} href={experimentOrGeneURL} onClick={this.geneNameLinkClicked} style={{\"verticalAlign\": \"15%\"}}>{this.props.name}</a>\n            </span>\n        );\n    },\n\n    geneNameLinkClicked: function (event) {\n        // prevent row from being selected\n        event.stopPropagation();\n    },\n\n    displayLevelsRadio: function() {\n        if(this.props.hasQuartiles && this.props.isSingleGeneResult) {\n            return this.props.selectedRadioButton === \"levels\";\n        }\n        else return (this.props.displayLevels);\n    },\n\n    cellType: function (expression) {\n        if (this.props.type.isBaseline) {\n            if(this.props.selectedRadioButton === \"variance\" && expression.quartiles) {\n                return (\n                    <HeatmapBaselineCellVariance key={this.props.id + expression.factorName}\n                                                 quartiles={expression.quartiles}\n                                                 hoverColumnCallback={this.props.hoverColumnCallback}/>\n                );\n            }\n            else {\n                return (\n                    <CellBaseline key={this.props.id + expression.factorName}\n                                  factorName={expression.factorName}\n                                  color={expression.color}\n                                  value={expression.value}\n                                  heatmapConfig={this.props.heatmapConfig}\n                                  displayLevels={this.displayLevelsRadio()}\n                                  svgPathId={expression.svgPathId}\n                                  geneSetProfiles={this.props.showGeneSetProfiles}\n                                  id={this.props.id}\n                                  name={this.props.name}\n                                  hoverColumnCallback={this.props.hoverColumnCallback}/>\n                );\n            }\n        }\n        else if (this.props.type.isDifferential) {\n            return (\n                <CellDifferential key={this.props.designElement + this.props.name + expression.contrastName}\n                                  colour={expression.color}\n                                  foldChange={parseFloat(expression.foldChange)}\n                                  pValue={parseFloat(expression.pValue)}\n                                  tStat={parseFloat(expression.tStat)}\n                                  displayLevels={this.props.displayLevels}/>\n            );\n        }\n        else if (this.props.type.isMultiExperiment) {\n            return (\n                <CellMultiExperiment key={this.props.id + expression.factorName}\n                                     factorName={expression.factorName}\n                                     serializedFilterFactors={this.props.serializedFilterFactors}\n                                     color={expression.color}\n                                     value={expression.value}\n                                     displayLevels={this.props.displayLevels}\n                                     svgPathId={expression.svgPathId}\n                                     id={this.props.id}\n                                     name={this.props.name}\n                                     hoverColumnCallback={this.props.hoverColumnCallback}/>\n            );\n        }\n    },\n\n    cells: function (expressions) {\n\n        return expressions.map(function (expression) {\n            return this.cellType(expression);\n        }.bind(this));\n    },\n\n    render: function () {\n        var showSelectTextOnHover = this.state.hover && !this.props.selected ? <span style={{\"display\": \"table-cell\", \"textAlign\": \"right\", \"paddingLeft\": \"10px\", \"color\": \"green\", \"visibility\": \"visible\"}}>select</span> :\n            <span style={{\"display\": \"table-cell\", \"textAlign\": \"right\", \"paddingLeft\": \"10px\", \"color\": \"green\", \"visibility\": \"hidden\"}}>select</span>;\n        var showTickWhenSelected = this.props.selected ? <span style={{\"float\": \"right\", \"color\": \"green\"}}> &#10004; </span>: null ;\n        var className = (this.props.selected ? \"gxaHorizontalHeaderCell-selected gxaHoverableHeader\" : \"gxaHorizontalHeaderCell gxaHoverableHeader\") + (this.props.heatmapConfig.enableEnsemblLauncher ? \" gxaSelectableHeader\" : \"\");\n        var rowClassName = this.props.type.isMultiExperiment ? (this.props.experimentType == \"PROTEOMICS_BASELINE\" ? \"gxaProteomicsExperiment\" : \"gxaTranscriptomicsExperiment\" ) : \"\";\n\n        return (\n            <tr className={rowClassName}>\n                <th className={className} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave} onClick={this.onClick}>\n                    <div style={{display: \"table\", width: \"100%\"}}>\n                        <div style={{display: \"table-row\"}}>\n                            { this._geneNameLinked() }\n                            { this.props.heatmapConfig.enableEnsemblLauncher ? showSelectTextOnHover : null }\n                            { this.props.heatmapConfig.enableEnsemblLauncher ? showTickWhenSelected : null }\n                        </div>\n                    </div>\n                </th>\n                {this.props.designElement ? <th className=\"gxaHeatmapTableDesignElement\">{this.props.designElement}</th> : null}\n                {this.props.renderExpressionCells ? this.cells(this.props.expressions) : null}\n            </tr>\n        );\n    },\n\n    componentDidMount: function () {\n        if(!this.props.type.isMultiExperiment) {\n            GenePropertiesTooltipModule.init(this.props.atlasBaseURL, ReactDOM.findDOMNode(this.refs.geneName), this.props.id, this.props.name);\n        }\n    },\n\n    _closeTooltip: function() {\n        if(!this.props.type.isMultiExperiment) {\n            $(ReactDOM.findDOMNode(this.refs.geneName)).tooltip(\"close\");\n        }\n    }\n\n});\n\nvar CellBaseline = React.createClass({\n    render: function () {\n        if (this._noExpression()) {\n            return (<td></td>);\n        }\n\n        var style = {\"backgroundColor\": this._isUnknownExpression() ? \"white\" : this.props.color};\n\n        return (\n            <td style={style} onMouseEnter={this._onMouseEnter} onMouseLeave={this._onMouseLeave}>\n                <div\n                    className=\"gxaHeatmapCell\"\n                    style={{visibility: this._isUnknownExpression() || this.props.displayLevels ? \"visible\" : \"hidden\"}}>\n                    {this._isUnknownExpression() ? this._unknownCell() : NumberFormat.baselineExpression(this.props.value)}\n                </div>\n            </td>\n        );\n    },\n\n    componentDidMount: function () {\n        this.addQuestionMarkTooltip();\n    },\n\n    // need this so that we re-add question mark tooltip, if it doesn't exist, when switching between\n    // individual genes and gene sets\n    componentDidUpdate: function () {\n        this.addQuestionMarkTooltip();\n    },\n\n    addQuestionMarkTooltip: function() {\n        function hasQuestionMark(unknownElement) {\n            return unknownElement.children.length;\n        }\n\n        if (this._isUnknownExpression() && !hasQuestionMark(ReactDOM.findDOMNode(this.refs.unknownCell))) {\n            HelpTooltips(this.props.atlasBaseURL, 'experiment', ReactDOM.findDOMNode(this.refs.unknownCell));\n        }\n    },\n\n    _hasKnownExpression: function () {\n        // true if not blank or UNKNOWN, ie: has a expression with a known value\n        return (this.props.value && !this._isUnknownExpression());\n    },\n\n    _isUnknownExpression: function () {\n        return (this.propsvalue === \"UNKNOWN\")\n    },\n\n    _noExpression: function () {\n        return !this.props.value;\n    },\n\n    _unknownCell: function () {\n        return (\n            <span ref='unknownCell' data-help-loc={this.props.geneSetProfiles ? '#heatMapTableGeneSetUnknownCell' : '#heatMapTableUnknownCell'}></span>\n        );\n    },\n\n    _onMouseEnter: function() {\n        if (this._hasKnownExpression()) {\n            this.props.hoverColumnCallback(this.props.svgPathId);\n        }\n    },\n\n    _onMouseLeave: function() {\n        if (this._hasKnownExpression()) {\n            this.props.hoverColumnCallback(null);\n        }\n    }\n});\n\n\nvar CellMultiExperiment = React.createClass({\n    _isNAExpression : function () {\n        return (this.props.value === \"NT\");\n    },\n\n    _noExpression: function () {\n        return !this.props.value;\n    },\n\n    _tissueNotStudiedInExperiment: function () {\n        return (\n            <span>NA</span>\n        );\n    },\n\n    _onMouseEnter: function() {\n        if (!this._noExpression() && !this._isNAExpression()) {\n            this.props.hoverColumnCallback(this.props.svgPathId);\n        }\n    },\n\n    _onMouseLeave: function() {\n        if (!this._noExpression() && !this._isNAExpression()) {\n            this.props.hoverColumnCallback(null);\n        }\n    },\n\n    render: function () {\n\n        if (this._noExpression()) {\n            return (<td></td>);\n        }\n\n        var style = {\"backgroundColor\": this.props.color};\n\n        return (\n            <td style={style} onMouseEnter={this._onMouseEnter} onMouseLeave={this._onMouseLeave}>\n                <div className=\"gxaHeatmapCell\" style={{visibility: this._isNAExpression() || this.props.displayLevels ? \"visible\" : \"hidden\"}}>\n                    {this._isNAExpression(this.props.value) ? this._tissueNotStudiedInExperiment() : NumberFormat.baselineExpression(this.props.value)}\n                </div>\n            </td>\n        );\n    }\n});\n\nvar HeatmapBottomOptions = React.createClass({\n    propTypes: {\n        coexpressionsAvailable: React.PropTypes.arrayOf(React.PropTypes.shape({\n            name: React.PropTypes.string.isRequired,\n            id: React.PropTypes.string.isRequired,\n            amount: React.PropTypes.number.isRequired\n        })).isRequired,\n        showCoexpressionsFor: React.PropTypes.func.isRequired,\n        googleAnalyticsCallback: React.PropTypes.func.isRequired\n    },\n\n    render: function () {\n        var options = [];\n        for (var i = 0; i < this.props.coexpressionsAvailable.length; i++) {\n            var el = this.props.coexpressionsAvailable[i];\n            options.push(<CoexpressionOption\n                key={i}\n                geneName={el.name}\n                numCoexpressionsAvailable={el.amount}\n                showCoexpressionsCallback={ function(amount){\n                  this.props.googleAnalyticsCallback('send', 'event', 'HeatmapReact', 'coexpressions-use');\n                  this.props.showCoexpressionsFor(el.id,amount);\n                }.bind(this) }\n            />);\n        }\n        ;\n        return (\n            <div>\n                {options}\n            </div>\n        );\n    },\n\n    componentDidMount: function () {\n        if (this.props.coexpressionsAvailable.length > 0) {\n            this.props.googleAnalyticsCallback('send', 'event', 'HeatmapReact', 'coexpressions-display');\n        }\n    }\n\n\n});\n\nvar CoexpressionOption = React.createClass({\n    propTypes: {\n        geneName: React.PropTypes.string.isRequired,\n        numCoexpressionsAvailable: React.PropTypes.number.isRequired,\n        showCoexpressionsCallback: React.PropTypes.func.isRequired\n    },\n    getInitialState: function () {\n        return {visible: 0};\n    },\n    _chooseValue: function (amount) {\n        this.setState({visible: amount});\n        this.props.showCoexpressionsCallback(amount);\n    },\n\n    _turnOnWithDefaultValue: function () {\n        this._chooseValue(10);\n    },\n\n    _showOfferToDisplay: function () {\n        return <DisplayLevelsButton hideText=\"\"\n                                    showText=\"Add similarly expressed genes\"\n                                    onClickCallback={this._turnOnWithDefaultValue}\n                                    displayLevels={false}\n                                    width=\"250px\"\n                                    fontSize=\"14px\"/>\n    },\n\n    _showSlider: function () {\n        var marks = {\n            0: \"off\",\n            10: \"10\"\n        };\n        marks[this.props.numCoexpressionsAvailable] = this.props.numCoexpressionsAvailable;\n        return <div>\n            <p>{\"Display genes with similar expressions to \" + this.props.geneName + \":\"}</p>\n            <div className=\"gxaSlider\">\n                <Slider min={0} max={this.props.numCoexpressionsAvailable} onAfterChange={this._chooseValue}\n                        marks={marks} included={false} defaultValue={10}/>\n            </div>\n        </div>\n    },\n\n    render: function () {\n        return <div className=\"gxaDisplayCoexpressionOffer\">\n            {this.props.numCoexpressionsAvailable\n              ? this.state.visible\n                  ? this._showSlider()\n                  : this._showOfferToDisplay()\n              : <span>{\"No genes with similar expressions to \"+this.props.geneName+\" available for display\"}</span>\n            }\n        </div>\n    },\n\n    componentDidUpdate: function () {\n        $(window).trigger(\"gxaResizeHeatmapAnatomogramHeader\");\n    }\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = Heatmap;\n\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/heatmap/src/Heatmap.jsx","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _contains = require('rc-util/lib/Dom/contains');\n\nvar _contains2 = _interopRequireDefault(_contains);\n\nvar _addEventListener = require('rc-util/lib/Dom/addEventListener');\n\nvar _addEventListener2 = _interopRequireDefault(_addEventListener);\n\nvar _Popup = require('./Popup');\n\nvar _Popup2 = _interopRequireDefault(_Popup);\n\nvar _utils = require('./utils');\n\nvar _getContainerRenderMixin = require('rc-util/lib/getContainerRenderMixin');\n\nvar _getContainerRenderMixin2 = _interopRequireDefault(_getContainerRenderMixin);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction noop() {}\n\nfunction returnEmptyString() {\n  return '';\n}\n\nvar ALL_HANDLERS = ['onClick', 'onMouseDown', 'onTouchStart', 'onMouseEnter', 'onMouseLeave', 'onFocus', 'onBlur'];\n\nvar Trigger = _react2[\"default\"].createClass({\n  displayName: 'Trigger',\n\n  propTypes: {\n    children: _react.PropTypes.any,\n    action: _react.PropTypes.oneOfType([_react.PropTypes.string, _react.PropTypes.arrayOf(_react.PropTypes.string)]),\n    showAction: _react.PropTypes.any,\n    hideAction: _react.PropTypes.any,\n    getPopupClassNameFromAlign: _react.PropTypes.any,\n    onPopupVisibleChange: _react.PropTypes.func,\n    afterPopupVisibleChange: _react.PropTypes.func,\n    popup: _react.PropTypes.oneOfType([_react.PropTypes.node, _react.PropTypes.func]).isRequired,\n    popupStyle: _react.PropTypes.object,\n    prefixCls: _react.PropTypes.string,\n    popupClassName: _react.PropTypes.string,\n    popupPlacement: _react.PropTypes.string,\n    builtinPlacements: _react.PropTypes.object,\n    popupTransitionName: _react.PropTypes.string,\n    popupAnimation: _react.PropTypes.any,\n    mouseEnterDelay: _react.PropTypes.number,\n    mouseLeaveDelay: _react.PropTypes.number,\n    zIndex: _react.PropTypes.number,\n    focusDelay: _react.PropTypes.number,\n    blurDelay: _react.PropTypes.number,\n    getPopupContainer: _react.PropTypes.func,\n    destroyPopupOnHide: _react.PropTypes.bool,\n    mask: _react.PropTypes.bool,\n    maskClosable: _react.PropTypes.bool,\n    onPopupAlign: _react.PropTypes.func,\n    popupAlign: _react.PropTypes.object,\n    popupVisible: _react.PropTypes.bool,\n    maskTransitionName: _react.PropTypes.string,\n    maskAnimation: _react.PropTypes.string\n  },\n\n  mixins: [(0, _getContainerRenderMixin2[\"default\"])({\n    autoMount: false,\n\n    isVisible: function isVisible(instance) {\n      return instance.state.popupVisible;\n    },\n    getContainer: function getContainer(instance) {\n      var popupContainer = document.createElement('div');\n      var mountNode = instance.props.getPopupContainer ? instance.props.getPopupContainer((0, _reactDom.findDOMNode)(instance)) : document.body;\n      mountNode.appendChild(popupContainer);\n      return popupContainer;\n    }\n  })],\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      prefixCls: 'rc-trigger-popup',\n      getPopupClassNameFromAlign: returnEmptyString,\n      onPopupVisibleChange: noop,\n      afterPopupVisibleChange: noop,\n      onPopupAlign: noop,\n      popupClassName: '',\n      mouseEnterDelay: 0,\n      mouseLeaveDelay: 0.1,\n      focusDelay: 0,\n      blurDelay: 0.15,\n      popupStyle: {},\n      destroyPopupOnHide: false,\n      popupAlign: {},\n      defaultPopupVisible: false,\n      mask: false,\n      maskClosable: true,\n      action: [],\n      showAction: [],\n      hideAction: []\n    };\n  },\n  getInitialState: function getInitialState() {\n    var props = this.props;\n    var popupVisible = void 0;\n    if ('popupVisible' in props) {\n      popupVisible = !!props.popupVisible;\n    } else {\n      popupVisible = !!props.defaultPopupVisible;\n    }\n    return {\n      popupVisible: popupVisible\n    };\n  },\n  componentWillMount: function componentWillMount() {\n    var _this = this;\n\n    ALL_HANDLERS.forEach(function (h) {\n      _this['fire' + h] = function (e) {\n        _this.fireEvents(h, e);\n      };\n    });\n  },\n  componentDidMount: function componentDidMount() {\n    this.componentDidUpdate({}, {\n      popupVisible: this.state.popupVisible\n    });\n  },\n  componentWillReceiveProps: function componentWillReceiveProps(_ref) {\n    var popupVisible = _ref.popupVisible;\n\n    if (popupVisible !== undefined) {\n      this.setState({\n        popupVisible: popupVisible\n      });\n    }\n  },\n  componentDidUpdate: function componentDidUpdate(_, prevState) {\n    var props = this.props;\n    var state = this.state;\n    this.renderComponent(null, function () {\n      if (prevState.popupVisible !== state.popupVisible) {\n        props.afterPopupVisibleChange(state.popupVisible);\n      }\n    });\n    if (this.isClickToHide()) {\n      if (state.popupVisible) {\n        if (!this.clickOutsideHandler) {\n          this.clickOutsideHandler = (0, _addEventListener2[\"default\"])(document, 'mousedown', this.onDocumentClick);\n          this.touchOutsideHandler = (0, _addEventListener2[\"default\"])(document, 'touchstart', this.onDocumentClick);\n        }\n        return;\n      }\n    }\n    if (this.clickOutsideHandler) {\n      this.clickOutsideHandler.remove();\n      this.touchOutsideHandler.remove();\n      this.clickOutsideHandler = null;\n      this.touchOutsideHandler = null;\n    }\n  },\n  componentWillUnmount: function componentWillUnmount() {\n    this.clearDelayTimer();\n    if (this.clickOutsideHandler) {\n      this.clickOutsideHandler.remove();\n      this.touchOutsideHandler.remove();\n      this.clickOutsideHandler = null;\n      this.touchOutsideHandler = null;\n    }\n  },\n  onMouseEnter: function onMouseEnter(e) {\n    this.fireEvents('onMouseEnter', e);\n    this.delaySetPopupVisible(true, this.props.mouseEnterDelay);\n  },\n  onMouseLeave: function onMouseLeave(e) {\n    this.fireEvents('onMouseLeave', e);\n    this.delaySetPopupVisible(false, this.props.mouseLeaveDelay);\n  },\n  onPopupMouseEnter: function onPopupMouseEnter() {\n    this.clearDelayTimer();\n  },\n  onPopupMouseLeave: function onPopupMouseLeave(e) {\n    // https://github.com/react-component/trigger/pull/13\n    // react bug?\n    if (e.relatedTarget && !e.relatedTarget.setTimeout && this._component && (0, _contains2[\"default\"])(this._component.getPopupDomNode(), e.relatedTarget)) {\n      return;\n    }\n    this.delaySetPopupVisible(false, this.props.mouseLeaveDelay);\n  },\n  onFocus: function onFocus(e) {\n    this.fireEvents('onFocus', e);\n    // incase focusin and focusout\n    this.clearDelayTimer();\n    if (this.isFocusToShow()) {\n      this.focusTime = Date.now();\n      this.delaySetPopupVisible(true, this.props.focusDelay);\n    }\n  },\n  onMouseDown: function onMouseDown(e) {\n    this.fireEvents('onMouseDown', e);\n    this.preClickTime = Date.now();\n  },\n  onTouchStart: function onTouchStart(e) {\n    this.fireEvents('onTouchStart', e);\n    this.preTouchTime = Date.now();\n  },\n  onBlur: function onBlur(e) {\n    this.fireEvents('onBlur', e);\n    this.clearDelayTimer();\n    if (this.isBlurToHide()) {\n      this.delaySetPopupVisible(false, this.props.blurDelay);\n    }\n  },\n  onClick: function onClick(event) {\n    this.fireEvents('onClick', event);\n    // focus will trigger click\n    if (this.focusTime) {\n      var preTime = void 0;\n      if (this.preClickTime && this.preTouchTime) {\n        preTime = Math.min(this.preClickTime, this.preTouchTime);\n      } else if (this.preClickTime) {\n        preTime = this.preClickTime;\n      } else if (this.preTouchTime) {\n        preTime = this.preTouchTime;\n      }\n      if (Math.abs(preTime - this.focusTime) < 20) {\n        return;\n      }\n      this.focusTime = 0;\n    }\n    this.preClickTime = 0;\n    this.preTouchTime = 0;\n    event.preventDefault();\n    var nextVisible = !this.state.popupVisible;\n    if (this.isClickToHide() && !nextVisible || nextVisible && this.isClickToShow()) {\n      this.setPopupVisible(!this.state.popupVisible);\n    }\n  },\n  onDocumentClick: function onDocumentClick(event) {\n    if (this.props.mask && !this.props.maskClosable) {\n      return;\n    }\n    var target = event.target;\n    var root = (0, _reactDom.findDOMNode)(this);\n    var popupNode = this.getPopupDomNode();\n    if (!(0, _contains2[\"default\"])(root, target) && !(0, _contains2[\"default\"])(popupNode, target)) {\n      this.close();\n    }\n  },\n  getPopupDomNode: function getPopupDomNode() {\n    // for test\n    if (this._component) {\n      return this._component.isMounted() ? this._component.getPopupDomNode() : null;\n    }\n    return null;\n  },\n  getRootDomNode: function getRootDomNode() {\n    return _reactDom2[\"default\"].findDOMNode(this);\n  },\n  getPopupClassNameFromAlign: function getPopupClassNameFromAlign(align) {\n    var className = [];\n    var props = this.props;\n    var popupPlacement = props.popupPlacement,\n        builtinPlacements = props.builtinPlacements,\n        prefixCls = props.prefixCls;\n\n    if (popupPlacement && builtinPlacements) {\n      className.push((0, _utils.getPopupClassNameFromAlign)(builtinPlacements, prefixCls, align));\n    }\n    if (props.getPopupClassNameFromAlign) {\n      className.push(props.getPopupClassNameFromAlign(align));\n    }\n    return className.join(' ');\n  },\n  getPopupAlign: function getPopupAlign() {\n    var props = this.props;\n    var popupPlacement = props.popupPlacement,\n        popupAlign = props.popupAlign,\n        builtinPlacements = props.builtinPlacements;\n\n    if (popupPlacement && builtinPlacements) {\n      return (0, _utils.getAlignFromPlacement)(builtinPlacements, popupPlacement, popupAlign);\n    }\n    return popupAlign;\n  },\n  getComponent: function getComponent() {\n    var props = this.props,\n        state = this.state;\n\n    var mouseProps = {};\n    if (this.isMouseEnterToShow()) {\n      mouseProps.onMouseEnter = this.onPopupMouseEnter;\n    }\n    if (this.isMouseLeaveToHide()) {\n      mouseProps.onMouseLeave = this.onPopupMouseLeave;\n    }\n    return _react2[\"default\"].createElement(\n      _Popup2[\"default\"],\n      (0, _extends3[\"default\"])({\n        prefixCls: props.prefixCls,\n        destroyPopupOnHide: props.destroyPopupOnHide,\n        visible: state.popupVisible,\n        className: props.popupClassName,\n        action: props.action,\n        align: this.getPopupAlign(),\n        onAlign: props.onPopupAlign,\n        animation: props.popupAnimation,\n        getClassNameFromAlign: this.getPopupClassNameFromAlign\n      }, mouseProps, {\n        getRootDomNode: this.getRootDomNode,\n        style: props.popupStyle,\n        mask: props.mask,\n        zIndex: props.zIndex,\n        transitionName: props.popupTransitionName,\n        maskAnimation: props.maskAnimation,\n        maskTransitionName: props.maskTransitionName\n      }),\n      typeof props.popup === 'function' ? props.popup() : props.popup\n    );\n  },\n  setPopupVisible: function setPopupVisible(popupVisible) {\n    this.clearDelayTimer();\n    if (this.state.popupVisible !== popupVisible) {\n      if (!('popupVisible' in this.props)) {\n        this.setState({\n          popupVisible: popupVisible\n        });\n      }\n      this.props.onPopupVisibleChange(popupVisible);\n    }\n  },\n  delaySetPopupVisible: function delaySetPopupVisible(visible, delayS) {\n    var _this2 = this;\n\n    var delay = delayS * 1000;\n    this.clearDelayTimer();\n    if (delay) {\n      this.delayTimer = setTimeout(function () {\n        _this2.setPopupVisible(visible);\n        _this2.clearDelayTimer();\n      }, delay);\n    } else {\n      this.setPopupVisible(visible);\n    }\n  },\n  clearDelayTimer: function clearDelayTimer() {\n    if (this.delayTimer) {\n      clearTimeout(this.delayTimer);\n      this.delayTimer = null;\n    }\n  },\n  createTwoChains: function createTwoChains(event) {\n    var childPros = this.props.children.props;\n    var props = this.props;\n    if (childPros[event] && props[event]) {\n      return this['fire' + event];\n    }\n    return childPros[event] || props[event];\n  },\n  isClickToShow: function isClickToShow() {\n    var _props = this.props,\n        action = _props.action,\n        showAction = _props.showAction;\n\n    return action.indexOf('click') !== -1 || showAction.indexOf('click') !== -1;\n  },\n  isClickToHide: function isClickToHide() {\n    var _props2 = this.props,\n        action = _props2.action,\n        hideAction = _props2.hideAction;\n\n    return action.indexOf('click') !== -1 || hideAction.indexOf('click') !== -1;\n  },\n  isMouseEnterToShow: function isMouseEnterToShow() {\n    var _props3 = this.props,\n        action = _props3.action,\n        showAction = _props3.showAction;\n\n    return action.indexOf('hover') !== -1 || showAction.indexOf('mouseEnter') !== -1;\n  },\n  isMouseLeaveToHide: function isMouseLeaveToHide() {\n    var _props4 = this.props,\n        action = _props4.action,\n        hideAction = _props4.hideAction;\n\n    return action.indexOf('hover') !== -1 || hideAction.indexOf('mouseLeave') !== -1;\n  },\n  isFocusToShow: function isFocusToShow() {\n    var _props5 = this.props,\n        action = _props5.action,\n        showAction = _props5.showAction;\n\n    return action.indexOf('focus') !== -1 || showAction.indexOf('focus') !== -1;\n  },\n  isBlurToHide: function isBlurToHide() {\n    var _props6 = this.props,\n        action = _props6.action,\n        hideAction = _props6.hideAction;\n\n    return action.indexOf('focus') !== -1 || hideAction.indexOf('blur') !== -1;\n  },\n  forcePopupAlign: function forcePopupAlign() {\n    if (this.state.popupVisible && this.popupInstance && this.popupInstance.alignInstance) {\n      this.popupInstance.alignInstance.forceAlign();\n    }\n  },\n  fireEvents: function fireEvents(type, e) {\n    var childCallback = this.props.children.props[type];\n    if (childCallback) {\n      childCallback(e);\n    }\n    var callback = this.props[type];\n    if (callback) {\n      callback(e);\n    }\n  },\n  close: function close() {\n    this.setPopupVisible(false);\n  },\n  render: function render() {\n    var props = this.props;\n    var children = props.children;\n    var child = _react2[\"default\"].Children.only(children);\n    var newChildProps = {};\n\n    if (this.isClickToHide() || this.isClickToShow()) {\n      newChildProps.onClick = this.onClick;\n      newChildProps.onMouseDown = this.onMouseDown;\n      newChildProps.onTouchStart = this.onTouchStart;\n    } else {\n      newChildProps.onClick = this.createTwoChains('onClick');\n      newChildProps.onMouseDown = this.createTwoChains('onMouseDown');\n      newChildProps.onTouchStart = this.createTwoChains('onTouchStart');\n    }\n    if (this.isMouseEnterToShow()) {\n      newChildProps.onMouseEnter = this.onMouseEnter;\n    } else {\n      newChildProps.onMouseEnter = this.createTwoChains('onMouseEnter');\n    }\n    if (this.isMouseLeaveToHide()) {\n      newChildProps.onMouseLeave = this.onMouseLeave;\n    } else {\n      newChildProps.onMouseLeave = this.createTwoChains('onMouseLeave');\n    }\n    if (this.isFocusToShow() || this.isBlurToHide()) {\n      newChildProps.onFocus = this.onFocus;\n      newChildProps.onBlur = this.onBlur;\n    } else {\n      newChildProps.onFocus = this.createTwoChains('onFocus');\n      newChildProps.onBlur = this.createTwoChains('onBlur');\n    }\n\n    return _react2[\"default\"].cloneElement(child, newChildProps);\n  }\n});\n\nexports[\"default\"] = Trigger;\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/rc-trigger/lib/Trigger.js\n// module id = 3479\n// module chunks = 2 7","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _ChildrenUtils = require('./ChildrenUtils');\n\nvar _AnimateChild = require('./AnimateChild');\n\nvar _AnimateChild2 = _interopRequireDefault(_AnimateChild);\n\nvar _util = require('./util');\n\nvar _util2 = _interopRequireDefault(_util);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar defaultKey = 'rc_animate_' + Date.now();\n\n\nfunction getChildrenFromProps(props) {\n  var children = props.children;\n  if (_react2[\"default\"].isValidElement(children)) {\n    if (!children.key) {\n      return _react2[\"default\"].cloneElement(children, {\n        key: defaultKey\n      });\n    }\n  }\n  return children;\n}\n\nfunction noop() {}\n\nvar Animate = _react2[\"default\"].createClass({\n  displayName: 'Animate',\n\n  propTypes: {\n    component: _react2[\"default\"].PropTypes.any,\n    animation: _react2[\"default\"].PropTypes.object,\n    transitionName: _react2[\"default\"].PropTypes.oneOfType([_react2[\"default\"].PropTypes.string, _react2[\"default\"].PropTypes.object]),\n    transitionEnter: _react2[\"default\"].PropTypes.bool,\n    transitionAppear: _react2[\"default\"].PropTypes.bool,\n    exclusive: _react2[\"default\"].PropTypes.bool,\n    transitionLeave: _react2[\"default\"].PropTypes.bool,\n    onEnd: _react2[\"default\"].PropTypes.func,\n    onEnter: _react2[\"default\"].PropTypes.func,\n    onLeave: _react2[\"default\"].PropTypes.func,\n    onAppear: _react2[\"default\"].PropTypes.func,\n    showProp: _react2[\"default\"].PropTypes.string\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      animation: {},\n      component: 'span',\n      transitionEnter: true,\n      transitionLeave: true,\n      transitionAppear: false,\n      onEnd: noop,\n      onEnter: noop,\n      onLeave: noop,\n      onAppear: noop\n    };\n  },\n  getInitialState: function getInitialState() {\n    this.currentlyAnimatingKeys = {};\n    this.keysToEnter = [];\n    this.keysToLeave = [];\n    return {\n      children: (0, _ChildrenUtils.toArrayChildren)(getChildrenFromProps(this.props))\n    };\n  },\n  componentDidMount: function componentDidMount() {\n    var _this = this;\n\n    var showProp = this.props.showProp;\n    var children = this.state.children;\n    if (showProp) {\n      children = children.filter(function (child) {\n        return !!child.props[showProp];\n      });\n    }\n    children.forEach(function (child) {\n      if (child) {\n        _this.performAppear(child.key);\n      }\n    });\n  },\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    var _this2 = this;\n\n    this.nextProps = nextProps;\n    var nextChildren = (0, _ChildrenUtils.toArrayChildren)(getChildrenFromProps(nextProps));\n    var props = this.props;\n    // exclusive needs immediate response\n    if (props.exclusive) {\n      Object.keys(this.currentlyAnimatingKeys).forEach(function (key) {\n        _this2.stop(key);\n      });\n    }\n    var showProp = props.showProp;\n    var currentlyAnimatingKeys = this.currentlyAnimatingKeys;\n    // last props children if exclusive\n    var currentChildren = props.exclusive ? (0, _ChildrenUtils.toArrayChildren)(getChildrenFromProps(props)) : this.state.children;\n    // in case destroy in showProp mode\n    var newChildren = [];\n    if (showProp) {\n      currentChildren.forEach(function (currentChild) {\n        var nextChild = currentChild && (0, _ChildrenUtils.findChildInChildrenByKey)(nextChildren, currentChild.key);\n        var newChild = void 0;\n        if ((!nextChild || !nextChild.props[showProp]) && currentChild.props[showProp]) {\n          newChild = _react2[\"default\"].cloneElement(nextChild || currentChild, _defineProperty({}, showProp, true));\n        } else {\n          newChild = nextChild;\n        }\n        if (newChild) {\n          newChildren.push(newChild);\n        }\n      });\n      nextChildren.forEach(function (nextChild) {\n        if (!nextChild || !(0, _ChildrenUtils.findChildInChildrenByKey)(currentChildren, nextChild.key)) {\n          newChildren.push(nextChild);\n        }\n      });\n    } else {\n      newChildren = (0, _ChildrenUtils.mergeChildren)(currentChildren, nextChildren);\n    }\n\n    // need render to avoid update\n    this.setState({\n      children: newChildren\n    });\n\n    nextChildren.forEach(function (child) {\n      var key = child && child.key;\n      if (child && currentlyAnimatingKeys[key]) {\n        return;\n      }\n      var hasPrev = child && (0, _ChildrenUtils.findChildInChildrenByKey)(currentChildren, key);\n      if (showProp) {\n        var showInNext = child.props[showProp];\n        if (hasPrev) {\n          var showInNow = (0, _ChildrenUtils.findShownChildInChildrenByKey)(currentChildren, key, showProp);\n          if (!showInNow && showInNext) {\n            _this2.keysToEnter.push(key);\n          }\n        } else if (showInNext) {\n          _this2.keysToEnter.push(key);\n        }\n      } else if (!hasPrev) {\n        _this2.keysToEnter.push(key);\n      }\n    });\n\n    currentChildren.forEach(function (child) {\n      var key = child && child.key;\n      if (child && currentlyAnimatingKeys[key]) {\n        return;\n      }\n      var hasNext = child && (0, _ChildrenUtils.findChildInChildrenByKey)(nextChildren, key);\n      if (showProp) {\n        var showInNow = child.props[showProp];\n        if (hasNext) {\n          var showInNext = (0, _ChildrenUtils.findShownChildInChildrenByKey)(nextChildren, key, showProp);\n          if (!showInNext && showInNow) {\n            _this2.keysToLeave.push(key);\n          }\n        } else if (showInNow) {\n          _this2.keysToLeave.push(key);\n        }\n      } else if (!hasNext) {\n        _this2.keysToLeave.push(key);\n      }\n    });\n  },\n  componentDidUpdate: function componentDidUpdate() {\n    var keysToEnter = this.keysToEnter;\n    this.keysToEnter = [];\n    keysToEnter.forEach(this.performEnter);\n    var keysToLeave = this.keysToLeave;\n    this.keysToLeave = [];\n    keysToLeave.forEach(this.performLeave);\n  },\n  performEnter: function performEnter(key) {\n    // may already remove by exclusive\n    if (this.refs[key]) {\n      this.currentlyAnimatingKeys[key] = true;\n      this.refs[key].componentWillEnter(this.handleDoneAdding.bind(this, key, 'enter'));\n    }\n  },\n  performAppear: function performAppear(key) {\n    if (this.refs[key]) {\n      this.currentlyAnimatingKeys[key] = true;\n      this.refs[key].componentWillAppear(this.handleDoneAdding.bind(this, key, 'appear'));\n    }\n  },\n  handleDoneAdding: function handleDoneAdding(key, type) {\n    var props = this.props;\n    delete this.currentlyAnimatingKeys[key];\n    // if update on exclusive mode, skip check\n    if (props.exclusive && props !== this.nextProps) {\n      return;\n    }\n    var currentChildren = (0, _ChildrenUtils.toArrayChildren)(getChildrenFromProps(props));\n    if (!this.isValidChildByKey(currentChildren, key)) {\n      // exclusive will not need this\n      this.performLeave(key);\n    } else {\n      if (type === 'appear') {\n        if (_util2[\"default\"].allowAppearCallback(props)) {\n          props.onAppear(key);\n          props.onEnd(key, true);\n        }\n      } else {\n        if (_util2[\"default\"].allowEnterCallback(props)) {\n          props.onEnter(key);\n          props.onEnd(key, true);\n        }\n      }\n    }\n  },\n  performLeave: function performLeave(key) {\n    // may already remove by exclusive\n    if (this.refs[key]) {\n      this.currentlyAnimatingKeys[key] = true;\n      this.refs[key].componentWillLeave(this.handleDoneLeaving.bind(this, key));\n    }\n  },\n  handleDoneLeaving: function handleDoneLeaving(key) {\n    var props = this.props;\n    delete this.currentlyAnimatingKeys[key];\n    // if update on exclusive mode, skip check\n    if (props.exclusive && props !== this.nextProps) {\n      return;\n    }\n    var currentChildren = (0, _ChildrenUtils.toArrayChildren)(getChildrenFromProps(props));\n    // in case state change is too fast\n    if (this.isValidChildByKey(currentChildren, key)) {\n      this.performEnter(key);\n    } else {\n      var end = function end() {\n        if (_util2[\"default\"].allowLeaveCallback(props)) {\n          props.onLeave(key);\n          props.onEnd(key, false);\n        }\n      };\n      /* eslint react/no-is-mounted:0 */\n      if (this.isMounted() && !(0, _ChildrenUtils.isSameChildren)(this.state.children, currentChildren, props.showProp)) {\n        this.setState({\n          children: currentChildren\n        }, end);\n      } else {\n        end();\n      }\n    }\n  },\n  isValidChildByKey: function isValidChildByKey(currentChildren, key) {\n    var showProp = this.props.showProp;\n    if (showProp) {\n      return (0, _ChildrenUtils.findShownChildInChildrenByKey)(currentChildren, key, showProp);\n    }\n    return (0, _ChildrenUtils.findChildInChildrenByKey)(currentChildren, key);\n  },\n  stop: function stop(key) {\n    delete this.currentlyAnimatingKeys[key];\n    var component = this.refs[key];\n    if (component) {\n      component.stop();\n    }\n  },\n  render: function render() {\n    var props = this.props;\n    this.nextProps = props;\n    var stateChildren = this.state.children;\n    var children = null;\n    if (stateChildren) {\n      children = stateChildren.map(function (child) {\n        if (child === null || child === undefined) {\n          return child;\n        }\n        if (!child.key) {\n          throw new Error('must set key for <rc-animate> children');\n        }\n        return _react2[\"default\"].createElement(\n          _AnimateChild2[\"default\"],\n          {\n            key: child.key,\n            ref: child.key,\n            animation: props.animation,\n            transitionName: props.transitionName,\n            transitionEnter: props.transitionEnter,\n            transitionAppear: props.transitionAppear,\n            transitionLeave: props.transitionLeave\n          },\n          child\n        );\n      });\n    }\n    var Component = props.component;\n    if (Component) {\n      var passedProps = props;\n      if (typeof Component === 'string') {\n        passedProps = {\n          className: props.className,\n          style: props.style\n        };\n      }\n      return _react2[\"default\"].createElement(\n        Component,\n        passedProps,\n        children\n      );\n    }\n    return children[0] || null;\n  }\n});\n\nexports[\"default\"] = Animate;\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/rc-animate/lib/Animate.js\n// module id = 3497\n// module chunks = 2 7","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _cssAnimation = require('css-animation');\n\nvar _cssAnimation2 = _interopRequireDefault(_cssAnimation);\n\nvar _util = require('./util');\n\nvar _util2 = _interopRequireDefault(_util);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar transitionMap = {\n  enter: 'transitionEnter',\n  appear: 'transitionAppear',\n  leave: 'transitionLeave'\n};\n\nvar AnimateChild = _react2[\"default\"].createClass({\n  displayName: 'AnimateChild',\n\n  propTypes: {\n    children: _react2[\"default\"].PropTypes.any\n  },\n\n  componentWillUnmount: function componentWillUnmount() {\n    this.stop();\n  },\n  componentWillEnter: function componentWillEnter(done) {\n    if (_util2[\"default\"].isEnterSupported(this.props)) {\n      this.transition('enter', done);\n    } else {\n      done();\n    }\n  },\n  componentWillAppear: function componentWillAppear(done) {\n    if (_util2[\"default\"].isAppearSupported(this.props)) {\n      this.transition('appear', done);\n    } else {\n      done();\n    }\n  },\n  componentWillLeave: function componentWillLeave(done) {\n    if (_util2[\"default\"].isLeaveSupported(this.props)) {\n      this.transition('leave', done);\n    } else {\n      // always sync, do not interupt with react component life cycle\n      // update hidden -> animate hidden ->\n      // didUpdate -> animate leave -> unmount (if animate is none)\n      done();\n    }\n  },\n  transition: function transition(animationType, finishCallback) {\n    var _this = this;\n\n    var node = _reactDom2[\"default\"].findDOMNode(this);\n    var props = this.props;\n    var transitionName = props.transitionName;\n    var nameIsObj = (typeof transitionName === 'undefined' ? 'undefined' : _typeof(transitionName)) === 'object';\n    this.stop();\n    var end = function end() {\n      _this.stopper = null;\n      finishCallback();\n    };\n    if ((_cssAnimation.isCssAnimationSupported || !props.animation[animationType]) && transitionName && props[transitionMap[animationType]]) {\n      var name = nameIsObj ? transitionName[animationType] : transitionName + '-' + animationType;\n      var activeName = name + '-active';\n      if (nameIsObj && transitionName[animationType + 'Active']) {\n        activeName = transitionName[animationType + 'Active'];\n      }\n      this.stopper = (0, _cssAnimation2[\"default\"])(node, {\n        name: name,\n        active: activeName\n      }, end);\n    } else {\n      this.stopper = props.animation[animationType](node, end);\n    }\n  },\n  stop: function stop() {\n    var stopper = this.stopper;\n    if (stopper) {\n      this.stopper = null;\n      stopper.stop();\n    }\n  },\n  render: function render() {\n    return this.props.children;\n  }\n});\n\nexports[\"default\"] = AnimateChild;\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/rc-animate/lib/AnimateChild.js\n// module id = 3499\n// module chunks = 2 7","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _Event = require('./Event');\n\nvar _Event2 = _interopRequireDefault(_Event);\n\nvar _componentClasses = require('component-classes');\n\nvar _componentClasses2 = _interopRequireDefault(_componentClasses);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar isCssAnimationSupported = _Event2[\"default\"].endEvents.length !== 0;\n\n\nvar capitalPrefixes = ['Webkit', 'Moz', 'O',\n// ms is special .... !\n'ms'];\nvar prefixes = ['-webkit-', '-moz-', '-o-', 'ms-', ''];\n\nfunction getStyleProperty(node, name) {\n  var style = window.getComputedStyle(node);\n\n  var ret = '';\n  for (var i = 0; i < prefixes.length; i++) {\n    ret = style.getPropertyValue(prefixes[i] + name);\n    if (ret) {\n      break;\n    }\n  }\n  return ret;\n}\n\nfunction fixBrowserByTimeout(node) {\n  if (isCssAnimationSupported) {\n    var transitionDelay = parseFloat(getStyleProperty(node, 'transition-delay')) || 0;\n    var transitionDuration = parseFloat(getStyleProperty(node, 'transition-duration')) || 0;\n    var animationDelay = parseFloat(getStyleProperty(node, 'animation-delay')) || 0;\n    var animationDuration = parseFloat(getStyleProperty(node, 'animation-duration')) || 0;\n    var time = Math.max(transitionDuration + transitionDelay, animationDuration + animationDelay);\n    // sometimes, browser bug\n    node.rcEndAnimTimeout = setTimeout(function () {\n      node.rcEndAnimTimeout = null;\n      if (node.rcEndListener) {\n        node.rcEndListener();\n      }\n    }, time * 1000 + 200);\n  }\n}\n\nfunction clearBrowserBugTimeout(node) {\n  if (node.rcEndAnimTimeout) {\n    clearTimeout(node.rcEndAnimTimeout);\n    node.rcEndAnimTimeout = null;\n  }\n}\n\nvar cssAnimation = function cssAnimation(node, transitionName, endCallback) {\n  var nameIsObj = (typeof transitionName === 'undefined' ? 'undefined' : _typeof(transitionName)) === 'object';\n  var className = nameIsObj ? transitionName.name : transitionName;\n  var activeClassName = nameIsObj ? transitionName.active : transitionName + '-active';\n  var end = endCallback;\n  var start = void 0;\n  var active = void 0;\n  var nodeClasses = (0, _componentClasses2[\"default\"])(node);\n\n  if (endCallback && Object.prototype.toString.call(endCallback) === '[object Object]') {\n    end = endCallback.end;\n    start = endCallback.start;\n    active = endCallback.active;\n  }\n\n  if (node.rcEndListener) {\n    node.rcEndListener();\n  }\n\n  node.rcEndListener = function (e) {\n    if (e && e.target !== node) {\n      return;\n    }\n\n    if (node.rcAnimTimeout) {\n      clearTimeout(node.rcAnimTimeout);\n      node.rcAnimTimeout = null;\n    }\n\n    clearBrowserBugTimeout(node);\n\n    nodeClasses.remove(className);\n    nodeClasses.remove(activeClassName);\n\n    _Event2[\"default\"].removeEndEventListener(node, node.rcEndListener);\n    node.rcEndListener = null;\n\n    // Usually this optional end is used for informing an owner of\n    // a leave animation and telling it to remove the child.\n    if (end) {\n      end();\n    }\n  };\n\n  _Event2[\"default\"].addEndEventListener(node, node.rcEndListener);\n\n  if (start) {\n    start();\n  }\n  nodeClasses.add(className);\n\n  node.rcAnimTimeout = setTimeout(function () {\n    node.rcAnimTimeout = null;\n    nodeClasses.add(activeClassName);\n    if (active) {\n      setTimeout(active, 0);\n    }\n    fixBrowserByTimeout(node);\n    // 30ms for firefox\n  }, 30);\n\n  return {\n    stop: function stop() {\n      if (node.rcEndListener) {\n        node.rcEndListener();\n      }\n    }\n  };\n};\n\ncssAnimation.style = function (node, style, callback) {\n  if (node.rcEndListener) {\n    node.rcEndListener();\n  }\n\n  node.rcEndListener = function (e) {\n    if (e && e.target !== node) {\n      return;\n    }\n\n    if (node.rcAnimTimeout) {\n      clearTimeout(node.rcAnimTimeout);\n      node.rcAnimTimeout = null;\n    }\n\n    clearBrowserBugTimeout(node);\n\n    _Event2[\"default\"].removeEndEventListener(node, node.rcEndListener);\n    node.rcEndListener = null;\n\n    // Usually this optional callback is used for informing an owner of\n    // a leave animation and telling it to remove the child.\n    if (callback) {\n      callback();\n    }\n  };\n\n  _Event2[\"default\"].addEndEventListener(node, node.rcEndListener);\n\n  node.rcAnimTimeout = setTimeout(function () {\n    for (var s in style) {\n      if (style.hasOwnProperty(s)) {\n        node.style[s] = style[s];\n      }\n    }\n    node.rcAnimTimeout = null;\n    fixBrowserByTimeout(node);\n  }, 0);\n};\n\ncssAnimation.setTransition = function (node, p, value) {\n  var property = p;\n  var v = value;\n  if (value === undefined) {\n    v = property;\n    property = '';\n  }\n  property = property || '';\n  capitalPrefixes.forEach(function (prefix) {\n    node.style[prefix + 'Transition' + property] = v;\n  });\n};\n\ncssAnimation.isCssAnimationSupported = isCssAnimationSupported;\n\nexports[\"default\"] = cssAnimation;\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/css-animation/lib/index.js\n// module id = 3500\n// module chunks = 2 7","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../css-loader/index.js!./index.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./index.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./index.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/rc-slider/assets/index.css\n// module id = 3511\n// module chunks = 2 7","exports = module.exports = require(\"./../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".rc-slider {\\n  position: relative;\\n  height: 4px;\\n  width: 100%;\\n  border-radius: 6px;\\n  background-color: #e9e9e9;\\n  box-sizing: border-box;\\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\n}\\n.rc-slider * {\\n  box-sizing: border-box;\\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\n}\\n.rc-slider-track {\\n  position: absolute;\\n  left: 0;\\n  height: 4px;\\n  border-radius: 6px;\\n  background-color: #abe2fb;\\n}\\n.rc-slider-handle {\\n  position: absolute;\\n  margin-left: -7px;\\n  margin-top: -5px;\\n  width: 14px;\\n  height: 14px;\\n  cursor: pointer;\\n  border-radius: 50%;\\n  border: solid 2px #96dbfa;\\n  background-color: #fff;\\n}\\n.rc-slider-handle:hover {\\n  border-color: #57c5f7;\\n}\\n.rc-slider-handle-active:active {\\n  border-color: #57c5f7;\\n  box-shadow: 0 0 5px #57c5f7;\\n}\\n.rc-slider-mark {\\n  position: absolute;\\n  top: 10px;\\n  left: 0;\\n  width: 100%;\\n  font-size: 12px;\\n}\\n.rc-slider-mark-text {\\n  position: absolute;\\n  display: inline-block;\\n  vertical-align: middle;\\n  text-align: center;\\n  cursor: pointer;\\n  color: #999;\\n}\\n.rc-slider-mark-text-active {\\n  color: #666;\\n}\\n.rc-slider-step {\\n  position: absolute;\\n  width: 100%;\\n  height: 4px;\\n  background: transparent;\\n}\\n.rc-slider-dot {\\n  position: absolute;\\n  bottom: -2px;\\n  margin-left: -4px;\\n  width: 8px;\\n  height: 8px;\\n  border: 2px solid #e9e9e9;\\n  background-color: #fff;\\n  cursor: pointer;\\n  border-radius: 50%;\\n  vertical-align: middle;\\n}\\n.rc-slider-dot:first-child {\\n  margin-left: -4px;\\n}\\n.rc-slider-dot:last-child {\\n  margin-left: -4px;\\n}\\n.rc-slider-dot-active {\\n  border-color: #96dbfa;\\n}\\n.rc-slider-disabled {\\n  background-color: #e9e9e9;\\n}\\n.rc-slider-disabled .rc-slider-track {\\n  background-color: #ccc;\\n}\\n.rc-slider-disabled .rc-slider-handle,\\n.rc-slider-disabled .rc-slider-dot {\\n  border-color: #ccc;\\n  background-color: #fff;\\n  cursor: not-allowed;\\n}\\n.rc-slider-disabled .rc-slider-mark-text,\\n.rc-slider-disabled .rc-slider-dot {\\n  cursor: not-allowed !important;\\n}\\n.rc-slider-vertical {\\n  width: 4px;\\n  height: 100%;\\n}\\n.rc-slider-vertical .rc-slider-track {\\n  bottom: 0;\\n  width: 4px;\\n}\\n.rc-slider-vertical .rc-slider-handle {\\n  position: absolute;\\n  margin-left: -5px;\\n  margin-bottom: -7px;\\n}\\n.rc-slider-vertical .rc-slider-mark {\\n  top: 0;\\n  left: 10px;\\n  height: 100%;\\n}\\n.rc-slider-vertical .rc-slider-step {\\n  height: 100%;\\n  width: 4px;\\n}\\n.rc-slider-vertical .rc-slider-dot {\\n  left: 2px;\\n  margin-bottom: -4px;\\n}\\n.rc-slider-vertical .rc-slider-dot:first-child {\\n  margin-bottom: -4px;\\n}\\n.rc-slider-vertical .rc-slider-dot:last-child {\\n  margin-bottom: -4px;\\n}\\n.rc-slider-tooltip-zoom-down-enter,\\n.rc-slider-tooltip-zoom-down-appear {\\n  -webkit-animation-duration: .3s;\\n          animation-duration: .3s;\\n  -webkit-animation-fill-mode: both;\\n          animation-fill-mode: both;\\n  display: block !important;\\n  -webkit-animation-play-state: paused;\\n          animation-play-state: paused;\\n}\\n.rc-slider-tooltip-zoom-down-leave {\\n  -webkit-animation-duration: .3s;\\n          animation-duration: .3s;\\n  -webkit-animation-fill-mode: both;\\n          animation-fill-mode: both;\\n  display: block !important;\\n  -webkit-animation-play-state: paused;\\n          animation-play-state: paused;\\n}\\n.rc-slider-tooltip-zoom-down-enter.rc-slider-tooltip-zoom-down-enter-active,\\n.rc-slider-tooltip-zoom-down-appear.rc-slider-tooltip-zoom-down-appear-active {\\n  -webkit-animation-name: rcSliderTooltipZoomDownIn;\\n          animation-name: rcSliderTooltipZoomDownIn;\\n  -webkit-animation-play-state: running;\\n          animation-play-state: running;\\n}\\n.rc-slider-tooltip-zoom-down-leave.rc-slider-tooltip-zoom-down-leave-active {\\n  -webkit-animation-name: rcSliderTooltipZoomDownOut;\\n          animation-name: rcSliderTooltipZoomDownOut;\\n  -webkit-animation-play-state: running;\\n          animation-play-state: running;\\n}\\n.rc-slider-tooltip-zoom-down-enter,\\n.rc-slider-tooltip-zoom-down-appear {\\n  -webkit-transform: scale(0, 0);\\n          transform: scale(0, 0);\\n  -webkit-animation-timing-function: cubic-bezier(0.23, 1, 0.32, 1);\\n          animation-timing-function: cubic-bezier(0.23, 1, 0.32, 1);\\n}\\n.rc-slider-tooltip-zoom-down-leave {\\n  -webkit-animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);\\n          animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);\\n}\\n@-webkit-keyframes rcSliderTooltipZoomDownIn {\\n  0% {\\n    opacity: 0;\\n    -webkit-transform-origin: 50% 100%;\\n            transform-origin: 50% 100%;\\n    -webkit-transform: scale(0, 0);\\n            transform: scale(0, 0);\\n  }\\n  100% {\\n    -webkit-transform-origin: 50% 100%;\\n            transform-origin: 50% 100%;\\n    -webkit-transform: scale(1, 1);\\n            transform: scale(1, 1);\\n  }\\n}\\n@keyframes rcSliderTooltipZoomDownIn {\\n  0% {\\n    opacity: 0;\\n    -webkit-transform-origin: 50% 100%;\\n            transform-origin: 50% 100%;\\n    -webkit-transform: scale(0, 0);\\n            transform: scale(0, 0);\\n  }\\n  100% {\\n    -webkit-transform-origin: 50% 100%;\\n            transform-origin: 50% 100%;\\n    -webkit-transform: scale(1, 1);\\n            transform: scale(1, 1);\\n  }\\n}\\n@-webkit-keyframes rcSliderTooltipZoomDownOut {\\n  0% {\\n    -webkit-transform-origin: 50% 100%;\\n            transform-origin: 50% 100%;\\n    -webkit-transform: scale(1, 1);\\n            transform: scale(1, 1);\\n  }\\n  100% {\\n    opacity: 0;\\n    -webkit-transform-origin: 50% 100%;\\n            transform-origin: 50% 100%;\\n    -webkit-transform: scale(0, 0);\\n            transform: scale(0, 0);\\n  }\\n}\\n@keyframes rcSliderTooltipZoomDownOut {\\n  0% {\\n    -webkit-transform-origin: 50% 100%;\\n            transform-origin: 50% 100%;\\n    -webkit-transform: scale(1, 1);\\n            transform: scale(1, 1);\\n  }\\n  100% {\\n    opacity: 0;\\n    -webkit-transform-origin: 50% 100%;\\n            transform-origin: 50% 100%;\\n    -webkit-transform: scale(0, 0);\\n            transform: scale(0, 0);\\n  }\\n}\\n.rc-tooltip {\\n  position: absolute;\\n  left: -9999px;\\n  top: -9999px;\\n  visibility: visible;\\n  box-sizing: border-box;\\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\n}\\n.rc-tooltip * {\\n  box-sizing: border-box;\\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\n}\\n.rc-tooltip-hidden {\\n  display: none;\\n}\\n.rc-tooltip-placement-top {\\n  padding: 4px 0 8px 0;\\n}\\n.rc-tooltip-inner {\\n  padding: 6px 2px;\\n  min-width: 24px;\\n  height: 24px;\\n  font-size: 12px;\\n  line-height: 1;\\n  color: #fff;\\n  text-align: center;\\n  text-decoration: none;\\n  background-color: #6c6c6c;\\n  border-radius: 6px;\\n  box-shadow: 0 0 4px #d9d9d9;\\n}\\n.rc-tooltip-arrow {\\n  position: absolute;\\n  width: 0;\\n  height: 0;\\n  border-color: transparent;\\n  border-style: solid;\\n}\\n.rc-tooltip-placement-top .rc-tooltip-arrow {\\n  bottom: 4px;\\n  left: 50%;\\n  margin-left: -4px;\\n  border-width: 4px 4px 0;\\n  border-top-color: #6c6c6c;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/css-loader!./atlas_bundles/heatmap/~/rc-slider/assets/index.css\n// module id = 3512\n// module chunks = 2 7","module.exports = require(`./src/DownloadProfilesButton.jsx`);\n\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/heatmap/~/expression-atlas-download-profiles-button/index.js","const React = require(`react`);\nconst Modal = require(`react-bootstrap/lib/Modal`);\nconst Button = require(`react-bootstrap/lib/Button`);\nconst Glyphicon = require(`react-bootstrap/lib/Glyphicon`);\nconst Disclaimers = require(`./Disclaimers.jsx`);\n\nconst DownloadProfilesButton = React.createClass({\n    propTypes: {\n        atlasBaseURL: React.PropTypes.string.isRequired,\n        downloadProfilesURL: React.PropTypes.string.isRequired,\n        disclaimer: React.PropTypes.string.isRequired,\n        onDownloadCallbackForAnalytics: React.PropTypes.func.isRequired\n    },\n\n    getInitialState() {\n        return { showModal: false };\n    },\n\n    _closeModal() {\n        this.setState({ showModal: false });\n    },\n\n    _disclaimer() {\n      return this.props.disclaimer && Disclaimers[this.props.disclaimer] || {title: null, content: null};\n    },\n\n    _afterDownloadButtonClicked() {\n        if(!this._disclaimer().title && !this._disclaimer().content) {\n            this._commenceDownload();\n        } else {\n            this.setState({ showModal: true });\n        }\n    },\n\n    _commenceDownload() {\n        this.props.onDownloadCallbackForAnalytics();\n        window.location.href = this.props.atlasBaseURL + this.props.downloadProfilesURL;\n    },\n\n    _commenceDownloadAndCloseModal() {\n        this._commenceDownload();\n        this._closeModal();\n    },\n\n    render() {\n        return (\n            <a onClick={this._afterDownloadButtonClicked}>\n                <Button bsSize=\"small\">\n                    <Glyphicon glyph=\"download-alt\"/> Download all results\n                </Button>\n\n                <Modal show={this.state.showModal} onHide={this._closeModal}>\n                    <Modal.Header closeButton>\n                        <Modal.Title>\n                            {this._disclaimer().title}\n                        </Modal.Title>\n                    </Modal.Header>\n\n                    <Modal.Body>\n                        {this._disclaimer().content}\n                    </Modal.Body>\n\n                    <Modal.Footer>\n                        <Button onClick={this._closeModal}>Close</Button>\n                        <Button bsStyle=\"primary\" onClick={this._commenceDownloadAndCloseModal}>\n                            Continue downloading\n                        </Button>\n                    </Modal.Footer>\n                </Modal>\n            </a>\n        );\n    }\n});\n\nmodule.exports = DownloadProfilesButton;\n\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/heatmap/~/expression-atlas-download-profiles-button/src/DownloadProfilesButton.jsx","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /*eslint-disable react/prop-types */\n\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _componentOrElement = require('react-prop-types/lib/componentOrElement');\n\nvar _componentOrElement2 = _interopRequireDefault(_componentOrElement);\n\nvar _elementType = require('react-prop-types/lib/elementType');\n\nvar _elementType2 = _interopRequireDefault(_elementType);\n\nvar _Portal = require('./Portal');\n\nvar _Portal2 = _interopRequireDefault(_Portal);\n\nvar _ModalManager = require('./ModalManager');\n\nvar _ModalManager2 = _interopRequireDefault(_ModalManager);\n\nvar _ownerDocument = require('./utils/ownerDocument');\n\nvar _ownerDocument2 = _interopRequireDefault(_ownerDocument);\n\nvar _addEventListener = require('./utils/addEventListener');\n\nvar _addEventListener2 = _interopRequireDefault(_addEventListener);\n\nvar _addFocusListener = require('./utils/addFocusListener');\n\nvar _addFocusListener2 = _interopRequireDefault(_addFocusListener);\n\nvar _inDOM = require('dom-helpers/util/inDOM');\n\nvar _inDOM2 = _interopRequireDefault(_inDOM);\n\nvar _activeElement = require('dom-helpers/activeElement');\n\nvar _activeElement2 = _interopRequireDefault(_activeElement);\n\nvar _contains = require('dom-helpers/query/contains');\n\nvar _contains2 = _interopRequireDefault(_contains);\n\nvar _getContainer = require('./utils/getContainer');\n\nvar _getContainer2 = _interopRequireDefault(_getContainer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar modalManager = new _ModalManager2.default();\n\n/**\n * Love them or hate them, `<Modal/>` provides a solid foundation for creating dialogs, lightboxes, or whatever else.\n * The Modal component renders its `children` node in front of a backdrop component.\n *\n * The Modal offers a few helpful features over using just a `<Portal/>` component and some styles:\n *\n * - Manages dialog stacking when one-at-a-time just isn't enough.\n * - Creates a backdrop, for disabling interaction below the modal.\n * - It properly manages focus; moving to the modal content, and keeping it there until the modal is closed.\n * - It disables scrolling of the page content while open.\n * - Adds the appropriate ARIA roles are automatically.\n * - Easily pluggable animations via a `<Transition/>` component.\n *\n * Note that, in the same way the backdrop element prevents users from clicking or interacting\n * with the page content underneath the Modal, Screen readers also need to be signaled to not to\n * interact with page content while the Modal is open. To do this, we use a common technique of applying\n * the `aria-hidden='true'` attribute to the non-Modal elements in the Modal `container`. This means that for\n * a Modal to be truly modal, it should have a `container` that is _outside_ your app's\n * React hierarchy (such as the default: document.body).\n */\nvar Modal = _react2.default.createClass({\n  displayName: 'Modal',\n\n\n  propTypes: _extends({}, _Portal2.default.propTypes, {\n\n    /**\n     * Set the visibility of the Modal\n     */\n    show: _react2.default.PropTypes.bool,\n\n    /**\n     * A Node, Component instance, or function that returns either. The Modal is appended to it's container element.\n     *\n     * For the sake of assistive technologies, the container should usually be the document body, so that the rest of the\n     * page content can be placed behind a virtual backdrop as well as a visual one.\n     */\n    container: _react2.default.PropTypes.oneOfType([_componentOrElement2.default, _react2.default.PropTypes.func]),\n\n    /**\n     * A callback fired when the Modal is opening.\n     */\n    onShow: _react2.default.PropTypes.func,\n\n    /**\n     * A callback fired when either the backdrop is clicked, or the escape key is pressed.\n     *\n     * The `onHide` callback only signals intent from the Modal,\n     * you must actually set the `show` prop to `false` for the Modal to close.\n     */\n    onHide: _react2.default.PropTypes.func,\n\n    /**\n     * Include a backdrop component.\n     */\n    backdrop: _react2.default.PropTypes.oneOfType([_react2.default.PropTypes.bool, _react2.default.PropTypes.oneOf(['static'])]),\n\n    /**\n     * A function that returns a backdrop component. Useful for custom\n     * backdrop rendering.\n     *\n     * ```js\n     *  renderBackdrop={props => <MyBackdrop {...props} />}\n     * ```\n     */\n    renderBackdrop: _react2.default.PropTypes.func,\n\n    /**\n     * A callback fired when the escape key, if specified in `keyboard`, is pressed.\n     */\n    onEscapeKeyUp: _react2.default.PropTypes.func,\n\n    /**\n     * A callback fired when the backdrop, if specified, is clicked.\n     */\n    onBackdropClick: _react2.default.PropTypes.func,\n\n    /**\n     * A style object for the backdrop component.\n     */\n    backdropStyle: _react2.default.PropTypes.object,\n\n    /**\n     * A css class or classes for the backdrop component.\n     */\n    backdropClassName: _react2.default.PropTypes.string,\n\n    /**\n     * A css class or set of classes applied to the modal container when the modal is open,\n     * and removed when it is closed.\n     */\n    containerClassName: _react2.default.PropTypes.string,\n\n    /**\n     * Close the modal when escape key is pressed\n     */\n    keyboard: _react2.default.PropTypes.bool,\n\n    /**\n     * A `<Transition/>` component to use for the dialog and backdrop components.\n     */\n    transition: _elementType2.default,\n\n    /**\n     * The `timeout` of the dialog transition if specified. This number is used to ensure that\n     * transition callbacks are always fired, even if browser transition events are canceled.\n     *\n     * See the Transition `timeout` prop for more infomation.\n     */\n    dialogTransitionTimeout: _react2.default.PropTypes.number,\n\n    /**\n     * The `timeout` of the backdrop transition if specified. This number is used to\n     * ensure that transition callbacks are always fired, even if browser transition events are canceled.\n     *\n     * See the Transition `timeout` prop for more infomation.\n     */\n    backdropTransitionTimeout: _react2.default.PropTypes.number,\n\n    /**\n     * When `true` The modal will automatically shift focus to itself when it opens, and\n     * replace it to the last focused element when it closes. This also\n     * works correctly with any Modal children that have the `autoFocus` prop.\n     *\n     * Generally this should never be set to `false` as it makes the Modal less\n     * accessible to assistive technologies, like screen readers.\n     */\n    autoFocus: _react2.default.PropTypes.bool,\n\n    /**\n     * When `true` The modal will prevent focus from leaving the Modal while open.\n     *\n     * Generally this should never be set to `false` as it makes the Modal less\n     * accessible to assistive technologies, like screen readers.\n     */\n    enforceFocus: _react2.default.PropTypes.bool,\n\n    /**\n     * Callback fired before the Modal transitions in\n     */\n    onEnter: _react2.default.PropTypes.func,\n\n    /**\n     * Callback fired as the Modal begins to transition in\n     */\n    onEntering: _react2.default.PropTypes.func,\n\n    /**\n     * Callback fired after the Modal finishes transitioning in\n     */\n    onEntered: _react2.default.PropTypes.func,\n\n    /**\n     * Callback fired right before the Modal transitions out\n     */\n    onExit: _react2.default.PropTypes.func,\n\n    /**\n     * Callback fired as the Modal begins to transition out\n     */\n    onExiting: _react2.default.PropTypes.func,\n\n    /**\n     * Callback fired after the Modal finishes transitioning out\n     */\n    onExited: _react2.default.PropTypes.func,\n\n    /**\n     * A ModalManager instance used to track and manage the state of open\n     * Modals. Useful when customizing how modals interact within a container\n     */\n    manager: _react2.default.PropTypes.object.isRequired\n  }),\n\n  getDefaultProps: function getDefaultProps() {\n    var noop = function noop() {};\n\n    return {\n      show: false,\n      backdrop: true,\n      keyboard: true,\n      autoFocus: true,\n      enforceFocus: true,\n      onHide: noop,\n      manager: modalManager,\n      renderBackdrop: function renderBackdrop(props) {\n        return _react2.default.createElement('div', props);\n      }\n    };\n  },\n  getInitialState: function getInitialState() {\n    return { exited: !this.props.show };\n  },\n  render: function render() {\n    var _props = this.props;\n    var show = _props.show;\n    var container = _props.container;\n    var children = _props.children;\n    var Transition = _props.transition;\n    var backdrop = _props.backdrop;\n    var dialogTransitionTimeout = _props.dialogTransitionTimeout;\n    var className = _props.className;\n    var style = _props.style;\n    var onExit = _props.onExit;\n    var onExiting = _props.onExiting;\n    var onEnter = _props.onEnter;\n    var onEntering = _props.onEntering;\n    var onEntered = _props.onEntered;\n\n\n    var dialog = _react2.default.Children.only(children);\n\n    var mountModal = show || Transition && !this.state.exited;\n    if (!mountModal) {\n      return null;\n    }\n\n    var _dialog$props = dialog.props;\n    var role = _dialog$props.role;\n    var tabIndex = _dialog$props.tabIndex;\n\n\n    if (role === undefined || tabIndex === undefined) {\n      dialog = (0, _react.cloneElement)(dialog, {\n        role: role === undefined ? 'document' : role,\n        tabIndex: tabIndex == null ? '-1' : tabIndex\n      });\n    }\n\n    if (Transition) {\n      dialog = _react2.default.createElement(\n        Transition,\n        {\n          transitionAppear: true,\n          unmountOnExit: true,\n          'in': show,\n          timeout: dialogTransitionTimeout,\n          onExit: onExit,\n          onExiting: onExiting,\n          onExited: this.handleHidden,\n          onEnter: onEnter,\n          onEntering: onEntering,\n          onEntered: onEntered\n        },\n        dialog\n      );\n    }\n\n    return _react2.default.createElement(\n      _Portal2.default,\n      {\n        ref: this.setMountNode,\n        container: container\n      },\n      _react2.default.createElement(\n        'div',\n        {\n          ref: 'modal',\n          role: role || 'dialog',\n          style: style,\n          className: className\n        },\n        backdrop && this.renderBackdrop(),\n        dialog\n      )\n    );\n  },\n  renderBackdrop: function renderBackdrop() {\n    var _this = this;\n\n    var _props2 = this.props;\n    var backdropStyle = _props2.backdropStyle;\n    var backdropClassName = _props2.backdropClassName;\n    var renderBackdrop = _props2.renderBackdrop;\n    var Transition = _props2.transition;\n    var backdropTransitionTimeout = _props2.backdropTransitionTimeout;\n\n\n    var backdropRef = function backdropRef(ref) {\n      return _this.backdrop = ref;\n    };\n\n    var backdrop = _react2.default.createElement('div', {\n      ref: backdropRef,\n      style: this.props.backdropStyle,\n      className: this.props.backdropClassName,\n      onClick: this.handleBackdropClick\n    });\n\n    if (Transition) {\n      backdrop = _react2.default.createElement(\n        Transition,\n        { transitionAppear: true,\n          'in': this.props.show,\n          timeout: backdropTransitionTimeout\n        },\n        renderBackdrop({\n          ref: backdropRef,\n          style: backdropStyle,\n          className: backdropClassName,\n          onClick: this.handleBackdropClick\n        })\n      );\n    }\n\n    return backdrop;\n  },\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    if (nextProps.show) {\n      this.setState({ exited: false });\n    } else if (!nextProps.transition) {\n      // Otherwise let handleHidden take care of marking exited.\n      this.setState({ exited: true });\n    }\n  },\n  componentWillUpdate: function componentWillUpdate(nextProps) {\n    if (!this.props.show && nextProps.show) {\n      this.checkForFocus();\n    }\n  },\n  componentDidMount: function componentDidMount() {\n    if (this.props.show) {\n      this.onShow();\n    }\n  },\n  componentDidUpdate: function componentDidUpdate(prevProps) {\n    var transition = this.props.transition;\n\n\n    if (prevProps.show && !this.props.show && !transition) {\n      // Otherwise handleHidden will call this.\n      this.onHide();\n    } else if (!prevProps.show && this.props.show) {\n      this.onShow();\n    }\n  },\n  componentWillUnmount: function componentWillUnmount() {\n    var _props3 = this.props;\n    var show = _props3.show;\n    var transition = _props3.transition;\n\n\n    if (show || transition && !this.state.exited) {\n      this.onHide();\n    }\n  },\n  onShow: function onShow() {\n    var doc = (0, _ownerDocument2.default)(this);\n    var container = (0, _getContainer2.default)(this.props.container, doc.body);\n\n    this.props.manager.add(this, container, this.props.containerClassName);\n\n    this._onDocumentKeyupListener = (0, _addEventListener2.default)(doc, 'keyup', this.handleDocumentKeyUp);\n\n    this._onFocusinListener = (0, _addFocusListener2.default)(this.enforceFocus);\n\n    this.focus();\n\n    if (this.props.onShow) {\n      this.props.onShow();\n    }\n  },\n  onHide: function onHide() {\n    this.props.manager.remove(this);\n\n    this._onDocumentKeyupListener.remove();\n\n    this._onFocusinListener.remove();\n\n    this.restoreLastFocus();\n  },\n  setMountNode: function setMountNode(ref) {\n    this.mountNode = ref ? ref.getMountNode() : ref;\n  },\n  handleHidden: function handleHidden() {\n    this.setState({ exited: true });\n    this.onHide();\n\n    if (this.props.onExited) {\n      var _props4;\n\n      (_props4 = this.props).onExited.apply(_props4, arguments);\n    }\n  },\n  handleBackdropClick: function handleBackdropClick(e) {\n    if (e.target !== e.currentTarget) {\n      return;\n    }\n\n    if (this.props.onBackdropClick) {\n      this.props.onBackdropClick(e);\n    }\n\n    if (this.props.backdrop === true) {\n      this.props.onHide();\n    }\n  },\n  handleDocumentKeyUp: function handleDocumentKeyUp(e) {\n    if (this.props.keyboard && e.keyCode === 27 && this.isTopModal()) {\n      if (this.props.onEscapeKeyUp) {\n        this.props.onEscapeKeyUp(e);\n      }\n      this.props.onHide();\n    }\n  },\n  checkForFocus: function checkForFocus() {\n    if (_inDOM2.default) {\n      this.lastFocus = (0, _activeElement2.default)();\n    }\n  },\n  focus: function focus() {\n    var autoFocus = this.props.autoFocus;\n    var modalContent = this.getDialogElement();\n    var current = (0, _activeElement2.default)((0, _ownerDocument2.default)(this));\n    var focusInModal = current && (0, _contains2.default)(modalContent, current);\n\n    if (modalContent && autoFocus && !focusInModal) {\n      this.lastFocus = current;\n\n      if (!modalContent.hasAttribute('tabIndex')) {\n        modalContent.setAttribute('tabIndex', -1);\n        (0, _warning2.default)(false, 'The modal content node does not accept focus. ' + 'For the benefit of assistive technologies, the tabIndex of the node is being set to \"-1\".');\n      }\n\n      modalContent.focus();\n    }\n  },\n  restoreLastFocus: function restoreLastFocus() {\n    // Support: <=IE11 doesn't support `focus()` on svg elements (RB: #917)\n    if (this.lastFocus && this.lastFocus.focus) {\n      this.lastFocus.focus();\n      this.lastFocus = null;\n    }\n  },\n  enforceFocus: function enforceFocus() {\n    var enforceFocus = this.props.enforceFocus;\n\n\n    if (!enforceFocus || !this.isMounted() || !this.isTopModal()) {\n      return;\n    }\n\n    var active = (0, _activeElement2.default)((0, _ownerDocument2.default)(this));\n    var modal = this.getDialogElement();\n\n    if (modal && modal !== active && !(0, _contains2.default)(modal, active)) {\n      modal.focus();\n    }\n  },\n\n\n  //instead of a ref, which might conflict with one the parent applied.\n  getDialogElement: function getDialogElement() {\n    var node = this.refs.modal;\n    return node && node.lastChild;\n  },\n  isTopModal: function isTopModal() {\n    return this.props.manager.isTopModal(this);\n  }\n});\n\nModal.Manager = _ModalManager2.default;\n\nexports.default = Modal;\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/react-overlays/lib/Modal.js\n// module id = 3525\n// module chunks = 2 7","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _style = require('dom-helpers/style');\n\nvar _style2 = _interopRequireDefault(_style);\n\nvar _class = require('dom-helpers/class');\n\nvar _class2 = _interopRequireDefault(_class);\n\nvar _scrollbarSize = require('dom-helpers/util/scrollbarSize');\n\nvar _scrollbarSize2 = _interopRequireDefault(_scrollbarSize);\n\nvar _isOverflowing = require('./utils/isOverflowing');\n\nvar _isOverflowing2 = _interopRequireDefault(_isOverflowing);\n\nvar _manageAriaHidden = require('./utils/manageAriaHidden');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction findIndexOf(arr, cb) {\n  var idx = -1;\n  arr.some(function (d, i) {\n    if (cb(d, i)) {\n      idx = i;\n      return true;\n    }\n  });\n  return idx;\n}\n\nfunction findContainer(data, modal) {\n  return findIndexOf(data, function (d) {\n    return d.modals.indexOf(modal) !== -1;\n  });\n}\n\nfunction setContainerStyle(state, container) {\n  var style = { overflow: 'hidden' };\n\n  // we are only interested in the actual `style` here\n  // becasue we will override it\n  state.style = {\n    overflow: container.style.overflow,\n    paddingRight: container.style.paddingRight\n  };\n\n  if (state.overflowing) {\n    // use computed style, here to get the real padding\n    // to add our scrollbar width\n    style.paddingRight = parseInt((0, _style2.default)(container, 'paddingRight') || 0, 10) + (0, _scrollbarSize2.default)() + 'px';\n  }\n\n  (0, _style2.default)(container, style);\n}\n\nfunction removeContainerStyle(_ref, container) {\n  var style = _ref.style;\n\n\n  Object.keys(style).forEach(function (key) {\n    return container.style[key] = style[key];\n  });\n}\n/**\n * Proper state managment for containers and the modals in those containers.\n *\n * @internal Used by the Modal to ensure proper styling of containers.\n */\n\nvar ModalManager = function () {\n  function ModalManager() {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var _ref2$hideSiblingNode = _ref2.hideSiblingNodes;\n    var hideSiblingNodes = _ref2$hideSiblingNode === undefined ? true : _ref2$hideSiblingNode;\n    var _ref2$handleContainer = _ref2.handleContainerOverflow;\n    var handleContainerOverflow = _ref2$handleContainer === undefined ? true : _ref2$handleContainer;\n\n    _classCallCheck(this, ModalManager);\n\n    this.hideSiblingNodes = hideSiblingNodes;\n    this.handleContainerOverflow = handleContainerOverflow;\n    this.modals = [];\n    this.containers = [];\n    this.data = [];\n  }\n\n  _createClass(ModalManager, [{\n    key: 'add',\n    value: function add(modal, container, className) {\n      var modalIdx = this.modals.indexOf(modal);\n      var containerIdx = this.containers.indexOf(container);\n\n      if (modalIdx !== -1) {\n        return modalIdx;\n      }\n\n      modalIdx = this.modals.length;\n      this.modals.push(modal);\n\n      if (this.hideSiblingNodes) {\n        (0, _manageAriaHidden.hideSiblings)(container, modal.mountNode);\n      }\n\n      if (containerIdx !== -1) {\n        this.data[containerIdx].modals.push(modal);\n        return modalIdx;\n      }\n\n      var data = {\n        modals: [modal],\n        //right now only the first modal of a container will have its classes applied\n        classes: className ? className.split(/\\s+/) : [],\n\n        overflowing: (0, _isOverflowing2.default)(container)\n      };\n\n      if (this.handleContainerOverflow) {\n        setContainerStyle(data, container);\n      }\n\n      data.classes.forEach(_class2.default.addClass.bind(null, container));\n\n      this.containers.push(container);\n      this.data.push(data);\n\n      return modalIdx;\n    }\n  }, {\n    key: 'remove',\n    value: function remove(modal) {\n      var modalIdx = this.modals.indexOf(modal);\n\n      if (modalIdx === -1) {\n        return;\n      }\n\n      var containerIdx = findContainer(this.data, modal);\n      var data = this.data[containerIdx];\n      var container = this.containers[containerIdx];\n\n      data.modals.splice(data.modals.indexOf(modal), 1);\n\n      this.modals.splice(modalIdx, 1);\n\n      // if that was the last modal in a container,\n      // clean up the container\n      if (data.modals.length === 0) {\n        data.classes.forEach(_class2.default.removeClass.bind(null, container));\n\n        if (this.handleContainerOverflow) {\n          removeContainerStyle(data, container);\n        }\n\n        if (this.hideSiblingNodes) {\n          (0, _manageAriaHidden.showSiblings)(container, modal.mountNode);\n        }\n        this.containers.splice(containerIdx, 1);\n        this.data.splice(containerIdx, 1);\n      } else if (this.hideSiblingNodes) {\n        //otherwise make sure the next top modal is visible to a SR\n        (0, _manageAriaHidden.ariaHidden)(false, data.modals[data.modals.length - 1].mountNode);\n      }\n    }\n  }, {\n    key: 'isTopModal',\n    value: function isTopModal(modal) {\n      return !!this.modals.length && this.modals[this.modals.length - 1] === modal;\n    }\n  }]);\n\n  return ModalManager;\n}();\n\nexports.default = ModalManager;\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/react-overlays/lib/ModalManager.js\n// module id = 3530\n// module chunks = 2 7","'use strict';\n\nmodule.exports = {\n  addClass: require('./addClass'),\n  removeClass: require('./removeClass'),\n  hasClass: require('./hasClass')\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/dom-helpers/class/index.js\n// module id = 3539\n// module chunks = 2 7","'use strict';\nvar hasClass = require('./hasClass');\n\nmodule.exports = function addClass(element, className) {\n  if (element.classList) element.classList.add(className);else if (!hasClass(element)) element.className = element.className + ' ' + className;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/dom-helpers/class/addClass.js\n// module id = 3540\n// module chunks = 2 7","'use strict';\nmodule.exports = function hasClass(element, className) {\n  if (element.classList) return !!className && element.classList.contains(className);else return (' ' + element.className + ' ').indexOf(' ' + className + ' ') !== -1;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/dom-helpers/class/hasClass.js\n// module id = 3541\n// module chunks = 2 7","'use strict';\n\nmodule.exports = function getWindow(node) {\n  return node === node.window ? node : node.nodeType === 9 ? node.defaultView || node.parentWindow : false;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/dom-helpers/query/isWindow.js\n// module id = 3544\n// module chunks = 2 7","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ariaHidden = ariaHidden;\nexports.hideSiblings = hideSiblings;\nexports.showSiblings = showSiblings;\n\nvar BLACKLIST = ['template', 'script', 'style'];\n\nvar isHidable = function isHidable(_ref) {\n  var nodeType = _ref.nodeType;\n  var tagName = _ref.tagName;\n  return nodeType === 1 && BLACKLIST.indexOf(tagName.toLowerCase()) === -1;\n};\n\nvar siblings = function siblings(container, mount, cb) {\n  mount = [].concat(mount);\n\n  [].forEach.call(container.children, function (node) {\n    if (mount.indexOf(node) === -1 && isHidable(node)) {\n      cb(node);\n    }\n  });\n};\n\nfunction ariaHidden(show, node) {\n  if (!node) {\n    return;\n  }\n  if (show) {\n    node.setAttribute('aria-hidden', 'true');\n  } else {\n    node.removeAttribute('aria-hidden');\n  }\n}\n\nfunction hideSiblings(container, mountNode) {\n  siblings(container, mountNode, function (node) {\n    return ariaHidden(true, node);\n  });\n}\n\nfunction showSiblings(container, mountNode) {\n  siblings(container, mountNode, function (node) {\n    return ariaHidden(false, node);\n  });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/react-overlays/lib/utils/manageAriaHidden.js\n// module id = 3545\n// module chunks = 2 7","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EXITING = exports.ENTERED = exports.ENTERING = exports.EXITED = exports.UNMOUNTED = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _properties = require('dom-helpers/transition/properties');\n\nvar _properties2 = _interopRequireDefault(_properties);\n\nvar _on = require('dom-helpers/events/on');\n\nvar _on2 = _interopRequireDefault(_on);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar transitionEndEvent = _properties2.default.end;\n\nvar UNMOUNTED = exports.UNMOUNTED = 0;\nvar EXITED = exports.EXITED = 1;\nvar ENTERING = exports.ENTERING = 2;\nvar ENTERED = exports.ENTERED = 3;\nvar EXITING = exports.EXITING = 4;\n\n/**\n * The Transition component lets you define and run css transitions with a simple declarative api.\n * It works similar to React's own [CSSTransitionGroup](http://facebook.github.io/react/docs/animation.html#high-level-api-reactcsstransitiongroup)\n * but is specifically optimized for transitioning a single child \"in\" or \"out\".\n *\n * You don't even need to use class based css transitions if you don't want to (but it is easiest).\n * The extensive set of lifecyle callbacks means you have control over\n * the transitioning now at each step of the way.\n */\n\nvar Transition = function (_React$Component) {\n  _inherits(Transition, _React$Component);\n\n  function Transition(props, context) {\n    _classCallCheck(this, Transition);\n\n    var _this = _possibleConstructorReturn(this, (Transition.__proto__ || Object.getPrototypeOf(Transition)).call(this, props, context));\n\n    var initialStatus = void 0;\n    if (props.in) {\n      // Start enter transition in componentDidMount.\n      initialStatus = props.transitionAppear ? EXITED : ENTERED;\n    } else {\n      initialStatus = props.unmountOnExit ? UNMOUNTED : EXITED;\n    }\n    _this.state = { status: initialStatus };\n\n    _this.nextCallback = null;\n    return _this;\n  }\n\n  _createClass(Transition, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      if (this.props.transitionAppear && this.props.in) {\n        this.performEnter(this.props);\n      }\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.in && this.props.unmountOnExit) {\n        if (this.state.status === UNMOUNTED) {\n          // Start enter transition in componentDidUpdate.\n          this.setState({ status: EXITED });\n        }\n      } else {\n        this._needsUpdate = true;\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      var status = this.state.status;\n\n      if (this.props.unmountOnExit && status === EXITED) {\n        // EXITED is always a transitional state to either ENTERING or UNMOUNTED\n        // when using unmountOnExit.\n        if (this.props.in) {\n          this.performEnter(this.props);\n        } else {\n          this.setState({ status: UNMOUNTED });\n        }\n\n        return;\n      }\n\n      // guard ensures we are only responding to prop changes\n      if (this._needsUpdate) {\n        this._needsUpdate = false;\n\n        if (this.props.in) {\n          if (status === EXITING) {\n            this.performEnter(this.props);\n          } else if (status === EXITED) {\n            this.performEnter(this.props);\n          }\n          // Otherwise we're already entering or entered.\n        } else {\n          if (status === ENTERING || status === ENTERED) {\n            this.performExit(this.props);\n          }\n          // Otherwise we're already exited or exiting.\n        }\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.cancelNextCallback();\n    }\n  }, {\n    key: 'performEnter',\n    value: function performEnter(props) {\n      var _this2 = this;\n\n      this.cancelNextCallback();\n      var node = _reactDom2.default.findDOMNode(this);\n\n      // Not this.props, because we might be about to receive new props.\n      props.onEnter(node);\n\n      this.safeSetState({ status: ENTERING }, function () {\n        _this2.props.onEntering(node);\n\n        _this2.onTransitionEnd(node, function () {\n          _this2.safeSetState({ status: ENTERED }, function () {\n            _this2.props.onEntered(node);\n          });\n        });\n      });\n    }\n  }, {\n    key: 'performExit',\n    value: function performExit(props) {\n      var _this3 = this;\n\n      this.cancelNextCallback();\n      var node = _reactDom2.default.findDOMNode(this);\n\n      // Not this.props, because we might be about to receive new props.\n      props.onExit(node);\n\n      this.safeSetState({ status: EXITING }, function () {\n        _this3.props.onExiting(node);\n\n        _this3.onTransitionEnd(node, function () {\n          _this3.safeSetState({ status: EXITED }, function () {\n            _this3.props.onExited(node);\n          });\n        });\n      });\n    }\n  }, {\n    key: 'cancelNextCallback',\n    value: function cancelNextCallback() {\n      if (this.nextCallback !== null) {\n        this.nextCallback.cancel();\n        this.nextCallback = null;\n      }\n    }\n  }, {\n    key: 'safeSetState',\n    value: function safeSetState(nextState, callback) {\n      // This shouldn't be necessary, but there are weird race conditions with\n      // setState callbacks and unmounting in testing, so always make sure that\n      // we can cancel any pending setState callbacks after we unmount.\n      this.setState(nextState, this.setNextCallback(callback));\n    }\n  }, {\n    key: 'setNextCallback',\n    value: function setNextCallback(callback) {\n      var _this4 = this;\n\n      var active = true;\n\n      this.nextCallback = function (event) {\n        if (active) {\n          active = false;\n          _this4.nextCallback = null;\n\n          callback(event);\n        }\n      };\n\n      this.nextCallback.cancel = function () {\n        active = false;\n      };\n\n      return this.nextCallback;\n    }\n  }, {\n    key: 'onTransitionEnd',\n    value: function onTransitionEnd(node, handler) {\n      this.setNextCallback(handler);\n\n      if (node) {\n        (0, _on2.default)(node, transitionEndEvent, this.nextCallback);\n        setTimeout(this.nextCallback, this.props.timeout);\n      } else {\n        setTimeout(this.nextCallback, 0);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var status = this.state.status;\n      if (status === UNMOUNTED) {\n        return null;\n      }\n\n      var _props = this.props;\n      var children = _props.children;\n      var className = _props.className;\n\n      var childProps = _objectWithoutProperties(_props, ['children', 'className']);\n\n      Object.keys(Transition.propTypes).forEach(function (key) {\n        return delete childProps[key];\n      });\n\n      var transitionClassName = void 0;\n      if (status === EXITED) {\n        transitionClassName = this.props.exitedClassName;\n      } else if (status === ENTERING) {\n        transitionClassName = this.props.enteringClassName;\n      } else if (status === ENTERED) {\n        transitionClassName = this.props.enteredClassName;\n      } else if (status === EXITING) {\n        transitionClassName = this.props.exitingClassName;\n      }\n\n      var child = _react2.default.Children.only(children);\n      return _react2.default.cloneElement(child, _extends({}, childProps, {\n        className: (0, _classnames2.default)(child.props.className, className, transitionClassName)\n      }));\n    }\n  }]);\n\n  return Transition;\n}(_react2.default.Component);\n\nTransition.propTypes = {\n  /**\n   * Show the component; triggers the enter or exit animation\n   */\n  in: _react2.default.PropTypes.bool,\n\n  /**\n   * Unmount the component (remove it from the DOM) when it is not shown\n   */\n  unmountOnExit: _react2.default.PropTypes.bool,\n\n  /**\n   * Run the enter animation when the component mounts, if it is initially\n   * shown\n   */\n  transitionAppear: _react2.default.PropTypes.bool,\n\n  /**\n   * A Timeout for the animation, in milliseconds, to ensure that a node doesn't\n   * transition indefinately if the browser transitionEnd events are\n   * canceled or interrupted.\n   *\n   * By default this is set to a high number (5 seconds) as a failsafe. You should consider\n   * setting this to the duration of your animation (or a bit above it).\n   */\n  timeout: _react2.default.PropTypes.number,\n\n  /**\n   * CSS class or classes applied when the component is exited\n   */\n  exitedClassName: _react2.default.PropTypes.string,\n  /**\n   * CSS class or classes applied while the component is exiting\n   */\n  exitingClassName: _react2.default.PropTypes.string,\n  /**\n   * CSS class or classes applied when the component is entered\n   */\n  enteredClassName: _react2.default.PropTypes.string,\n  /**\n   * CSS class or classes applied while the component is entering\n   */\n  enteringClassName: _react2.default.PropTypes.string,\n\n  /**\n   * Callback fired before the \"entering\" classes are applied\n   */\n  onEnter: _react2.default.PropTypes.func,\n  /**\n   * Callback fired after the \"entering\" classes are applied\n   */\n  onEntering: _react2.default.PropTypes.func,\n  /**\n   * Callback fired after the \"enter\" classes are applied\n   */\n  onEntered: _react2.default.PropTypes.func,\n  /**\n   * Callback fired before the \"exiting\" classes are applied\n   */\n  onExit: _react2.default.PropTypes.func,\n  /**\n   * Callback fired after the \"exiting\" classes are applied\n   */\n  onExiting: _react2.default.PropTypes.func,\n  /**\n   * Callback fired after the \"exited\" classes are applied\n   */\n  onExited: _react2.default.PropTypes.func\n};\n\n// Name the function so it is clearer in the documentation\nfunction noop() {}\n\nTransition.displayName = 'Transition';\n\nTransition.defaultProps = {\n  in: false,\n  unmountOnExit: false,\n  transitionAppear: false,\n\n  timeout: 5000,\n\n  onEnter: noop,\n  onEntering: noop,\n  onEntered: noop,\n\n  onExit: noop,\n  onExiting: noop,\n  onExited: noop\n};\n\nexports.default = Transition;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/react-overlays/lib/Transition.js\n// module id = 3550\n// module chunks = 2 7","'use strict';\nvar canUseDOM = require('../util/inDOM');\n\nvar has = Object.prototype.hasOwnProperty,\n    transform = 'transform',\n    transition = {},\n    transitionTiming,\n    transitionDuration,\n    transitionProperty,\n    transitionDelay;\n\nif (canUseDOM) {\n  transition = getTransitionProperties();\n\n  transform = transition.prefix + transform;\n\n  transitionProperty = transition.prefix + 'transition-property';\n  transitionDuration = transition.prefix + 'transition-duration';\n  transitionDelay = transition.prefix + 'transition-delay';\n  transitionTiming = transition.prefix + 'transition-timing-function';\n}\n\nmodule.exports = {\n  transform: transform,\n  end: transition.end,\n  property: transitionProperty,\n  timing: transitionTiming,\n  delay: transitionDelay,\n  duration: transitionDuration\n};\n\nfunction getTransitionProperties() {\n  var endEvent,\n      prefix = '',\n      transitions = {\n    O: 'otransitionend',\n    Moz: 'transitionend',\n    Webkit: 'webkitTransitionEnd',\n    ms: 'MSTransitionEnd'\n  };\n\n  var element = document.createElement('div');\n\n  for (var vendor in transitions) if (has.call(transitions, vendor)) {\n    if (element.style[vendor + 'TransitionProperty'] !== undefined) {\n      prefix = '-' + vendor.toLowerCase() + '-';\n      endEvent = transitions[vendor];\n      break;\n    }\n  }\n\n  if (!endEvent && element.style.transitionProperty !== undefined) endEvent = 'transitionend';\n\n  return { end: endEvent, prefix: prefix };\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/dom-helpers/transition/properties.js\n// module id = 3551\n// module chunks = 2 7","const React = require(`react`);\n\nconst BlueprintText = {\n    title: `The Blueprint project Data Reuse statement`,\n    content: (\n        <div>\n            <p>\n                This document refers to the reuse of data generated by the EC funded FP7 High Impact Project,\n                Blueprint.\n            </p>\n            <p>\n                Blueprint regularly released analysis results via its ftp site and makes the raw sequence data\n                available through the sequence archives at the EMBL-EBI. Much Blueprint data is generated from samples\n                whose data must be released through a managed access process. For these data sets external users must\n                apply for permission to access the data from the European Genome-phenome Archive (EGA) through the\n                Blueprint Data Access Committee.\n            </p>\n            <p>\n                The Blueprint consortium expects this data to be valuable to other researchers and in keeping with Fort\n                Lauderdale principles data users may use the data for many studies, but are expected to allow the data\n                producers to make the first presentations and to publish the first paper with global analyses of the\n                data.\n            </p>\n\n            <h4>Global analyses of Project data</h4>\n            <p>\n                Blueprint plans to publish global analyses of the sequencing data, epigenetic marks, expression levels\n                and variation both in the context of normal hematopoietic cells and of those neoplastic and\n                non-neoplastic diseases studied within th econsortium. Talks, posters, and papers on all such analyses\n                are to be published first by the Blueprint project, by approved presenters on behalf of the Project,\n                with the Project as author. When the first major Project paper on these analyses is published, then\n                researchers inside and outside the Project are free to present and publish using the Project data for\n                these and other analyses.\n            </p>\n\n            <h4>Large-scale analyses of Project data</h4>\n            <p>\n                Groups within the Project may make presentations and publish papers on more extensive analyses of\n                topics to be included in the main analysis presentations and papers, coincident with the main project\n                analysis presentations and papers. The major points would be included in the main Project presentations\n                and papers, but these additional presentations and papers allow more focused discussion of methods and\n                results. The author list would include the Consortium.\n            </p>\n\n            <h4>Methods development using Project data</h4>\n            <p>\n                Researchers who have used small amounts of Project data (&lt;= one chromosome) may present methods\n                development posters, talks, and papers that include these data prior to the first major Project paper,\n                without needing Project approval or authorship, although the Project should be acknowledged. Methods\n                presentations or papers on global analyses or analyses using large amounts of Project data, on topics\n                that the Consortium plans to examine, would be similar to large-scale analyses of Project data:\n                researchers within the Project may make presentations or submit papers at the same time as the main\n                Project presentations and papers, and others could do so after the Project publishes the first major\n                analysis paper.\n            </p>\n\n            <h4>Disease studies using Project data</h4>\n            <p>\n                Researchers may present and publish on use of Project data in specific chromosome regions (that are not\n                of general interest) or as summaries (such as number of differentially expressed genes in cell types\n                assayed by Blueprint) for studies on diseases not studied by BLUEPRINT without Project approval, prior\n                to the first major Project paper being published. The Project should not be listed as an author.\n            </p>\n\n            <h4>Authors who use data from the project must acknowledge Blueprint using the following wording</h4>\n            <p>\n                This study makes use of data generated by the Blueprint Consortium. A full list of the investigators\n                who contributed to the generation of the data is available from\n                <a href=\"http://www.blueprint-epigenome.eu\">www.blueprint-epigenome.eu</a>. Funding for the\n                project was provided by the European Union's Seventh Framework Programme (FP7/2007-2013) under grant\n                agreement no 282510  BLUEPRINT.\n            </p>\n        </div>\n    )\n};\n\nconst ZebrafishText = {\n    title: `Data Reuse statement`,\n    content: (\n        <div>\n            <p>\n                This is a pre-publication release in accordance with <a href=\"http://www.sanger.ac.uk/datasharing/\">\n                the Fort Lauderdale Agreement </a>. Feel free to search and download data on your genes of interest.\n            </p>\n            <p>\n                Equally, you can use the dataset to show developmental expression profiles for specific genes in your\n                publications.\n            </p>\n            <p>\n                However, we ask that you refrain from publishing larger scale or genome-wide analyses of this dataset\n                for 12 months from the time of deposition in Expression Atlas or until we have published our\n                transcriptional time-course paper, whichever comes first.\n            </p>\n            <p>\n                For citations in publications before the paper is out please use this link to the Expression Atlas\n                site (<a href=\"https://www.ebi.ac.uk/gxa/experiments/E-ERAD-475\">\n                http://www.ebi.ac.uk/gxa/experiments/E-ERAD-475</a>) and acknowledge us: We would like to thank the\n                Busch-Nentwich lab for providing RNA-seq data.\n            </p>\n        </div>\n    )\n};\n\nmodule.exports = {\"fortLauderdale\": BlueprintText, \"zebrafish\": ZebrafishText};\n\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/heatmap/~/expression-atlas-download-profiles-button/src/Disclaimers.jsx","/*! modernizr 3.3.1 (Custom Build) | MIT *\n * https://modernizr.com/download/?-csstransforms-setclasses !*/\n!function(e,n,t){function r(e,n){return typeof e===n}function o(){var e,n,t,o,s,i,a;for(var l in C)if(C.hasOwnProperty(l)){if(e=[],n=C[l],n.name&&(e.push(n.name.toLowerCase()),n.options&&n.options.aliases&&n.options.aliases.length))for(t=0;t<n.options.aliases.length;t++)e.push(n.options.aliases[t].toLowerCase());for(o=r(n.fn,\"function\")?n.fn():n.fn,s=0;s<e.length;s++)i=e[s],a=i.split(\".\"),1===a.length?Modernizr[a[0]]=o:(!Modernizr[a[0]]||Modernizr[a[0]]instanceof Boolean||(Modernizr[a[0]]=new Boolean(Modernizr[a[0]])),Modernizr[a[0]][a[1]]=o),g.push((o?\"\":\"no-\")+a.join(\"-\"))}}function s(e){var n=_.className,t=Modernizr._config.classPrefix||\"\";if(S&&(n=n.baseVal),Modernizr._config.enableJSClass){var r=new RegExp(\"(^|\\\\s)\"+t+\"no-js(\\\\s|$)\");n=n.replace(r,\"$1\"+t+\"js$2\")}Modernizr._config.enableClasses&&(n+=\" \"+t+e.join(\" \"+t),S?_.className.baseVal=n:_.className=n)}function i(e,n){return!!~(\"\"+e).indexOf(n)}function a(){return\"function\"!=typeof n.createElement?n.createElement(arguments[0]):S?n.createElementNS.call(n,\"http://www.w3.org/2000/svg\",arguments[0]):n.createElement.apply(n,arguments)}function l(e){return e.replace(/([a-z])-([a-z])/g,function(e,n,t){return n+t.toUpperCase()}).replace(/^-/,\"\")}function f(e,n){return function(){return e.apply(n,arguments)}}function u(e,n,t){var o;for(var s in e)if(e[s]in n)return t===!1?e[s]:(o=n[e[s]],r(o,\"function\")?f(o,t||n):o);return!1}function d(e){return e.replace(/([A-Z])/g,function(e,n){return\"-\"+n.toLowerCase()}).replace(/^ms-/,\"-ms-\")}function c(){var e=n.body;return e||(e=a(S?\"svg\":\"body\"),e.fake=!0),e}function p(e,t,r,o){var s,i,l,f,u=\"modernizr\",d=a(\"div\"),p=c();if(parseInt(r,10))for(;r--;)l=a(\"div\"),l.id=o?o[r]:u+(r+1),d.appendChild(l);return s=a(\"style\"),s.type=\"text/css\",s.id=\"s\"+u,(p.fake?p:d).appendChild(s),p.appendChild(d),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(n.createTextNode(e)),d.id=u,p.fake&&(p.style.background=\"\",p.style.overflow=\"hidden\",f=_.style.overflow,_.style.overflow=\"hidden\",_.appendChild(p)),i=t(d,e),p.fake?(p.parentNode.removeChild(p),_.style.overflow=f,_.offsetHeight):d.parentNode.removeChild(d),!!i}function m(n,r){var o=n.length;if(\"CSS\"in e&&\"supports\"in e.CSS){for(;o--;)if(e.CSS.supports(d(n[o]),r))return!0;return!1}if(\"CSSSupportsRule\"in e){for(var s=[];o--;)s.push(\"(\"+d(n[o])+\":\"+r+\")\");return s=s.join(\" or \"),p(\"@supports (\"+s+\") { #modernizr { position: absolute; } }\",function(e){return\"absolute\"==getComputedStyle(e,null).position})}return t}function h(e,n,o,s){function f(){d&&(delete z.style,delete z.modElem)}if(s=r(s,\"undefined\")?!1:s,!r(o,\"undefined\")){var u=m(e,o);if(!r(u,\"undefined\"))return u}for(var d,c,p,h,v,y=[\"modernizr\",\"tspan\",\"samp\"];!z.style&&y.length;)d=!0,z.modElem=a(y.shift()),z.style=z.modElem.style;for(p=e.length,c=0;p>c;c++)if(h=e[c],v=z.style[h],i(h,\"-\")&&(h=l(h)),z.style[h]!==t){if(s||r(o,\"undefined\"))return f(),\"pfx\"==n?h:!0;try{z.style[h]=o}catch(g){}if(z.style[h]!=v)return f(),\"pfx\"==n?h:!0}return f(),!1}function v(e,n,t,o,s){var i=e.charAt(0).toUpperCase()+e.slice(1),a=(e+\" \"+b.join(i+\" \")+i).split(\" \");return r(n,\"string\")||r(n,\"undefined\")?h(a,n,o,s):(a=(e+\" \"+E.join(i+\" \")+i).split(\" \"),u(a,n,t))}function y(e,n,r){return v(e,t,t,n,r)}var g=[],C=[],w={_version:\"3.3.1\",_config:{classPrefix:\"\",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,n){var t=this;setTimeout(function(){n(t[e])},0)},addTest:function(e,n,t){C.push({name:e,fn:n,options:t})},addAsyncTest:function(e){C.push({name:null,fn:e})}},Modernizr=function(){};Modernizr.prototype=w,Modernizr=new Modernizr;var _=n.documentElement,S=\"svg\"===_.nodeName.toLowerCase(),x=\"Moz O ms Webkit\",b=w._config.usePrefixes?x.split(\" \"):[];w._cssomPrefixes=b;var E=w._config.usePrefixes?x.toLowerCase().split(\" \"):[];w._domPrefixes=E;var P={elem:a(\"modernizr\")};Modernizr._q.push(function(){delete P.elem});var z={style:P.elem.style};Modernizr._q.unshift(function(){delete z.style}),w.testAllProps=v,w.testAllProps=y,Modernizr.addTest(\"csstransforms\",function(){return-1===navigator.userAgent.indexOf(\"Android 2.\")&&y(\"transform\",\"scale(1)\",!0)}),o(),s(g),delete w.addTest,delete w.addAsyncTest;for(var N=0;N<Modernizr._q.length;N++)Modernizr._q[N]();e.Modernizr=Modernizr}(window,document);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/atlas-modernizr/modernizr-csstransforms.min.js\n// module id = 3563\n// module chunks = 2 7","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../../css-loader/index.js!./jquery.fancybox.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../../css-loader/index.js!./jquery.fancybox.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../../css-loader/index.js!./jquery.fancybox.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/fancybox/dist/css/jquery.fancybox.css\n// module id = 3565\n// module chunks = 2 7","exports = module.exports = require(\"./../../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/*! fancyBox v2.1.5 fancyapps.com | fancyapps.com/fancybox/#license */\\n.fancybox-wrap, .fancybox-skin, .fancybox-outer, .fancybox-inner, .fancybox-image, .fancybox-wrap iframe, .fancybox-wrap object, .fancybox-nav, .fancybox-nav span, .fancybox-tmp {\\n  padding: 0;\\n  margin: 0;\\n  border: 0;\\n  outline: none;\\n  vertical-align: top; }\\n\\n.fancybox-wrap {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  z-index: 8020; }\\n\\n.fancybox-skin {\\n  position: relative;\\n  background: #f9f9f9;\\n  color: #444;\\n  text-shadow: none;\\n  -webkit-border-radius: 4px;\\n  -moz-border-radius: 4px;\\n  border-radius: 4px; }\\n\\n.fancybox-opened {\\n  z-index: 8030; }\\n\\n.fancybox-opened .fancybox-skin {\\n  -webkit-box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);\\n  -moz-box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);\\n  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5); }\\n\\n.fancybox-outer, .fancybox-inner {\\n  position: relative; }\\n\\n.fancybox-inner {\\n  overflow: hidden; }\\n\\n.fancybox-type-iframe .fancybox-inner {\\n  -webkit-overflow-scrolling: touch; }\\n\\n.fancybox-error {\\n  color: #444;\\n  font: 14px/20px \\\"Helvetica Neue\\\", Helvetica, Arial, sans-serif;\\n  margin: 0;\\n  padding: 15px;\\n  white-space: nowrap; }\\n\\n.fancybox-image, .fancybox-iframe {\\n  display: block;\\n  width: 100%;\\n  height: 100%; }\\n\\n.fancybox-image {\\n  max-width: 100%;\\n  max-height: 100%; }\\n\\n#fancybox-loading, .fancybox-close, .fancybox-prev span, .fancybox-next span {\\n  background-image: url(\" + require(\"../img/fancybox_sprite.png\") + \"); }\\n\\n#fancybox-loading {\\n  position: fixed;\\n  top: 50%;\\n  left: 50%;\\n  margin-top: -22px;\\n  margin-left: -22px;\\n  background-position: 0 -108px;\\n  opacity: 0.8;\\n  cursor: pointer;\\n  z-index: 8060; }\\n\\n#fancybox-loading div {\\n  width: 44px;\\n  height: 44px;\\n  background: url(\" + require(\"../img/fancybox_loading.gif\") + \") center center no-repeat; }\\n\\n.fancybox-close {\\n  position: absolute;\\n  top: -18px;\\n  right: -18px;\\n  width: 36px;\\n  height: 36px;\\n  cursor: pointer;\\n  z-index: 8040; }\\n\\n.fancybox-nav {\\n  position: absolute;\\n  top: 0;\\n  width: 40%;\\n  height: 100%;\\n  cursor: pointer;\\n  text-decoration: none;\\n  background: transparent url(\" + require(\"../img/blank.gif\") + \");\\n  /* helps IE */\\n  -webkit-tap-highlight-color: transparent;\\n  z-index: 8040; }\\n\\n.fancybox-prev {\\n  left: 0; }\\n\\n.fancybox-next {\\n  right: 0; }\\n\\n.fancybox-nav span {\\n  position: absolute;\\n  top: 50%;\\n  width: 36px;\\n  height: 34px;\\n  margin-top: -18px;\\n  cursor: pointer;\\n  z-index: 8040;\\n  visibility: hidden; }\\n\\n.fancybox-prev span {\\n  left: 10px;\\n  background-position: 0 -36px; }\\n\\n.fancybox-next span {\\n  right: 10px;\\n  background-position: 0 -72px; }\\n\\n.fancybox-nav:hover span {\\n  visibility: visible; }\\n\\n.fancybox-tmp {\\n  position: absolute;\\n  top: -99999px;\\n  left: -99999px;\\n  max-width: 99999px;\\n  max-height: 99999px;\\n  overflow: visible !important; }\\n\\n/* Overlay helper */\\n.fancybox-lock {\\n  overflow: visible !important;\\n  width: auto; }\\n\\n.fancybox-lock body {\\n  overflow: hidden !important; }\\n\\n.fancybox-lock-test {\\n  overflow-y: hidden !important; }\\n\\n.fancybox-overlay {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  overflow: hidden;\\n  display: none;\\n  z-index: 8010;\\n  background: url(\" + require(\"../img/fancybox_overlay.png\") + \"); }\\n\\n.fancybox-overlay-fixed {\\n  position: fixed;\\n  bottom: 0;\\n  right: 0; }\\n\\n.fancybox-lock .fancybox-overlay {\\n  overflow: auto;\\n  overflow-y: scroll; }\\n\\n/* Title helper */\\n.fancybox-title {\\n  visibility: hidden;\\n  font: normal 13px/20px \\\"Helvetica Neue\\\", Helvetica, Arial, sans-serif;\\n  position: relative;\\n  text-shadow: none;\\n  z-index: 8050; }\\n\\n.fancybox-opened .fancybox-title {\\n  visibility: visible; }\\n\\n.fancybox-title-float-wrap {\\n  position: absolute;\\n  bottom: 0;\\n  right: 50%;\\n  margin-bottom: -35px;\\n  z-index: 8050;\\n  text-align: center; }\\n\\n.fancybox-title-float-wrap .child {\\n  display: inline-block;\\n  margin-right: -100%;\\n  padding: 2px 20px;\\n  background: transparent;\\n  /* Fallback for web browsers that doesn't support RGBa */\\n  background: rgba(0, 0, 0, 0.8);\\n  -webkit-border-radius: 15px;\\n  -moz-border-radius: 15px;\\n  border-radius: 15px;\\n  text-shadow: 0 1px 2px #222;\\n  color: #FFF;\\n  font-weight: bold;\\n  line-height: 24px;\\n  white-space: nowrap; }\\n\\n.fancybox-title-outside-wrap {\\n  position: relative;\\n  margin-top: 10px;\\n  color: #fff; }\\n\\n.fancybox-title-inside-wrap {\\n  padding-top: 10px; }\\n\\n.fancybox-title-over-wrap {\\n  position: absolute;\\n  bottom: 0;\\n  left: 0;\\n  color: #fff;\\n  padding: 10px;\\n  background: #000;\\n  background: rgba(0, 0, 0, 0.8); }\\n\\n/*Retina graphics!*/\\n@media only screen and (-webkit-min-device-pixel-ratio: 1.5), only screen and (min--moz-device-pixel-ratio: 1.5), only screen and (min-device-pixel-ratio: 1.5) {\\n  #fancybox-loading, .fancybox-close, .fancybox-prev span, .fancybox-next span {\\n    background-image: url(\" + require(\"../img/fancybox_sprite@2x.png\") + \");\\n    background-size: 44px 152px;\\n    /*The size of the normal image, half the size of the hi-res image*/ }\\n  #fancybox-loading div {\\n    background-image: url(\" + require(\"../img/fancybox_loading@2x.gif\") + \");\\n    background-size: 24px 24px;\\n    /*The size of the normal image, half the size of the hi-res image*/ } }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/css-loader!./atlas_bundles/heatmap/~/fancybox/dist/css/jquery.fancybox.css\n// module id = 3566\n// module chunks = 2 7","module.exports = __webpack_public_path__ + \"783d4031fe50c3d83c960911e1fbc705.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/fancybox/dist/img/fancybox_sprite.png\n// module id = 3567\n// module chunks = 2 7","module.exports = __webpack_public_path__ + \"328cc0f6c78211485058d460e80f4fa8.gif\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/fancybox/dist/img/fancybox_loading.gif\n// module id = 3568\n// module chunks = 2 7","module.exports = __webpack_public_path__ + \"325472601571f31e1bf00674c368d335.gif\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/fancybox/dist/img/blank.gif\n// module id = 3569\n// module chunks = 2 7","module.exports = __webpack_public_path__ + \"77aeaa52715b898b73c74d68c630330e.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/fancybox/dist/img/fancybox_overlay.png\n// module id = 3570\n// module chunks = 2 7","module.exports = __webpack_public_path__ + \"ed9970ce22242421e66ff150aa97fe5f.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/fancybox/dist/img/fancybox_sprite@2x.png\n// module id = 3571\n// module chunks = 2 7","module.exports = __webpack_public_path__ + \"f92938639fa894a0e8ded1c3368abe98.gif\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/fancybox/dist/img/fancybox_loading@2x.gif\n// module id = 3572\n// module chunks = 2 7","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../css-loader/index.js!./jquery.toolbar.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../css-loader/index.js!./jquery.toolbar.css\", function() {\n\t\t\tvar newContent = require(\"!!./../css-loader/index.js!./jquery.toolbar.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/jquery-toolbar/jquery.toolbar.css\n// module id = 3574\n// module chunks = 2 7","exports = module.exports = require(\"./../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".btn-toolbar {\\n  background: #364347;\\n  width: 20px;\\n  height: 20px;\\n  text-align: center;\\n  padding: 10px;\\n  border-radius: 6px;\\n  display: block;\\n  transition: none;\\n}\\n.btn-toolbar > i {\\n  color: #02baf2;\\n  font-size: 16px;\\n}\\n.btn-toolbar:hover {\\n  background: #02baf2;\\n  cursor: pointer;\\n}\\n.btn-toolbar:hover > i {\\n  color: white;\\n}\\n.btn-toolbar-primary {\\n  background-color: #009dcd;\\n}\\n.btn-toolbar-primary.pressed {\\n  background-color: #02baf2;\\n}\\n.btn-toolbar-primary:hover {\\n  background-color: #02baf2;\\n}\\n.btn-toolbar-primary > i {\\n  color: white;\\n}\\n.btn-toolbar-danger {\\n  background-color: #cc0000;\\n}\\n.btn-toolbar-danger.pressed {\\n  background-color: #f84545;\\n}\\n.btn-toolbar-danger:hover {\\n  background-color: #f84545;\\n}\\n.btn-toolbar-danger > i {\\n  color: white;\\n}\\n.btn-toolbar-warning {\\n  background-color: #f3bc65;\\n}\\n.btn-toolbar-warning.pressed {\\n  background-color: #fad46b;\\n}\\n.btn-toolbar-warning:hover {\\n  background-color: #fad46b;\\n}\\n.btn-toolbar-warning > i {\\n  color: white;\\n}\\n.btn-toolbar-info {\\n  background-color: #e96300;\\n}\\n.btn-toolbar-info.pressed {\\n  background-color: #f58410;\\n}\\n.btn-toolbar-info:hover {\\n  background-color: #f58410;\\n}\\n.btn-toolbar-info > i {\\n  color: white;\\n}\\n.btn-toolbar-success {\\n  background-color: #28948c;\\n}\\n.btn-toolbar-success.pressed {\\n  background-color: #3eb5ac;\\n}\\n.btn-toolbar-success:hover {\\n  background-color: #3eb5ac;\\n}\\n.btn-toolbar-success > i {\\n  color: white;\\n}\\n.btn-toolbar-info-o {\\n  background-color: #9175bd;\\n}\\n.btn-toolbar-info-o.pressed {\\n  background-color: #a88cd5;\\n}\\n.btn-toolbar-info-o:hover {\\n  background-color: #a88cd5;\\n}\\n.btn-toolbar-info-o > i {\\n  color: white;\\n}\\n.btn-toolbar-light {\\n  background-color: #b2c6cd;\\n}\\n.btn-toolbar-light.pressed {\\n  background-color: #d6e1e5;\\n}\\n.btn-toolbar-light:hover {\\n  background-color: #d6e1e5;\\n}\\n.btn-toolbar-light > i {\\n  color: white;\\n}\\n.btn-toolbar-dark {\\n  background-color: #364347;\\n}\\n.btn-toolbar-dark.pressed {\\n  background-color: #5e696d;\\n}\\n.btn-toolbar-dark:hover {\\n  background-color: #5e696d;\\n}\\n.btn-toolbar-dark > i {\\n  color: white;\\n}\\n.tool-container {\\n  background-color: #5e696d;\\n  background-size: 100% 100%;\\n  border-radius: 6px;\\n  position: absolute;\\n  box-shadow: 0 0 2px grey;\\n}\\n.tool-container.tool-top,\\n.tool-container.tool-bottom {\\n  height: 40px;\\n  border-bottom: 0px solid #beb8b8;\\n}\\n.tool-container.tool-top .tool-item,\\n.tool-container.tool-bottom .tool-item {\\n  float: left;\\n  border-right: 0;\\n  border-left: 0;\\n}\\n.tool-item {\\n  box-sizing: initial;\\n  height: 100%;\\n  display: block;\\n  width: 20px;\\n  height: 20px;\\n  text-align: center;\\n  padding: 10px;\\n  transition: none;\\n}\\n.tool-item > .fa {\\n  color: #b2c6cd;\\n}\\n.tool-item.selected,\\n.tool-item:hover {\\n  background: #02baf2;\\n}\\n.tool-item.selected > .fa,\\n.tool-item:hover > .fa {\\n  color: white;\\n}\\n.tool-top .tool-item:first-child:hover,\\n.tool-bottom .tool-item:first-child:hover {\\n  border-top-left-radius: 6px;\\n  border-bottom-left-radius: 6px;\\n}\\n.tool-top .tool-item:last-child:hover,\\n.tool-bottom .tool-item:last-child:hover {\\n  border-top-right-radius: 6px;\\n  border-bottom-right-radius: 6px;\\n}\\n.tool-vertical-top .tool-item:first-child:hover,\\n.tool-vertical-bottom .tool-item:first-child:hover,\\n.tool-right .tool-item:first-child:hover,\\n.tool-left .tool-item:first-child:hover {\\n  border-top-left-radius: 6px;\\n  border-top-right-radius: 6px;\\n}\\n.tool-vertical-top .tool-item:last-child:hover,\\n.tool-vertical-bottom .tool-item:last-child:hover,\\n.tool-right .tool-item:last-child:hover,\\n.tool-left .tool-item:last-child:hover {\\n  border-bottom-left-radius: 6px;\\n  border-bottom-right-radius: 6px;\\n}\\n.tool-container .arrow {\\n  width: 0;\\n  height: 0;\\n  position: absolute;\\n  border-width: 7px;\\n  border-style: solid;\\n}\\n.tool-container.tool-top .arrow {\\n  border-color: #5e696d transparent transparent;\\n  left: 50%;\\n  bottom: -14px;\\n  margin-left: -7px;\\n}\\n.tool-container.tool-bottom .arrow {\\n  border-color: transparent transparent #5e696d;\\n  left: 50%;\\n  top: -14px;\\n  margin-left: -7px;\\n}\\n.tool-container.tool-left .arrow {\\n  border-color: transparent transparent transparent #5e696d;\\n  top: 50%;\\n  right: -14px;\\n  margin-top: -7px;\\n}\\n.tool-container.tool-right .arrow {\\n  border-color: transparent #5e696d transparent transparent;\\n  top: 50%;\\n  left: -14px;\\n  margin-top: -7px;\\n}\\n.toolbar-primary {\\n  background-color: #02baf2;\\n}\\n.toolbar-primary.tool-top .arrow {\\n  border-color: #02baf2 transparent transparent;\\n}\\n.toolbar-primary.tool-bottom .arrow {\\n  border-color: transparent transparent #02baf2;\\n}\\n.toolbar-primary.tool-left .arrow {\\n  border-color: transparent transparent transparent #02baf2;\\n}\\n.toolbar-primary.tool-right .arrow {\\n  border-color: transparent #02baf2 transparent transparent;\\n}\\n.toolbar-primary .tool-item > .fa {\\n  color: white;\\n}\\n.toolbar-primary .tool-item.selected,\\n.toolbar-primary .tool-item:hover {\\n  background: #009dcd;\\n  color: white;\\n}\\n.toolbar-danger {\\n  background-color: #f84545;\\n}\\n.toolbar-danger.tool-top .arrow {\\n  border-color: #f84545 transparent transparent;\\n}\\n.toolbar-danger.tool-bottom .arrow {\\n  border-color: transparent transparent #f84545;\\n}\\n.toolbar-danger.tool-left .arrow {\\n  border-color: transparent transparent transparent #f84545;\\n}\\n.toolbar-danger.tool-right .arrow {\\n  border-color: transparent #f84545 transparent transparent;\\n}\\n.toolbar-danger .tool-item > .fa {\\n  color: white;\\n}\\n.toolbar-danger .tool-item.selected,\\n.toolbar-danger .tool-item:hover {\\n  background: #cc0000;\\n  color: white;\\n}\\n.toolbar-warning {\\n  background-color: #f3bc65;\\n}\\n.toolbar-warning.tool-top .arrow {\\n  border-color: #f3bc65 transparent transparent;\\n}\\n.toolbar-warning.tool-bottom .arrow {\\n  border-color: transparent transparent #f3bc65;\\n}\\n.toolbar-warning.tool-left .arrow {\\n  border-color: transparent transparent transparent #f3bc65;\\n}\\n.toolbar-warning.tool-right .arrow {\\n  border-color: transparent #f3bc65 transparent transparent;\\n}\\n.toolbar-warning .tool-item > .fa {\\n  color: white;\\n}\\n.toolbar-warning .tool-item.selected,\\n.toolbar-warning .tool-item:hover {\\n  background: #fad46b;\\n  color: white;\\n}\\n.toolbar-info {\\n  background-color: #e96300;\\n}\\n.toolbar-info.tool-top .arrow {\\n  border-color: #e96300 transparent transparent;\\n}\\n.toolbar-info.tool-bottom .arrow {\\n  border-color: transparent transparent #e96300;\\n}\\n.toolbar-info.tool-left .arrow {\\n  border-color: transparent transparent transparent #e96300;\\n}\\n.toolbar-info.tool-right .arrow {\\n  border-color: transparent #e96300 transparent transparent;\\n}\\n.toolbar-info .tool-item > .fa {\\n  color: white;\\n}\\n.toolbar-info .tool-item.selected,\\n.toolbar-info .tool-item:hover {\\n  background: #f58410;\\n  color: white;\\n}\\n.toolbar-success {\\n  background-color: #28948c;\\n}\\n.toolbar-success.tool-top .arrow {\\n  border-color: #28948c transparent transparent;\\n}\\n.toolbar-success.tool-bottom .arrow {\\n  border-color: transparent transparent #28948c;\\n}\\n.toolbar-success.tool-left .arrow {\\n  border-color: transparent transparent transparent #28948c;\\n}\\n.toolbar-success.tool-right .arrow {\\n  border-color: transparent #28948c transparent transparent;\\n}\\n.toolbar-success .tool-item > .fa {\\n  color: white;\\n}\\n.toolbar-success .tool-item.selected,\\n.toolbar-success .tool-item:hover {\\n  background: #3eb5ac;\\n  color: white;\\n}\\n.toolbar-info-o {\\n  background-color: #9175bd;\\n}\\n.toolbar-info-o.tool-top .arrow {\\n  border-color: #9175bd transparent transparent;\\n}\\n.toolbar-info-o.tool-bottom .arrow {\\n  border-color: transparent transparent #9175bd;\\n}\\n.toolbar-info-o.tool-left .arrow {\\n  border-color: transparent transparent transparent #9175bd;\\n}\\n.toolbar-info-o.tool-right .arrow {\\n  border-color: transparent #9175bd transparent transparent;\\n}\\n.toolbar-info-o .tool-item > .fa {\\n  color: white;\\n}\\n.toolbar-info-o .tool-item.selected,\\n.toolbar-info-o .tool-item:hover {\\n  background: #a88cd5;\\n  color: white;\\n}\\n.toolbar-light {\\n  background-color: #b2c6cd;\\n}\\n.toolbar-light.tool-top .arrow {\\n  border-color: #b2c6cd transparent transparent;\\n}\\n.toolbar-light.tool-bottom .arrow {\\n  border-color: transparent transparent #b2c6cd;\\n}\\n.toolbar-light.tool-left .arrow {\\n  border-color: transparent transparent transparent #b2c6cd;\\n}\\n.toolbar-light.tool-right .arrow {\\n  border-color: transparent #b2c6cd transparent transparent;\\n}\\n.toolbar-light .tool-item > .fa {\\n  color: white;\\n}\\n.toolbar-light .tool-item.selected,\\n.toolbar-light .tool-item:hover {\\n  background: #d6e1e5;\\n  color: white;\\n}\\n.toolbar-dark {\\n  background-color: #364347;\\n}\\n.toolbar-dark.tool-top .arrow {\\n  border-color: #364347 transparent transparent;\\n}\\n.toolbar-dark.tool-bottom .arrow {\\n  border-color: transparent transparent #364347;\\n}\\n.toolbar-dark.tool-left .arrow {\\n  border-color: transparent transparent transparent #364347;\\n}\\n.toolbar-dark.tool-right .arrow {\\n  border-color: transparent #364347 transparent transparent;\\n}\\n.toolbar-dark .tool-item > .fa {\\n  color: white;\\n}\\n.toolbar-dark .tool-item.selected,\\n.toolbar-dark .tool-item:hover {\\n  background: #5e696d;\\n  color: white;\\n}\\n.animate-standard {\\n  -webkit-animation: standardAnimate 0.3s 1 ease;\\n}\\n.animate-flyin {\\n  -webkit-animation: rotateAnimate 0.5s 1 ease;\\n}\\n.animate-grow {\\n  -webkit-animation: growAnimate 0.4s 1 ease;\\n}\\n.animate-flip {\\n  -webkit-animation: flipAnimate 0.4s 1 ease;\\n}\\n.animate-bounce {\\n  -webkit-animation: bounceAnimate 0.4s 1 ease-out;\\n}\\n@-webkit-keyframes rotateAnimate {\\n  from {\\n    transform: rotate(180deg) translate(-120px);\\n    opacity: 0;\\n  }\\n  to {\\n    transform: rotate(0deg) translate(0px);\\n    opacity: 1;\\n  }\\n}\\n@-webkit-keyframes standardAnimate {\\n  from {\\n    transform: translateY(20px);\\n    opacity: 0;\\n  }\\n  to {\\n    transform: translateY(0px);\\n    opacity: 1;\\n  }\\n}\\n@-webkit-keyframes growAnimate {\\n  0% {\\n    transform: scale(0) translateY(40px);\\n    opacity: 0;\\n  }\\n  70% {\\n    transform: scale(1.5) translate(0px);\\n  }\\n  100% {\\n    transform: scale(1) translate(0px);\\n    opacity: 1;\\n  }\\n}\\n@-webkit-keyframes rotate2Animate {\\n  from {\\n    transform: rotate(-90deg);\\n    transform-origin: 0% 100%;\\n    opacity: 0;\\n  }\\n  to {\\n    transform: rotate(0deg);\\n    opacity: 1;\\n  }\\n}\\n@-webkit-keyframes flipAnimate {\\n  from {\\n    transform: rotate3d(2, 2, 2, 180deg);\\n    opacity: 0;\\n  }\\n  to {\\n    transform: rotate3d(0, 0, 0, 0deg);\\n    opacity: 1;\\n  }\\n}\\n@-webkit-keyframes bounceAnimate {\\n  0% {\\n    transform: translateY(40px);\\n    opacity: 0;\\n  }\\n  30% {\\n    transform: translateY(-40px);\\n  }\\n  70% {\\n    transform: translateY(20px);\\n  }\\n  100% {\\n    transform: translateY(0px);\\n    opacity: 1;\\n  }\\n}\\n.hidden {\\n  display: none;\\n}\\n\\n/* Custom white theme */\\n\\n.btn-toolbar-white {\\n    background-color: #b2c6cd;\\n}\\n.btn-toolbar-white.pressed {\\n    background-color: #d6e1e5;\\n}\\n.btn-toolbar-white:hover {\\n    background-color: #d6e1e5;\\n}\\n.btn-toolbar-white > i {\\n    color: white;\\n}\\n\\n.toolbar-white {\\n    background-color: whitesmoke;\\n}\\n.toolbar-white.tool-top .arrow {\\n    border-color: #b2c6cd transparent transparent;\\n}\\n.toolbar-white.tool-bottom .arrow {\\n    border-color: transparent transparent #b2c6cd;\\n}\\n.toolbar-white.tool-left .arrow {\\n    border-color: transparent transparent transparent #b2c6cd;\\n}\\n.toolbar-white.tool-right .arrow {\\n    border-color: transparent lightgrey transparent transparent;\\n}\\n.toolbar-white .tool-item > .fa {\\n    color: white;\\n}\\n.toolbar-white .tool-item.selected,\\n.toolbar-white .tool-item:hover {\\n    background: lightgoldenrodyellow;\\n    color: white;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/css-loader!./atlas_bundles/heatmap/~/jquery-toolbar/jquery.toolbar.css\n// module id = 3575\n// module chunks = 2 7","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nmodule.exports = require('./src/HeatmapBaselineCellVariance.jsx');\n\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/heatmap/~/expression-atlas-heatmap-baseline-cell-variance/index.js","var React = require('react');\nvar Highcharts = require('react-highcharts');\nrequire('highcharts-more')(Highcharts.Highcharts);\n\nvar HeatmapBaselineCellVariance = React.createClass({\n\n    propTypes: {\n        quartiles: React.PropTypes.shape({\n            min: React.PropTypes.number,\n            lower: React.PropTypes.number,\n            median: React.PropTypes.number,\n            upper: React.PropTypes.number,\n            max: React.PropTypes.number\n        }).isRequired\n    },\n\n    render: function () {\n\n        var chartWidth = 115;\n        var chartHeight = 105;\n        var chartMargin = 0;\n\n        var highchartsOptions = {\n            credits: { enabled: false },\n            chart:   { type: \"boxplot\", width: chartWidth, height: chartHeight, margin: chartMargin},\n            title:   { text: \"\" },\n            legend:  { enabled: false },\n            xAxis:   { title: { text: \"Variance\" } },\n            yAxis:   {\n                title: { text: \"Expression level\" },\n                labels: {\n                    align: \"left\",\n                    x: 0,\n                    y: -2\n                }\n            },\n            plotOptions: {\n                boxplot: {\n                    fillColor: \"#F0F0E0\",\n                    lineWidth: 2,\n                    medianColor: \"#0C5DA5\",\n                    medianWidth: 3,\n                    stemColor: \"#A63400\",\n                    stemDashStyle: \"dot\",\n                    stemWidth: 1,\n                    whiskerColor: \"#3D9200\",\n                    whiskerLength: \"20%\",\n                    whiskerWidth: 3\n                }\n            },\n            series: [{\n                name: \"Expression\",\n                data: [\n                    [this.props.quartiles.min, this.props.quartiles.lower, this.props.quartiles.median, this.props.quartiles.upper, this.props.quartiles.max]\n                ]\n            }],\n            tooltip: {\n                headerFormat: \"\",\n                style:{\n                    fontSize: \"10px\",\n                    padding: 5\n                }\n            }\n        };\n\n        var boxPlotStyle = {width: chartWidth, height: chartHeight, margin: chartMargin};\n        return (\n            <td>\n                <div id=\"container\" style={boxPlotStyle}>\n                    <Highcharts config={highchartsOptions}/>\n                </div>\n            </td>\n        );\n    }\n\n});\n\nmodule.exports = HeatmapBaselineCellVariance;\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/heatmap/~/expression-atlas-heatmap-baseline-cell-variance/src/HeatmapBaselineCellVariance.jsx","!function(t,r){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=r(require(\"react\"),require(\"highcharts\")):\"function\"==typeof define&&define.amd?define([\"react\",\"highcharts\"],r):\"object\"==typeof exports?exports.ReactHighcharts=r(require(\"react\"),require(\"highcharts\")):t.ReactHighcharts=r(t.React,t.Highcharts)}(this,function(t,r){return function(t){function r(o){if(e[o])return e[o].exports;var n=e[o]={exports:{},id:o,loaded:!1};return t[o].call(n.exports,n,n.exports,r),n.loaded=!0,n.exports}var e={};return r.m=t,r.c=e,r.p=\"\",r(0)}([function(t,r,e){t.exports=e(3)},function(r,e){r.exports=t},function(t,r,e){(function(r){\"use strict\";var o=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},n=e(1);t.exports=function(t,e){var i=\"Highcharts\"+t,c=n.createClass({displayName:i,propTypes:{config:n.PropTypes.object.isRequired,isPureConfig:n.PropTypes.bool,neverReflow:n.PropTypes.bool,callback:n.PropTypes.func},defaultProps:{callback:function(){}},renderChart:function(n){var c=this;if(!n)throw new Error(\"Config must be specified for the \"+i+\" component\");var s=n.chart;this.chart=new e[t](o({},n,{chart:o({},s,{renderTo:this.refs.chart})}),this.props.callback),r.requestAnimationFrame&&requestAnimationFrame(function(){c.chart&&c.chart.options&&c.chart.reflow()})},shouldComponentUpdate:function(t){return t.neverReflow||t.isPureConfig&&this.props.config===t.config?!0:(this.renderChart(t.config),!1)},getChart:function(){if(!this.chart)throw new Error(\"getChart() should not be called before the component is mounted\");return this.chart},componentDidMount:function(){this.renderChart(this.props.config)},componentWillUnmount:function(){this.chart.destroy()},render:function(){var t=this.props;return t=o({},t,{ref:\"chart\"}),n.createElement(\"div\",t)}});return c.Highcharts=e,c}}).call(r,function(){return this}())},function(t,r,e){\"use strict\";t.exports=e(2)(\"Chart\",e(4))},function(t,e){t.exports=r}])});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/react-highcharts/dist/ReactHighcharts.js\n// module id = 3578\n// module chunks = 2 7","/*\n Highcharts JS v4.2.3 (2016-02-08)\n\n (c) 2009-2016 Torstein Honsi\n\n License: www.highcharts.com/license\n*/\n(function(m){typeof module===\"object\"&&module.exports?module.exports=m:m(Highcharts)})(function(m){function J(a,b,c){this.init(a,b,c)}var O=m.arrayMin,P=m.arrayMax,s=m.each,F=m.extend,t=m.merge,Q=m.map,q=m.pick,A=m.pInt,o=m.getOptions().plotOptions,k=m.seriesTypes,u=m.extendClass,K=m.splat,v=m.wrap,L=m.Axis,y=m.Tick,G=m.Point,R=m.Pointer,S=m.CenteredSeriesMixin,B=m.TrackerMixin,w=m.Series,x=Math,E=x.round,C=x.floor,M=x.max,T=m.Color,r=function(){};F(J.prototype,{init:function(a,b,c){var d=this,g=\nd.defaultOptions;d.chart=b;d.options=a=t(g,b.angular?{background:{}}:void 0,a);(a=a.background)&&s([].concat(K(a)).reverse(),function(a){var g=a.backgroundColor,b=c.userOptions,a=t(d.defaultBackgroundOptions,a);if(g)a.backgroundColor=g;a.color=a.backgroundColor;c.options.plotBands.unshift(a);b.plotBands=b.plotBands||[];b.plotBands!==c.options.plotBands&&b.plotBands.unshift(a)})},defaultOptions:{center:[\"50%\",\"50%\"],size:\"85%\",startAngle:0},defaultBackgroundOptions:{shape:\"circle\",borderWidth:1,borderColor:\"silver\",\nbackgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,\"#FFF\"],[1,\"#DDD\"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:\"105%\"}});var z=L.prototype,y=y.prototype,U={getOffset:r,redraw:function(){this.isDirty=!1},render:function(){this.isDirty=!1},setScale:r,setCategories:r,setTitle:r},N={isRadial:!0,defaultRadialGaugeOptions:{labels:{align:\"center\",x:0,y:null},minorGridLineWidth:0,minorTickInterval:\"auto\",minorTickLength:10,minorTickPosition:\"inside\",minorTickWidth:1,\ntickLength:10,tickPosition:\"inside\",tickWidth:2,title:{rotation:0},zIndex:2},defaultRadialXOptions:{gridLineWidth:1,labels:{align:null,distance:15,x:0,y:null},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},defaultRadialYOptions:{gridLineInterpolation:\"circle\",labels:{align:\"right\",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}},setOptions:function(a){a=this.options=t(this.defaultOptions,this.defaultRadialOptions,a);if(!a.plotBands)a.plotBands=[]},getOffset:function(){z.getOffset.call(this);\nthis.chart.axisOffset[this.side]=0;this.center=this.pane.center=S.getCenter.call(this.pane)},getLinePath:function(a,b){var c=this.center,b=q(b,c[2]/2-this.offset);return this.chart.renderer.symbols.arc(this.left+c[0],this.top+c[1],b,b,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})},setAxisTranslation:function(){z.setAxisTranslation.call(this);if(this.center)this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.center[2]/2/(this.max-this.min||\n1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0},beforeSetTickPositions:function(){this.autoConnect&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange||0)},setAxisSize:function(){z.setAxisSize.call(this);if(this.isRadial){this.center=this.pane.center=m.CenteredSeriesMixin.getCenter.call(this.pane);if(this.isCircular)this.sector=this.endAngleRad-this.startAngleRad;this.len=this.width=this.height=this.center[2]*q(this.sector,1)/2}},getPosition:function(a,\nb){return this.postTranslate(this.isCircular?this.translate(a):0,q(this.isCircular?b:this.translate(a),this.center[2]/2)-this.offset)},postTranslate:function(a,b){var c=this.chart,d=this.center,a=this.startAngleRad+a;return{x:c.plotLeft+d[0]+Math.cos(a)*b,y:c.plotTop+d[1]+Math.sin(a)*b}},getPlotBandPath:function(a,b,c){var d=this.center,g=this.startAngleRad,e=d[2]/2,j=[q(c.outerRadius,\"100%\"),c.innerRadius,q(c.thickness,10)],l=/%$/,i,f=this.isCircular;this.options.gridLineInterpolation===\"polygon\"?\nd=this.getPlotLinePath(a).concat(this.getPlotLinePath(b,!0)):(a=Math.max(a,this.min),b=Math.min(b,this.max),f||(j[0]=this.translate(a),j[1]=this.translate(b)),j=Q(j,function(a){l.test(a)&&(a=A(a,10)*e/100);return a}),c.shape===\"circle\"||!f?(a=-Math.PI/2,b=Math.PI*1.5,i=!0):(a=g+this.translate(a),b=g+this.translate(b)),d=this.chart.renderer.symbols.arc(this.left+d[0],this.top+d[1],j[0],j[0],{start:Math.min(a,b),end:Math.max(a,b),innerR:q(j[1],j[0]-j[2]),open:i}));return d},getPlotLinePath:function(a,\nb){var c=this,d=c.center,g=c.chart,e=c.getPosition(a),j,l,i;c.isCircular?i=[\"M\",d[0]+g.plotLeft,d[1]+g.plotTop,\"L\",e.x,e.y]:c.options.gridLineInterpolation===\"circle\"?(a=c.translate(a))&&(i=c.getLinePath(0,a)):(s(g.xAxis,function(a){a.pane===c.pane&&(j=a)}),i=[],a=c.translate(a),d=j.tickPositions,j.autoConnect&&(d=d.concat([d[0]])),b&&(d=[].concat(d).reverse()),s(d,function(e,b){l=j.getPosition(e,a);i.push(b?\"L\":\"M\",l.x,l.y)}));return i},getTitlePosition:function(){var a=this.center,b=this.chart,\nc=this.options.title;return{x:b.plotLeft+a[0]+(c.x||0),y:b.plotTop+a[1]-{high:0.5,middle:0.25,low:0}[c.align]*a[2]+(c.y||0)}}};v(z,\"init\",function(a,b,c){var h;var d=b.angular,g=b.polar,e=c.isX,j=d&&e,l,i;i=b.options;var f=c.pane||0;if(d){if(F(this,j?U:N),l=!e)this.defaultRadialOptions=this.defaultRadialGaugeOptions}else if(g)F(this,N),this.defaultRadialOptions=(l=e)?this.defaultRadialXOptions:t(this.defaultYAxisOptions,this.defaultRadialYOptions);a.call(this,b,c);if(!j&&(d||g)){a=this.options;if(!b.panes)b.panes=\n[];this.pane=(h=b.panes[f]=b.panes[f]||new J(K(i.pane)[f],b,this),f=h);f=f.options;b.inverted=!1;i.chart.zoomType=null;this.startAngleRad=b=(f.startAngle-90)*Math.PI/180;this.endAngleRad=i=(q(f.endAngle,f.startAngle+360)-90)*Math.PI/180;this.offset=a.offset||0;if((this.isCircular=l)&&c.max===void 0&&i-b===2*Math.PI)this.autoConnect=!0}});v(z,\"autoLabelAlign\",function(a){if(!this.isRadial)return a.apply(this,[].slice.call(arguments,1))});v(y,\"getPosition\",function(a,b,c,d,g){var e=this.axis;return e.getPosition?\ne.getPosition(c):a.call(this,b,c,d,g)});v(y,\"getLabelPosition\",function(a,b,c,d,g,e,j,l,i){var f=this.axis,h=e.y,n=20,k=e.align,m=(f.translate(this.pos)+f.startAngleRad+Math.PI/2)/Math.PI*180%360;f.isRadial?(a=f.getPosition(this.pos,f.center[2]/2+q(e.distance,-25)),e.rotation===\"auto\"?d.attr({rotation:m}):h===null&&(h=f.chart.renderer.fontMetrics(d.styles.fontSize).b-d.getBBox().height/2),k===null&&(f.isCircular?(this.label.getBBox().width>f.len*f.tickInterval/(f.max-f.min)&&(n=0),k=m>n&&m<180-n?\n\"left\":m>180+n&&m<360-n?\"right\":\"center\"):k=\"center\",d.attr({align:k})),a.x+=e.x,a.y+=h):a=a.call(this,b,c,d,g,e,j,l,i);return a});v(y,\"getMarkPath\",function(a,b,c,d,g,e,j){var l=this.axis;l.isRadial?(a=l.getPosition(this.pos,l.center[2]/2+d),b=[\"M\",b,c,\"L\",a.x,a.y]):b=a.call(this,b,c,d,g,e,j);return b});o.arearange=t(o.area,{lineWidth:1,marker:null,threshold:null,tooltip:{pointFormat:'<span style=\"color:{series.color}\">\\u25cf</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},\ntrackByArea:!0,dataLabels:{align:null,verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0},states:{hover:{halo:!1}}});k.arearange=u(k.area,{type:\"arearange\",pointArrayMap:[\"low\",\"high\"],dataLabelCollections:[\"dataLabel\",\"dataLabelUpper\"],toYData:function(a){return[a.low,a.high]},pointValKey:\"low\",deferTranslatePolar:!0,highToXY:function(a){var b=this.chart,c=this.xAxis.postTranslate(a.rectPlotX,this.yAxis.len-a.plotHigh);a.plotHighX=c.x-b.plotLeft;a.plotHigh=c.y-b.plotTop},translate:function(){var a=\nthis,b=a.yAxis;k.area.prototype.translate.apply(a);s(a.points,function(a){var d=a.low,g=a.high,e=a.plotY;g===null||d===null?a.isNull=!0:(a.plotLow=e,a.plotHigh=b.translate(g,0,1,0,1))});this.chart.polar&&s(this.points,function(b){a.highToXY(b)})},getGraphPath:function(){var a=this.points,b=[],c=[],d=a.length,g=w.prototype.getGraphPath,e,j,l;l=this.options;for(var i=l.step,d=a.length;d--;)e=a[d],!e.isNull&&(!a[d+1]||a[d+1].isNull)&&c.push({plotX:e.plotX,plotY:e.plotLow}),j={plotX:e.plotX,plotY:e.plotHigh,\nisNull:e.isNull},c.push(j),b.push(j),!e.isNull&&(!a[d-1]||a[d-1].isNull)&&c.push({plotX:e.plotX,plotY:e.plotLow});a=g.call(this,a);if(i)i===!0&&(i=\"left\"),l.step={left:\"right\",center:\"center\",right:\"left\"}[i];b=g.call(this,b);c=g.call(this,c);l.step=i;l=[].concat(a,b);!this.chart.polar&&c[0]===\"M\"&&(c[0]=\"L\");this.areaPath=this.areaPath.concat(a,c);return l},drawDataLabels:function(){var a=this.data,b=a.length,c,d=[],g=w.prototype,e=this.options.dataLabels,j=e.align,l=e.verticalAlign,i=e.inside,f,\nh,n=this.chart.inverted;if(e.enabled||this._hasPointLabels){for(c=b;c--;)if(f=a[c]){h=i?f.plotHigh<f.plotLow:f.plotHigh>f.plotLow;f.y=f.high;f._plotY=f.plotY;f.plotY=f.plotHigh;d[c]=f.dataLabel;f.dataLabel=f.dataLabelUpper;f.below=h;if(n){if(!j)e.align=h?\"right\":\"left\"}else if(!l)e.verticalAlign=h?\"top\":\"bottom\";e.x=e.xHigh;e.y=e.yHigh}g.drawDataLabels&&g.drawDataLabels.apply(this,arguments);for(c=b;c--;)if(f=a[c]){h=i?f.plotHigh<f.plotLow:f.plotHigh>f.plotLow;f.dataLabelUpper=f.dataLabel;f.dataLabel=\nd[c];f.y=f.low;f.plotY=f._plotY;f.below=!h;if(n){if(!j)e.align=h?\"left\":\"right\"}else if(!l)e.verticalAlign=h?\"bottom\":\"top\";e.x=e.xLow;e.y=e.yLow}g.drawDataLabels&&g.drawDataLabels.apply(this,arguments)}e.align=j;e.verticalAlign=l},alignDataLabel:function(){k.column.prototype.alignDataLabel.apply(this,arguments)},setStackedPoints:r,getSymbol:r,drawPoints:r});o.areasplinerange=t(o.arearange);k.areasplinerange=u(k.arearange,{type:\"areasplinerange\",getPointSpline:k.spline.prototype.getPointSpline});\n(function(){var a=k.column.prototype;o.columnrange=t(o.column,o.arearange,{lineWidth:1,pointRange:null});k.columnrange=u(k.arearange,{type:\"columnrange\",translate:function(){var b=this,c=b.yAxis,d=b.xAxis,g=b.chart,e;a.translate.apply(b);s(b.points,function(a){var l=a.shapeArgs,i=b.options.minPointLength,f,h;a.plotHigh=e=c.translate(a.high,0,1,0,1);a.plotLow=a.plotY;h=e;f=a.plotY-e;Math.abs(f)<i?(i-=f,f+=i,h-=i/2):f<0&&(f*=-1,h-=f);l.height=f;l.y=h;a.tooltipPos=g.inverted?[c.len+c.pos-g.plotLeft-\nh-f/2,d.len+d.pos-g.plotTop-l.x-l.width/2,f]:[d.left-g.plotLeft+l.x+l.width/2,c.pos-g.plotTop+h+f/2,f]})},directTouch:!0,trackerGroups:[\"group\",\"dataLabelsGroup\"],drawGraph:r,crispCol:a.crispCol,pointAttrToOptions:a.pointAttrToOptions,drawPoints:a.drawPoints,drawTracker:a.drawTracker,animate:a.animate,getColumnMetrics:a.getColumnMetrics})})();o.gauge=t(o.line,{dataLabels:{enabled:!0,defer:!1,y:15,borderWidth:1,borderColor:\"silver\",borderRadius:3,crop:!1,verticalAlign:\"top\",zIndex:2},dial:{},pivot:{},\ntooltip:{headerFormat:\"\"},showInLegend:!1});B={type:\"gauge\",pointClass:u(G,{setState:function(a){this.state=a}}),angular:!0,drawGraph:r,fixedBox:!0,forceDL:!0,trackerGroups:[\"group\",\"dataLabelsGroup\"],translate:function(){var a=this.yAxis,b=this.options,c=a.center;this.generatePoints();s(this.points,function(d){var g=t(b.dial,d.dial),e=A(q(g.radius,80))*c[2]/200,j=A(q(g.baseLength,70))*e/100,l=A(q(g.rearLength,10))*e/100,i=g.baseWidth||3,f=g.topWidth||1,h=b.overshoot,n=a.startAngleRad+a.translate(d.y,\nnull,null,null,!0);h&&typeof h===\"number\"?(h=h/180*Math.PI,n=Math.max(a.startAngleRad-h,Math.min(a.endAngleRad+h,n))):b.wrap===!1&&(n=Math.max(a.startAngleRad,Math.min(a.endAngleRad,n)));n=n*180/Math.PI;d.shapeType=\"path\";d.shapeArgs={d:g.path||[\"M\",-l,-i/2,\"L\",j,-i/2,e,-f/2,e,f/2,j,i/2,-l,i/2,\"z\"],translateX:c[0],translateY:c[1],rotation:n};d.plotX=c[0];d.plotY=c[1]})},drawPoints:function(){var a=this,b=a.yAxis.center,c=a.pivot,d=a.options,g=d.pivot,e=a.chart.renderer;s(a.points,function(b){var g=\nb.graphic,c=b.shapeArgs,f=c.d,h=t(d.dial,b.dial);g?(g.animate(c),c.d=f):b.graphic=e[b.shapeType](c).attr({stroke:h.borderColor||\"none\",\"stroke-width\":h.borderWidth||0,fill:h.backgroundColor||\"black\",rotation:c.rotation,zIndex:1}).add(a.group)});c?c.animate({translateX:b[0],translateY:b[1]}):a.pivot=e.circle(0,0,q(g.radius,5)).attr({\"stroke-width\":g.borderWidth||0,stroke:g.borderColor||\"silver\",fill:g.backgroundColor||\"black\",zIndex:2}).translate(b[0],b[1]).add(a.group)},animate:function(a){var b=\nthis;if(!a)s(b.points,function(a){var d=a.graphic;d&&(d.attr({rotation:b.yAxis.startAngleRad*180/Math.PI}),d.animate({rotation:a.shapeArgs.rotation},b.options.animation))}),b.animate=null},render:function(){this.group=this.plotGroup(\"group\",\"series\",this.visible?\"visible\":\"hidden\",this.options.zIndex,this.chart.seriesGroup);w.prototype.render.call(this);this.group.clip(this.chart.clipRect)},setData:function(a,b){w.prototype.setData.call(this,a,!1);this.processData();this.generatePoints();q(b,!0)&&\nthis.chart.redraw()},drawTracker:B&&B.drawTrackerPoint};k.gauge=u(k.line,B);o.boxplot=t(o.column,{fillColor:\"#FFFFFF\",lineWidth:1,medianWidth:2,states:{hover:{brightness:-0.3}},threshold:null,tooltip:{pointFormat:'<span style=\"color:{point.color}\">\\u25cf</span> <b> {series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:\"50%\",whiskerWidth:2});k.boxplot=u(k.column,{type:\"boxplot\",\npointArrayMap:[\"low\",\"q1\",\"median\",\"q3\",\"high\"],toYData:function(a){return[a.low,a.q1,a.median,a.q3,a.high]},pointValKey:\"high\",pointAttrToOptions:{fill:\"fillColor\",stroke:\"color\",\"stroke-width\":\"lineWidth\"},drawDataLabels:r,translate:function(){var a=this.yAxis,b=this.pointArrayMap;k.column.prototype.translate.apply(this);s(this.points,function(c){s(b,function(b){c[b]!==null&&(c[b+\"Plot\"]=a.translate(c[b],0,1,0,1))})})},drawPoints:function(){var a=this,b=a.options,c=a.chart.renderer,d,g,e,j,l,i,\nf,h,n,k,m,H,I,o,t,r,v,u,w,x,B,A,y=a.doQuartiles!==!1,z,D=a.options.whiskerLength;s(a.points,function(p){n=p.graphic;B=p.shapeArgs;m={};o={};r={};A=p.color||a.color;if(p.plotY!==void 0)if(d=p.pointAttr[p.selected?\"selected\":\"\"],v=B.width,u=C(B.x),w=u+v,x=E(v/2),g=C(y?p.q1Plot:p.lowPlot),e=C(y?p.q3Plot:p.lowPlot),j=C(p.highPlot),l=C(p.lowPlot),m.stroke=p.stemColor||b.stemColor||A,m[\"stroke-width\"]=q(p.stemWidth,b.stemWidth,b.lineWidth),m.dashstyle=p.stemDashStyle||b.stemDashStyle,o.stroke=p.whiskerColor||\nb.whiskerColor||A,o[\"stroke-width\"]=q(p.whiskerWidth,b.whiskerWidth,b.lineWidth),r.stroke=p.medianColor||b.medianColor||A,r[\"stroke-width\"]=q(p.medianWidth,b.medianWidth,b.lineWidth),f=m[\"stroke-width\"]%2/2,h=u+x+f,k=[\"M\",h,e,\"L\",h,j,\"M\",h,g,\"L\",h,l],y&&(f=d[\"stroke-width\"]%2/2,h=C(h)+f,g=C(g)+f,e=C(e)+f,u+=f,w+=f,H=[\"M\",u,e,\"L\",u,g,\"L\",w,g,\"L\",w,e,\"L\",u,e,\"z\"]),D&&(f=o[\"stroke-width\"]%2/2,j+=f,l+=f,z=/%$/.test(D)?x*parseFloat(D)/100:D/2,I=[\"M\",h-z,j,\"L\",h+z,j,\"M\",h-z,l,\"L\",h+z,l]),f=r[\"stroke-width\"]%\n2/2,i=E(p.medianPlot)+f,t=[\"M\",u,i,\"L\",w,i],n)p.stem.animate({d:k}),D&&p.whiskers.animate({d:I}),y&&p.box.animate({d:H}),p.medianShape.animate({d:t});else{p.graphic=n=c.g().add(a.group);p.stem=c.path(k).attr(m).add(n);if(D)p.whiskers=c.path(I).attr(o).add(n);if(y)p.box=c.path(H).attr(d).add(n);p.medianShape=c.path(t).attr(r).add(n)}})},setStackedPoints:r});o.errorbar=t(o.boxplot,{color:\"#000000\",grouping:!1,linkedTo:\":previous\",tooltip:{pointFormat:'<span style=\"color:{point.color}\">\\u25cf</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},\nwhiskerWidth:null});k.errorbar=u(k.boxplot,{type:\"errorbar\",pointArrayMap:[\"low\",\"high\"],toYData:function(a){return[a.low,a.high]},pointValKey:\"high\",doQuartiles:!1,drawDataLabels:k.arearange?k.arearange.prototype.drawDataLabels:r,getColumnMetrics:function(){return this.linkedParent&&this.linkedParent.columnMetrics||k.column.prototype.getColumnMetrics.call(this)}});o.waterfall=t(o.column,{lineWidth:1,lineColor:\"#333\",dashStyle:\"dot\",borderColor:\"#333\",dataLabels:{inside:!0},states:{hover:{lineWidthPlus:0}}});\nk.waterfall=u(k.column,{type:\"waterfall\",upColorProp:\"fill\",pointValKey:\"y\",translate:function(){var a=this.options,b=this.yAxis,c,d,g,e,j,l,i,f,h,n=q(a.minPointLength,5),m=a.threshold,o=a.stacking;k.column.prototype.translate.apply(this);this.minPointLengthOffset=0;i=f=m;d=this.points;for(c=0,a=d.length;c<a;c++){g=d[c];l=this.processedYData[c];e=g.shapeArgs;h=(j=o&&b.stacks[(this.negStacks&&l<m?\"-\":\"\")+this.stackKey])?j[g.x].points[this.index+\",\"+c]:[0,l];if(g.isSum)g.y=l;else if(g.isIntermediateSum)g.y=\nl-f;j=M(i,i+g.y)+h[0];e.y=b.translate(j,0,1);if(g.isSum)e.y=b.translate(h[1],0,1),e.height=Math.min(b.translate(h[0],0,1),b.len)-e.y+this.minPointLengthOffset;else if(g.isIntermediateSum)e.y=b.translate(h[1],0,1),e.height=Math.min(b.translate(f,0,1),b.len)-e.y+this.minPointLengthOffset,f=h[1];else{if(i!==0)e.height=l>0?b.translate(i,0,1)-e.y:b.translate(i,0,1)-b.translate(i-l,0,1);i+=l}e.height<0&&(e.y+=e.height,e.height*=-1);g.plotY=e.y=E(e.y)-this.borderWidth%2/2;e.height=M(E(e.height),0.001);g.yBottom=\ne.y+e.height;if(e.height<=n)e.height=n,this.minPointLengthOffset+=n;e.y-=this.minPointLengthOffset;e=g.plotY+(g.negative?e.height:0)-this.minPointLengthOffset;this.chart.inverted?g.tooltipPos[0]=b.len-e:g.tooltipPos[1]=e}},processData:function(a){var b=this.yData,c=this.options.data,d,g=b.length,e,j,l,i,f,h;j=e=l=i=this.options.threshold||0;for(h=0;h<g;h++)f=b[h],d=c&&c[h]?c[h]:{},f===\"sum\"||d.isSum?b[h]=j:f===\"intermediateSum\"||d.isIntermediateSum?b[h]=e:(j+=f,e+=f),l=Math.min(j,l),i=Math.max(j,\ni);w.prototype.processData.call(this,a);this.dataMin=l;this.dataMax=i},toYData:function(a){return a.isSum?a.x===0?null:\"sum\":a.isIntermediateSum?a.x===0?null:\"intermediateSum\":a.y},getAttribs:function(){k.column.prototype.getAttribs.apply(this,arguments);var a=this,b=a.options,c=b.states,d=b.upColor||a.color,b=m.Color(d).brighten(0.1).get(),g=t(a.pointAttr),e=a.upColorProp;g[\"\"][e]=d;g.hover[e]=c.hover.upColor||b;g.select[e]=c.select.upColor||d;s(a.points,function(e){if(!e.options.color)e.y>0?(e.pointAttr=\ng,e.color=d):e.pointAttr=a.pointAttr})},getGraphPath:function(){var a=this.data,b=a.length,c=E(this.options.lineWidth+this.borderWidth)%2/2,d=[],g,e,j;for(j=1;j<b;j++)e=a[j].shapeArgs,g=a[j-1].shapeArgs,e=[\"M\",g.x+g.width,g.y+c,\"L\",e.x,g.y+c],a[j-1].y<0&&(e[2]+=g.height,e[5]+=g.height),d=d.concat(e);return d},getExtremes:r,drawGraph:w.prototype.drawGraph});o.polygon=t(o.scatter,{marker:{enabled:!1}});k.polygon=u(k.scatter,{type:\"polygon\",fillGraph:!0,getSegmentPath:function(a){return w.prototype.getSegmentPath.call(this,\na).concat(\"z\")},drawGraph:w.prototype.drawGraph,drawLegendSymbol:m.LegendSymbolMixin.drawRectangle});o.bubble=t(o.scatter,{dataLabels:{formatter:function(){return this.point.z},inside:!0,verticalAlign:\"middle\"},marker:{lineColor:null,lineWidth:1},minSize:8,maxSize:\"20%\",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:\"({point.x}, {point.y}), Size: {point.z}\"},turboThreshold:0,zThreshold:0,zoneAxis:\"z\"});B=u(G,{haloPath:function(){return G.prototype.haloPath.call(this,this.shapeArgs.r+\nthis.series.options.states.hover.halo.size)},ttBelow:!1});k.bubble=u(k.scatter,{type:\"bubble\",pointClass:B,pointArrayMap:[\"y\",\"z\"],parallelArrays:[\"x\",\"y\",\"z\"],trackerGroups:[\"group\",\"dataLabelsGroup\"],bubblePadding:!0,zoneAxis:\"z\",pointAttrToOptions:{stroke:\"lineColor\",\"stroke-width\":\"lineWidth\",fill:\"fillColor\"},applyOpacity:function(a){var b=this.options.marker,c=q(b.fillOpacity,0.5),a=a||b.fillColor||this.color;c!==1&&(a=T(a).setOpacity(c).get(\"rgba\"));return a},convertAttribs:function(){var a=\nw.prototype.convertAttribs.apply(this,arguments);a.fill=this.applyOpacity(a.fill);return a},getRadii:function(a,b,c,d){var g,e,j,l=this.zData,i=[],f=this.options,h=f.sizeBy!==\"width\",n=f.zThreshold,k=b-a;for(e=0,g=l.length;e<g;e++)j=l[e],f.sizeByAbsoluteValue&&j!==null&&(j=Math.abs(j-n),b=Math.max(b-n,Math.abs(a-n)),a=0),j===null?j=null:j<a?j=c/2-1:(j=k>0?(j-a)/k:0.5,h&&j>=0&&(j=Math.sqrt(j)),j=x.ceil(c+j*(d-c))/2),i.push(j);this.radii=i},animate:function(a){var b=this.options.animation;if(!a)s(this.points,\nfunction(a){var d=a.graphic,a=a.shapeArgs;d&&a&&(d.attr(\"r\",1),d.animate({r:a.r},b))}),this.animate=null},translate:function(){var a,b=this.data,c,d,g=this.radii;k.scatter.prototype.translate.call(this);for(a=b.length;a--;)c=b[a],d=g?g[a]:0,typeof d===\"number\"&&d>=this.minPxSize/2?(c.shapeType=\"circle\",c.shapeArgs={x:c.plotX,y:c.plotY,r:d},c.dlBox={x:c.plotX-d,y:c.plotY-d,width:2*d,height:2*d}):c.shapeArgs=c.plotY=c.dlBox=void 0},drawLegendSymbol:function(a,b){var c=this.chart.renderer,d=c.fontMetrics(a.itemStyle.fontSize).f/\n2;b.legendSymbol=c.circle(d,a.baseline-d,d).attr({zIndex:3}).add(b.legendGroup);b.legendSymbol.isMarker=!0},drawPoints:k.column.prototype.drawPoints,alignDataLabel:k.column.prototype.alignDataLabel,buildKDTree:r,applyZones:r});L.prototype.beforePadding=function(){var a=this,b=this.len,c=this.chart,d=0,g=b,e=this.isXAxis,j=e?\"xData\":\"yData\",l=this.min,i={},f=x.min(c.plotWidth,c.plotHeight),h=Number.MAX_VALUE,n=-Number.MAX_VALUE,k=this.max-l,m=b/k,o=[];s(this.series,function(b){var g=b.options;if(b.bubblePadding&&\n(b.visible||!c.options.chart.ignoreHiddenSeries))if(a.allowZoomOutside=!0,o.push(b),e)s([\"minSize\",\"maxSize\"],function(a){var b=g[a],e=/%$/.test(b),b=A(b);i[a]=e?f*b/100:b}),b.minPxSize=i.minSize,b.maxPxSize=i.maxSize,b=b.zData,b.length&&(h=q(g.zMin,x.min(h,x.max(O(b),g.displayNegative===!1?g.zThreshold:-Number.MAX_VALUE))),n=q(g.zMax,x.max(n,P(b))))});s(o,function(a){var b=a[j],c=b.length,f;e&&a.getRadii(h,n,a.minPxSize,a.maxPxSize);if(k>0)for(;c--;)typeof b[c]===\"number\"&&(f=a.radii[c],d=Math.min((b[c]-\nl)*m-f,d),g=Math.max((b[c]-l)*m+f,g))});o.length&&k>0&&!this.isLog&&(g-=b,m*=(b+d-g)/b,s([[\"min\",\"userMin\",d],[\"max\",\"userMax\",g]],function(b){q(a.options[b[0]],a[b[1]])===void 0&&(a[b[0]]+=b[2]/m)}))};(function(){function a(a,b){var c=this.chart,d=this.options.animation,i=this.group,f=this.markerGroup,h=this.xAxis.center,n=c.plotLeft,k=c.plotTop;if(c.polar){if(c.renderer.isSVG)d===!0&&(d={}),b?(c={translateX:h[0]+n,translateY:h[1]+k,scaleX:0.001,scaleY:0.001},i.attr(c),f&&f.attr(c)):(c={translateX:n,\ntranslateY:k,scaleX:1,scaleY:1},i.animate(c,d),f&&f.animate(c,d),this.animate=null)}else a.call(this,b)}var b=w.prototype,c=R.prototype,d;b.searchPointByAngle=function(a){var b=this.chart,c=this.xAxis.pane.center;return this.searchKDTree({clientX:180+Math.atan2(a.chartX-c[0]-b.plotLeft,a.chartY-c[1]-b.plotTop)*(-180/Math.PI)})};v(b,\"buildKDTree\",function(a){if(this.chart.polar)this.kdByAngle?this.searchPoint=this.searchPointByAngle:this.kdDimensions=2;a.apply(this)});b.toXY=function(a){var b,c=this.chart,\nd=a.plotX;b=a.plotY;a.rectPlotX=d;a.rectPlotY=b;b=this.xAxis.postTranslate(a.plotX,this.yAxis.len-b);a.plotX=a.polarPlotX=b.x-c.plotLeft;a.plotY=a.polarPlotY=b.y-c.plotTop;this.kdByAngle?(c=(d/Math.PI*180+this.xAxis.pane.options.startAngle)%360,c<0&&(c+=360),a.clientX=c):a.clientX=a.plotX};k.spline&&v(k.spline.prototype,\"getPointSpline\",function(a,b,c,d){var i,f,h,n,k,m,o;if(this.chart.polar){i=c.plotX;f=c.plotY;a=b[d-1];h=b[d+1];this.connectEnds&&(a||(a=b[b.length-2]),h||(h=b[1]));if(a&&h)n=a.plotX,\nk=a.plotY,b=h.plotX,m=h.plotY,n=(1.5*i+n)/2.5,k=(1.5*f+k)/2.5,h=(1.5*i+b)/2.5,o=(1.5*f+m)/2.5,b=Math.sqrt(Math.pow(n-i,2)+Math.pow(k-f,2)),m=Math.sqrt(Math.pow(h-i,2)+Math.pow(o-f,2)),n=Math.atan2(k-f,n-i),k=Math.atan2(o-f,h-i),o=Math.PI/2+(n+k)/2,Math.abs(n-o)>Math.PI/2&&(o-=Math.PI),n=i+Math.cos(o)*b,k=f+Math.sin(o)*b,h=i+Math.cos(Math.PI+o)*m,o=f+Math.sin(Math.PI+o)*m,c.rightContX=h,c.rightContY=o;d?(c=[\"C\",a.rightContX||a.plotX,a.rightContY||a.plotY,n||i,k||f,i,f],a.rightContX=a.rightContY=null):\nc=[\"M\",i,f]}else c=a.call(this,b,c,d);return c});v(b,\"translate\",function(a){var b=this.chart;a.call(this);if(b.polar&&(this.kdByAngle=b.tooltip&&b.tooltip.shared,!this.preventPostTranslate)){a=this.points;for(b=a.length;b--;)this.toXY(a[b])}});v(b,\"getGraphPath\",function(a,b){var c=this;if(this.chart.polar){b=b||this.points;if(this.options.connectEnds!==!1&&b[0].y!==null)this.connectEnds=!0,b.splice(b.length,0,b[0]);s(b,function(a){a.polarPlotY===void 0&&c.toXY(a)})}return a.apply(this,[].slice.call(arguments,\n1))});v(b,\"animate\",a);if(k.column)d=k.column.prototype,v(d,\"animate\",a),v(d,\"translate\",function(a){var b=this.xAxis,c=this.yAxis.len,d=b.center,i=b.startAngleRad,f=this.chart.renderer,h,k;this.preventPostTranslate=!0;a.call(this);if(b.isRadial){b=this.points;for(k=b.length;k--;)h=b[k],a=h.barX+i,h.shapeType=\"path\",h.shapeArgs={d:f.symbols.arc(d[0],d[1],c-h.plotY,null,{start:a,end:a+h.pointWidth,innerR:c-q(h.yBottom,c)})},this.toXY(h),h.tooltipPos=[h.plotX,h.plotY],h.ttBelow=h.plotY>d[1]}}),v(d,\n\"alignDataLabel\",function(a,c,d,l,i,f){if(this.chart.polar){a=c.rectPlotX/Math.PI*180;if(l.align===null)l.align=a>20&&a<160?\"left\":a>200&&a<340?\"right\":\"center\";if(l.verticalAlign===null)l.verticalAlign=a<45||a>315?\"bottom\":a>135&&a<225?\"top\":\"middle\";b.alignDataLabel.call(this,c,d,l,i,f)}else a.call(this,c,d,l,i,f)});v(c,\"getCoordinates\",function(a,b){var c=this.chart,d={xAxis:[],yAxis:[]};c.polar?s(c.axes,function(a){var f=a.isXAxis,g=a.center,k=b.chartX-g[0]-c.plotLeft,g=b.chartY-g[1]-c.plotTop;\nd[f?\"xAxis\":\"yAxis\"].push({axis:a,value:a.translate(f?Math.PI-Math.atan2(k,g):Math.sqrt(Math.pow(k,2)+Math.pow(g,2)),!0)})}):d=a.call(this,b);return d})})()});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/highcharts-more/more.js\n// module id = 3579\n// module chunks = 2 7","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nexports.LegendDifferential = require('./src/LegendDifferential.jsx');\nexports.LegendBaseline = require('./src/LegendBaseline.jsx');\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/heatmap/~/expression-atlas-legend/index.js","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\n\n//*------------------------------------------------------------------*\n\nvar LegendRow = require('./LegendRow.jsx');\nvar HelpTooltips = require('expression-atlas-help-tooltips');\n\n//*------------------------------------------------------------------*\n\nrequire('./gxaLegend.css');\n\n//*------------------------------------------------------------------*\n\nvar LegendDifferential = React.createClass({\n\n    propTypes: {\n        atlasBaseURL: React.PropTypes.string.isRequired,\n        minDownLevel: React.PropTypes.number.isRequired,\n        maxDownLevel: React.PropTypes.number.isRequired,\n        minUpLevel: React.PropTypes.number.isRequired,\n        maxUpLevel: React.PropTypes.number.isRequired\n    },\n\n    render: function () {\n        return (\n            <div className=\"gxaLegend\">\n                <div style={{display: \"inline-table\"}}>\n                    {isNaN(this.props.minDownLevel) && isNaN(this.props.maxDownLevel) ?\n                        null :\n                        <LegendRow lowExpressionLevel={<span>{this.props.minDownLevel}</span>}\n                                   highExpressionLevel={<span>{this.props.maxDownLevel}</span>}\n                                   lowValueColour=\"#C0C0C0\"\n                                   highValueColour=\"#0000FF\"/>\n                    }\n                    {isNaN(this.props.minUpLevel) && isNaN(this.props.maxUpLevel) ?\n                        null :\n                        <LegendRow lowExpressionLevel={<span>{this.props.minUpLevel}</span>}\n                                   highExpressionLevel={<span>{this.props.maxUpLevel}</span>}\n                                   lowValueColour=\"#FFAFAF\"\n                                   highValueColour=\"#FF0000\"/>\n                    }\n                </div>\n                <div ref=\"legendHelp\" data-help-loc=\"#gradient-differential\" className=\"gxaLegendHelp\"></div>\n            </div>\n        );\n    },\n\n    componentDidMount: function () {\n        HelpTooltips(this.props.atlasBaseURL, \"experiment\", ReactDOM.findDOMNode(this.refs.legendHelp));\n    }\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = LegendDifferential;\n\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/heatmap/~/expression-atlas-legend/src/LegendDifferential.jsx","const React = require('react');\n\nrequire('./gxaGradient.css');\n\nconst LegendRow = React.createClass({\n\n    propTypes: {\n        lowValueColour: React.PropTypes.string.isRequired,\n        highValueColour: React.PropTypes.string.isRequired,\n        lowExpressionLevel: React.PropTypes.element.isRequired,\n        highExpressionLevel: React.PropTypes.element.isRequired\n    },\n\n    render: function () {\n        const spanStyle = {\n            backgroundImage: `linear-gradient(to right, ${this.props.lowValueColour}, ${this.props.highValueColour})`\n        };\n\n        return (\n          this.props.lowExpressionLevel || this.props.highExpressionLevel\n          ? <div style={{display: \"table-row\"}}>\n                <div className=\"gxaGradientLevel gxaGradientLevelMin\">{this.props.lowExpressionLevel}</div>\n                <div style={{display: \"table-cell\"}}>\n                    <span className=\"gxaGradientColour\" style={spanStyle} />\n                </div>\n                <div className=\"gxaGradientLevel gxaGradientLevelMax\">{this.props.highExpressionLevel}</div>\n            </div>\n          : null  \n        );\n    }\n});\n\nmodule.exports = LegendRow;\n\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/heatmap/~/expression-atlas-legend/src/LegendRow.jsx","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../css-loader/index.js!./gxaGradient.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./gxaGradient.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./gxaGradient.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/expression-atlas-legend/src/gxaGradient.css\n// module id = 3583\n// module chunks = 2 7","exports = module.exports = require(\"./../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaGradientColour {\\n    overflow: auto;\\n    vertical-align: middle;\\n    width: 200px;\\n    height: 15px;\\n    margin: 2px 6px 2px 6px;\\n    display: inline-block;\\n}\\n\\n.gxaGradientLevel {\\n    white-space: nowrap;\\n    font-size: 10px;\\n    vertical-align: middle;\\n    display: table-cell;\\n}\\n\\n.gxaGradientLevelMin {\\n    text-align: right;\\n}\\n\\n.gxaGradientLevelMax {\\n    text-align: left;\\n}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/css-loader!./atlas_bundles/heatmap/~/expression-atlas-legend/src/gxaGradient.css\n// module id = 3584\n// module chunks = 2 7","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nmodule.exports = require('./src/helpTooltipsModule.js');\n\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/heatmap/~/expression-atlas-help-tooltips/index.js","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar $ = require('jquery');\nrequire('jquery-ui-bundle');\n\n//*------------------------------------------------------------------*\n\nrequire('./gxaHelpTooltip.css');\n\n//*------------------------------------------------------------------*\n\nfunction buildHelpAnchor() {\n    return $(\"<a/>\", {\n        class: \"help-icon\",\n        href: \"#\",\n        title: \"\",\n        text: \"?\"\n    });\n}\n\nfunction getHelpFileName(pageName){\n    return \"help-tooltips.\" + pageName + \"-page.html\";\n}\n\nfunction initTooltips(atlasBaseURL, pageName, parentElementId) {\n\n    var anchor = buildHelpAnchor();\n\n    var helpSelector = (typeof parentElementId === \"object\") ? parentElementId : (parentElementId == \"\") ? \"[data-help-loc]\" : \"#\" + parentElementId + \" [data-help-loc]\";\n\n    $(helpSelector)\n        .append(anchor)\n        .click(function (e) {\n            e.preventDefault();\n        })\n        .tooltip(\n        {\n            tooltipClass: \"gxaHelpTooltip\",\n            content: function (callback) {\n                var tooltipHelpHtmlId = $(this).parent().attr(\"data-help-loc\");\n\n                $.get(atlasBaseURL + \"/resources/html/\" + getHelpFileName(pageName),\n                    function (response, status, xhr) {\n                        var tooltipContent;\n\n                        if (status === \"error\") {\n                            tooltipContent = \"Sorry but there was an error: \" + xhr.status + \" \" + xhr.statusText;\n                            callback(tooltipContent);\n                            return;\n                        }\n\n                        tooltipContent = $(response).filter(tooltipHelpHtmlId).text();\n                        if (!tooltipContent) {\n                            tooltipContent = \"Missing help section for id = \" + tooltipHelpHtmlId + \" in html file \" + getHelpFileName(pageName);\n                        }\n\n                        callback(tooltipContent);\n                    }\n                );\n            }\n        }\n    );\n\n}\n\n//*------------------------------------------------------------------*\n\nmodule.exports = function (atlasBaseURL, pageName, parentElementId) {\n    initTooltips(atlasBaseURL, pageName, parentElementId);\n};\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/heatmap/~/expression-atlas-help-tooltips/src/helpTooltipsModule.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../css-loader/index.js!./gxaHelpTooltip.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./gxaHelpTooltip.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./gxaHelpTooltip.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/expression-atlas-help-tooltips/src/gxaHelpTooltip.css\n// module id = 3587\n// module chunks = 2 7","exports = module.exports = require(\"./../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaHelpTooltip {\\n    background: white;\\n    border-width: 1px !important;\\n    border: solid cornflowerblue;\\n    padding: 4px;\\n    color: cornflowerblue;\\n    font: 10px Verdana, Helvetica, Arial, sans-serif;\\n}\\n\\na.help-icon {\\n    color: darkorange;\\n    vertical-align: top;\\n    font: 10px Verdana, Helvetica, Arial, sans-serif;\\n    font-weight: bold;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/css-loader!./atlas_bundles/heatmap/~/expression-atlas-help-tooltips/src/gxaHelpTooltip.css\n// module id = 3588\n// module chunks = 2 7","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../css-loader/index.js!./gxaLegend.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./gxaLegend.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./gxaLegend.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/expression-atlas-legend/src/gxaLegend.css\n// module id = 3589\n// module chunks = 2 7","exports = module.exports = require(\"./../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaLegendHelp {\\n    display: inline-block;\\n    vertical-align: top;\\n    padding-left: 2px;\\n}\\n\\n.gxaLegend {\\n    display: inline-block;\\n    padding-left: 20px;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/css-loader!./atlas_bundles/heatmap/~/expression-atlas-legend/src/gxaLegend.css\n// module id = 3590\n// module chunks = 2 7","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\n\n//*------------------------------------------------------------------*\n\nvar LegendRow = require('./LegendRow.jsx');\nvar NumberFormat = require('expression-atlas-number-format').default;\nvar HelpTooltips = require('expression-atlas-help-tooltips');\n\n//*------------------------------------------------------------------*\n\nrequire('./gxaLegend.css');\n\n//*------------------------------------------------------------------*\n\nvar LegendBaseline = React.createClass({\n\n    propTypes: {\n        atlasBaseURL: React.PropTypes.string.isRequired,\n        minExpressionLevel: React.PropTypes.number.isRequired,\n        maxExpressionLevel: React.PropTypes.number.isRequired,\n        isMultiExperiment: React.PropTypes.bool.isRequired\n    },\n\n    render: function () {\n        var dataHelpLoc = this.props.isMultiExperiment ? \"#gradient-base-crossexp\" : \"#gradient-base\";\n\n        // The class gxaHeatmapLegendGradient is used for Selenium tests but isnt styled\n        return (\n            <div className=\"gxaHeatmapLegendGradient\">\n                <div style={{display: \"inline-table\"}}>\n                    <LegendRow lowExpressionLevel={NumberFormat.baselineExpression(this.props.minExpressionLevel)}\n                               highExpressionLevel={NumberFormat.baselineExpression(this.props.maxExpressionLevel)}\n                               lowValueColour=\"#C0C0C0\"\n                               highValueColour=\"#0000FF\"/>\n                </div>\n                <div ref={legendHelpDiv => { this.legendHelpDiv = legendHelpDiv; }} data-help-loc={dataHelpLoc} className=\"gxaLegendHelp\"></div>\n            </div>\n        );\n    },\n\n    componentDidMount: function () {\n        HelpTooltips(this.props.atlasBaseURL, \"experiment\", ReactDOM.findDOMNode(this.legendHelpDiv));\n    }\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = LegendBaseline;\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/heatmap/~/expression-atlas-legend/src/LegendBaseline.jsx","module.exports = require('./src/CellDifferential.jsx');\n\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/heatmap/~/expression-atlas-cell-differential/index.js","const React = require('react');\nconst ReactDOM = require('react-dom');\nconst ReactDOMServer = require('react-dom/server');\nconst $ = require('jquery');\nrequire('jquery-ui-bundle');\n\nconst NumberFormat = require('expression-atlas-number-format').default;\n\nrequire('./gxaShowHideCell.css');\nrequire('./gxaDifferentialCellTooltip.css');\n\nconst CellDifferential = React.createClass({\n\n    propTypes: {\n        fontSize: React.PropTypes.number,\n        colour: React.PropTypes.string,\n        foldChange: React.PropTypes.number,\n        pValue: React.PropTypes.number,\n        tStat: React.PropTypes.number,\n        displayLevels: React.PropTypes.bool.isRequired\n    },\n\n    _hasValue() {\n        return !!this.props.foldChange;\n    },\n\n    _getStyle() {\n        return this.props.fontSize ? { fontSize: `${this.props.fontSize}px` } : {};\n    },\n\n    render() {\n        if (!this._hasValue()) {\n            return <td/>;\n        }\n\n        return (\n            <td style={{backgroundColor: this.props.colour, verticalAlign: `middle`}}>\n                <div style={this._getStyle()} className={this.props.displayLevels ? `gxaShowCell` : `gxaHideCell`}>\n                    {this.props.foldChange}\n                </div>\n            </td>\n        );\n    },\n\n    componentDidMount() {\n        if (this._hasValue()) {\n            this._initTooltip(ReactDOM.findDOMNode(this));\n        }\n    },\n\n    _initTooltip(element) {\n\n        function buildHeatmapCellTooltip (pValue, tStatistic, foldChange) {\n            return (\n                    <table>\n                        <thead>\n                            <tr>\n                                {pValue ? <th>Adjusted <em>p</em>-value</th> : null}\n                                {tStatistic ? <th><em>t</em>-statistic</th> : null}\n                                <th>Log<sub>2</sub>-fold change</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr>\n                                {pValue ? <td>{NumberFormat.scientificNotation(pValue)}</td> : null}\n                                {tStatistic ? <td>{Math.floor(tStatistic * 1e4) / 1e4}</td> : null}\n                                <td>{foldChange}</td>\n                            </tr>\n                        </tbody>\n                    </table>\n            );\n        }\n\n        $(element).attr(`title`, ``).tooltip({\n            open: (event, ui) => {\n                ui.tooltip.css(`background`, this.props.colour);\n            },\n\n            tooltipClass: `gxaDifferentialCellTooltip`,\n\n            content: () => {\n                return ReactDOMServer.renderToStaticMarkup(\n                    buildHeatmapCellTooltip(this.props.pValue, this.props.tStat, this.props.foldChange));\n            }\n        });\n    }\n});\n\nmodule.exports = CellDifferential;\n\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/heatmap/~/expression-atlas-cell-differential/src/CellDifferential.jsx","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../css-loader/index.js!./gxaShowHideCell.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./gxaShowHideCell.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./gxaShowHideCell.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/expression-atlas-cell-differential/src/gxaShowHideCell.css\n// module id = 3598\n// module chunks = 2 7","exports = module.exports = require(\"./../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaShowCell {\\n    background-color: white;\\n    white-space: nowrap;\\n    text-align: center;\\n    margin: 4px;\\n    padding: 2px;\\n}\\n\\n.gxaHideCell {\\n    display: none;\\n    visibility: hidden;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/css-loader!./atlas_bundles/heatmap/~/expression-atlas-cell-differential/src/gxaShowHideCell.css\n// module id = 3599\n// module chunks = 2 7","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../css-loader/index.js!./gxaDifferentialCellTooltip.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./gxaDifferentialCellTooltip.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./gxaDifferentialCellTooltip.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/expression-atlas-cell-differential/src/gxaDifferentialCellTooltip.css\n// module id = 3600\n// module chunks = 2 7","exports = module.exports = require(\"./../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaDifferentialCellTooltip {\\n    width: 26%;\\n    left: 300px;\\n    border: solid transparent;\\n    color: darkslategray;\\n    padding: 2px;\\n    font: 10px Verdana, Helvetica, Arial, sans-serif;\\n}\\n\\n.gxaDifferentialCellTooltip table {\\n    margin: 0; /* overrides ebi-visual.css:134 */\\n    background-color: white;\\n    border: 1px solid lightgrey;\\n    border-collapse: collapse;\\n}\\n\\n.gxaDifferentialCellTooltip th {\\n    border-bottom: 1px solid lightgrey;\\n    background-color: floralwhite;\\n}\\n\\n.gxaDifferentialCellTooltip td, .gxaDifferentialCellTooltip th {\\n    text-align: center;\\n    white-space: nowrap;\\n    vertical-align: middle;\\n    padding: 8px;\\n    width: 25px;\\n}\\n.gxaDifferentialCellTooltip thead {\\n    font-size: 0.9em;\\n}\\n\\n.gxaDifferentialCellTooltip tbody {\\n    font-size: smaller;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/css-loader!./atlas_bundles/heatmap/~/expression-atlas-cell-differential/src/gxaDifferentialCellTooltip.css\n// module id = 3601\n// module chunks = 2 7","module.exports = require('./src/DisplayLevelsButton.jsx');\n\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/heatmap/~/expression-atlas-display-levels-button/index.js","var React = require('react');\nvar ReactDOM = require('react-dom');\n\nvar $ = require('jquery');\nrequire('jquery-ui-bundle');\n\nvar DisplayLevelsButton = React.createClass({\n\n    propTypes: {\n        hideText: React.PropTypes.string.isRequired,\n        showText: React.PropTypes.string.isRequired,\n        onClickCallback: React.PropTypes.func.isRequired,\n        displayLevels: React.PropTypes.bool.isRequired,\n        width: React.PropTypes.string,\n        fontSize: React.PropTypes.string\n    },\n\n    _buttonText: function () {\n        return this.props.displayLevels ? this.props.hideText : this.props.showText;\n    },\n\n    _updateButtonText: function () {\n        $(ReactDOM.findDOMNode(this)).button({ label: this._buttonText() });\n    },\n\n    render: function () {\n        var style = {\n        };\n        if (this.props.width) {\n            style.width = this.props.width;\n        }\n        if (this.props.fontSize) {\n            style.fontSize = this.props.fontSize;\n        }\n\n        return (\n            <button style={style} onClick={this.props.onClickCallback}/>\n        );\n    },\n\n    componentDidMount: function () {\n        this._updateButtonText();\n    },\n\n    componentDidUpdate: function () {\n        this._updateButtonText();\n    }\n\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = DisplayLevelsButton;\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/heatmap/~/expression-atlas-display-levels-button/src/DisplayLevelsButton.jsx","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nmodule.exports = require('./src/contrastTooltipModule.js');\n\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/heatmap/~/expression-atlas-contrast-tooltips/index.js","var React = require('react');\nvar ReactDOMServer = require('react-dom/server');\n\nvar $ = require('jquery');\nrequire('jquery-ui-bundle');\n\n//*------------------------------------------------------------------*\n\nvar ContrastTooltip = require('./ContrastTooltip.jsx');\n\n//*------------------------------------------------------------------*\n\nrequire('./gxaContrastTooltip.css');\n\n//*------------------------------------------------------------------*\n\nfunction initTooltip(contextRoot, accessKey, element, experimentAccession, contrastId) {\n\n    $(element).attr(\"title\", \"\").tooltip({\n\n        hide: false,\n\n        show: false,\n\n        tooltipClass: \"gxaContrastTooltip\",\n\n        position: { collision: \"none\" },\n\n        close: function() {\n            $(\".gxaContrastTooltip\").remove();\n        },\n\n        content: function (callback) {\n            $.ajax({\n                url:contextRoot + \"/rest/contrast-summary\",\n                data:{\n                    experimentAccession: experimentAccession,\n                    contrastId: contrastId,\n                    accessKey: accessKey\n                },\n                type:\"GET\",\n                success:function (data) {\n                    var html =\n                        ReactDOMServer.renderToString(\n                            React.createElement(\n                                ContrastTooltip,\n                                {\n                                    experimentDescription: data.experimentDescription,\n                                    contrastDescription: data.contrastDescription,\n                                    testReplicates: data.testReplicates,\n                                    referenceReplicates: data.referenceReplicates,\n                                    properties: data.properties\n                                }\n                            )\n                        );\n                    callback(html);\n                }\n            }).fail(function (data) {\n                console.log(\"ERROR:  \" + data);\n                callback(\"ERROR: \" + data);\n            });\n        }\n\n    });\n\n}\n\n//*------------------------------------------------------------------*\n\nmodule.exports = function (contextRoot, accessKey, element, experimentAccession, contrastId) {\n    initTooltip(contextRoot, accessKey, element, experimentAccession, contrastId);\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/heatmap/~/expression-atlas-contrast-tooltips/src/contrastTooltipModule.js","var React = require('react');\n\nvar ContrastTooltip = React.createClass({\n    propTypes: {\n        experimentDescription: React.PropTypes.string.isRequired,\n        contrastDescription: React.PropTypes.string.isRequired,\n        testReplicates: React.PropTypes.number.isRequired,\n        referenceReplicates: React.PropTypes.number.isRequired,\n        properties: React.PropTypes.arrayOf(\n            React.PropTypes.shape({\n                contrastPropertyType: React.PropTypes.string,\n                propertyName: React.PropTypes.string.isRequired,\n                referenceValue: React.PropTypes.string.isRequired,\n                testValue: React.PropTypes.string.isRequired\n            })\n        )\n    },\n\n\n    propertyRow: function (property) {\n        if (!property.testValue && !property.referenceValue) {\n            return null;\n        }\n\n        function isFactor(property) {\n            return property.contrastPropertyType === \"FACTOR\";\n        }\n\n        var style = {whiteSpace: \"normal\"};\n\n        if (isFactor(property)) {\n            style.fontWeight = \"bold\";\n        } else {\n            style.color = \"gray\";\n        }\n\n        return (\n            <tr key={property.contrastPropertyType + \"-\" + property.propertyName}>\n                <td style={style}>{property.propertyName}</td>\n                <td style={style}>{property.testValue}</td>\n                <td style={style}>{property.referenceValue}</td>\n            </tr>\n        );\n    },\n\n    render: function () {\n        return (\n            <div>\n                <div id=\"contrastExperimentDescription\" style={{fontWeight: \"bold\", color: \"blue\", textAlign: \"center\"}}>{this.props.experimentDescription}</div>\n                <div id=\"contrastDescription\" style={{textAlign: \"center\"}}>{this.props.contrastDescription}</div>\n                <table style={{padding: \"0px\", margin: \"0px\", width: \"100%\"}}>\n                    <thead>\n                        <tr>\n                            <th>Property</th>\n                            <th>Test value (N={this.props.testReplicates})</th>\n                            <th>Reference value (N={this.props.referenceReplicates})</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {this.props.properties.map(this.propertyRow)}\n                    </tbody>\n                </table>\n            </div>\n        );\n    }\n\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = ContrastTooltip;\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/heatmap/~/expression-atlas-contrast-tooltips/src/ContrastTooltip.jsx","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../css-loader/index.js!./gxaContrastTooltip.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./gxaContrastTooltip.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./gxaContrastTooltip.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/expression-atlas-contrast-tooltips/src/gxaContrastTooltip.css\n// module id = 3607\n// module chunks = 2 7","exports = module.exports = require(\"./../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaContrastTooltip {\\n    position: relative;\\n    border: solid transparent;\\n    color: darkslategray;\\n    padding: 2px;\\n    font: 10px Verdana, Helvetica, Arial, sans-serif;\\n    max-width: 500px;\\n}\\n\\n.gxaContrastTooltip table {\\n    margin: 0; /* overrides ebi-visual.css:134 */\\n    background-color: white;\\n    border: 1px solid lightgrey;\\n    border-collapse: collapse;\\n    font-size: 0.8em;\\n}\\n\\n.gxaContrastTooltip th {\\n    border-bottom: 1px solid lightgrey;\\n    background-color: floralwhite;\\n}\\n\\n.gxaContrastTooltip td {\\n    border: 1px solid lightgrey;\\n}\\n\\n.gxaContrastTooltip td, .gxaContrastTooltip th {\\n    vertical-align: middle;\\n    padding: 8px;\\n}\\n\\n#contrastExperimentDescription {\\n    font-size: small;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/css-loader!./atlas_bundles/heatmap/~/expression-atlas-contrast-tooltips/src/gxaContrastTooltip.css\n// module id = 3608\n// module chunks = 2 7","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar $ = require('jquery');\nrequire('jquery-ui-bundle');\n\n//*------------------------------------------------------------------*\n\nrequire('./genePropertiesTooltipModule.css');\n\n//*------------------------------------------------------------------*\n\n/**\n * @param {Object} options\n * @param {string} options.contextRoot\n * @param {string} options.geneName\n * @param {string} options.identifier\n * @param {Object} options.element\n */\nfunction initTooltip(options){\n\n    $(options.element).attr(\"title\", \"\").tooltip({\n\n        hide: false,\n\n        show: false,\n\n        tooltipClass: \"gxaGeneNameTooltip\",\n\n        close: function() {\n            $(\".gxaGeneNameTooltip\").remove();\n        },\n\n        position: { my: \"left+10 top\", at: \"right\"},\n\n        content: function (callback) {\n            if (options.identifier)  {\n                $.ajax({\n                    url: options.contextRoot + \"/rest/genename-tooltip\",\n                    data: {\n                        geneName: options.geneName,\n                        identifier: options.identifier\n                    },\n                    type:\"GET\",\n                    success: function (response) {\n                        if (!response) {\n                            callback(\"Missing properties for id = \" + options.identifier + \" in Solr.\");\n                        }\n\n                        callback(response);\n                    }\n                }).fail(function (data) {\n                    console.log(\"ERROR:  \" + data);\n                    callback(\"ERROR: \" + data);\n                });\n            }\n        }\n\n    });\n\n}\n\n//*------------------------------------------------------------------*\n\nexports.init = function(contextRoot, element, identifier, geneName) {\n    initTooltip({contextRoot: contextRoot, element: element, identifier: identifier, geneName: geneName});\n};\n\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/heatmap/src/genePropertiesTooltipModule.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./genePropertiesTooltipModule.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./genePropertiesTooltipModule.css\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./genePropertiesTooltipModule.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/src/genePropertiesTooltipModule.css\n// module id = 3610\n// module chunks = 2 7","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaGeneNameTooltip {\\n    border: solid transparent;\\n    color: darkslategray;\\n    padding: 2px;\\n    font: 10px Verdana, Helvetica, Arial, sans-serif;\\n    background: floralwhite;\\n}\\n\\nspan.gxaGenePropertyLabel {\\n    color: brown;\\n    font-weight: bold;\\n    display: inline-block;\\n    text-align: left;\\n}\\n\\n.gxaPropertyValueMarkup {\\n    text-align: center;\\n    background-color: rgb(223, 213, 213);\\n\\n}\\n\\n.gxaGeneNameTooltip {\\n    text-align: justify;\\n}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/css-loader!./atlas_bundles/heatmap/src/genePropertiesTooltipModule.css\n// module id = 3611\n// module chunks = 2 7","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar ReactDOMServer = require('react-dom/server');\n\nvar $ = require('jquery');\nrequire('jquery-ui-bundle');\n\n//*------------------------------------------------------------------*\n\nvar FactorTooltip = require('./FactorTooltip.jsx');\n\n//*------------------------------------------------------------------*\n\nrequire('./factorTooltipModule.css');\n\n//*------------------------------------------------------------------*\n\n/**\n * @param {Object} options\n * @param {string} options.contextRoot\n * @param {string} options.accessKey\n * @param {string} options.experimentAccession\n * @param {string} options.assayGroupId\n * @param {Object} options.element\n */\nfunction initTooltip(options) {\n\n    $(options.element).attr(\"title\", \"\").tooltip({\n\n        hide:false,\n\n        show:false,\n\n        tooltipClass: \"gxaFactorTooltip\",\n\n        close: function() {\n            $(\".gxaFactorTooltip\").remove();\n        },\n\n        content: function (callback) {\n            $.ajax({\n                url: options.contextRoot + \"/rest/assayGroup-summary\",\n                data:{\n                    experimentAccession: options.experimentAccession,\n                    assayGroupId: options.assayGroupId,\n                    accessKey: options.accessKey\n                },\n                type:\"GET\",\n                success:function (data) {\n                    var html =\n                        ReactDOMServer.renderToString(\n                            React.createElement(\n                                FactorTooltip,\n                                {\n                                    properties: data.properties,\n                                    replicates: data.replicates\n                                }\n                            )\n                        );\n                    callback(html);\n                }\n            }).fail(function (data) {\n                    console.log(\"ERROR:  \" + data);\n                    callback(\"ERROR: \" + data);\n            });\n        }\n    });\n}\n\n//*------------------------------------------------------------------*\n\nexports.init = function (contextRoot, accessKey, element, experimentAccession, assayGroupId) {\n    initTooltip({contextRoot: contextRoot, accessKey: accessKey, element: element, experimentAccession: experimentAccession, assayGroupId: assayGroupId});\n};\n\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/heatmap/src/factorTooltipModule.js","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\n\n//*------------------------------------------------------------------*\n\nvar FactorTooltip = React.createClass({\n\n    propertyRow: function (property) {\n        if (!property.testValue) {\n            return null;\n        }\n\n        function isFactor(property) {\n            return property.contrastPropertyType === 'FACTOR';\n        }\n\n        var style = {'whiteSpace': 'normal'};\n\n        if (isFactor(property)) {\n            style['fontWeight'] = 'bold';\n        } else {\n            style['color'] = 'gray';\n        }\n\n        return (\n            <tr key={property.propertyName}>\n                <td style={style}>{property.propertyName}</td>\n                <td style={style}>{property.testValue}</td>\n            </tr>\n        );\n    },\n\n    render: function () {\n        return (\n            <div>\n                <table>\n                    <thead>\n                        <tr>\n                            <th>Property</th>\n                            <th>Value (N={this.props.replicates})</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {this.props.properties.map(this.propertyRow)}\n                    </tbody>\n                </table>\n            </div>\n        );\n    }\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = FactorTooltip;\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/heatmap/src/FactorTooltip.jsx","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./factorTooltipModule.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./factorTooltipModule.css\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./factorTooltipModule.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/src/factorTooltipModule.css\n// module id = 3614\n// module chunks = 2 7","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaFactorTooltip {\\n    border: solid transparent;\\n    color: darkslategray;\\n    padding: 2px;\\n    font: 10px Verdana, Helvetica, Arial, sans-serif;\\n    max-width: 600px;\\n}\\n\\n.gxaFactorTooltip table {\\n    margin: 0; /* overrides ebi-visual.css:134 */\\n    background-color: white;\\n    border: 1px solid lightgrey;\\n    border-collapse: collapse;\\n}\\n\\n.gxaFactorTooltip th {\\n    border-bottom: 1px solid lightgrey;\\n    background-color: floralwhite;\\n}\\n\\n.gxaFactorTooltip td {\\n    border: 1px solid lightgrey;\\n    white-space: nowrap;\\n}\\n\\n.gxaFactorTooltip td, .gxaFactorTooltip th {\\n    vertical-align: middle;\\n    padding: 8px;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/css-loader!./atlas_bundles/heatmap/src/factorTooltipModule.css\n// module id = 3615\n// module chunks = 2 7","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar $ = require('jquery');\n\n//*------------------------------------------------------------------*\n\nfunction StickyHeaderModule(table, stickyIntersect, stickyColumn, stickyHeadRow, stickyWrap, tableHeader) {\n    var $t\t             = $(table),\n        $stickyIntersect = $(stickyIntersect),\n        $stickyColumn    = $(stickyColumn),\n        $stickyHeadRow   = $(stickyHeadRow),\n        $stickyWrap      = $(stickyWrap),\n        $tableHeader     = $(tableHeader);\n\n    var calculateAllowance = createStickyAllowanceCallback($t, $stickyHeadRow);\n    var stickyReposition = createStickyRepositionCallback($t, $stickyIntersect, $stickyColumn, $stickyHeadRow, $stickyWrap, $tableHeader, calculateAllowance);\n    var setWidthAndHeight = createSetStickyWidthHeight($t, $stickyIntersect, $stickyColumn, $stickyHeadRow, $stickyWrap);\n    var setWidthsAndReposition = createSetStickyWidthHeightAndRepositionCallback(setWidthAndHeight, stickyReposition);\n\n    return {\n        calculateAllowance: calculateAllowance,\n        stickyReposition: stickyReposition,\n        setWidthAndHeight: setWidthAndHeight,\n        setWidthsAndReposition: setWidthsAndReposition\n    };\n\n    function createSetStickyWidthHeight($t, $stickyIntersect, $stickyColumn, $stickyHeadRow, $stickyWrap) {\n        return function () {\n            $t.find(\"thead th\").each(\n                function (i) {\n                    $stickyHeadRow.find(\"th\").eq(i).width($(this).width());\n                }\n            ).end().find(\"tr\").each(\n                function (i) {\n                    $stickyColumn.find(\"tr\").eq(i).height($(this).height());\n                    $stickyIntersect.find(\"tr\").eq(i).height($(this).height());\n                }\n            );\n\n            $stickyHeadRow.width($stickyWrap.width()).find(\"table\").width($t.width());\n            $stickyIntersect.find(\"table\").outerWidth($t.find(\"thead th\").eq(0).outerWidth());\n            $stickyColumn.find(\"table\").outerWidth($t.find(\"thead th\").eq(0).outerWidth());\n\n            // Set width of sticky table col\n            $stickyIntersect.find(\"tr:nth-child(2) th\").each(function (i) {\n                $(this).width($t.find(\"tr:nth-child(2) th\").eq(i).width());\n            });\n        }\n    }\n\n    function createStickyRepositionCallback($t, $stickyIntersect, $stickyColumn, $stickyHeadRow, $stickyWrap, $tableHeader, stickyAllowanceCallback) {\n        return function() {\n            var $w = $(window);\n\n            // Set position sticky col\n            $stickyHeadRow.add($stickyIntersect).add($stickyColumn).css({\n                left: $stickyWrap.offset().left,\n                top: $stickyWrap.offset().top\n            });\n\n            var allowance = stickyAllowanceCallback();\n\n            $stickyHeadRow.find(\"table\").css({\n                left: -$stickyWrap.scrollLeft()\n            });\n            $stickyColumn.css({\n                top: $stickyWrap.offset().top - $w.scrollTop(),\n                left: $stickyWrap.offset().left\n            });\n\n            // 1. Position sticky header based on viewport scrollTop\n            if ($w.scrollTop() + $tableHeader.outerHeight() > $t.offset().top &&\n                $w.scrollTop() + $tableHeader.outerHeight() < $t.offset().top + $t.outerHeight() - allowance) {\n                // When top of viewport is in the table itself\n                $stickyHeadRow.add($stickyIntersect).css({\n                    visibility: \"visible\",\n                    top: $tableHeader.outerHeight()\n                });\n            } else if ($w.scrollTop() + $tableHeader.outerHeight() > $t.offset().top + $t.outerHeight() - allowance) {\n                $stickyHeadRow.add($stickyIntersect).css({\n                    visibility: \"visible\",\n                    top: $t.offset().top + $t.outerHeight() - allowance - $w.scrollTop()\n                });\n            } else {\n                // When top of viewport is above or below table\n                $stickyHeadRow.add($stickyIntersect).css({\n                    visibility: \"hidden\",\n                    top: $stickyWrap.offset().top - $w.scrollTop()\n                });\n            }\n\n            // 2. Now deal with positioning of sticky column\n            if($stickyWrap.scrollLeft() > 0) {\n                // When left of wrapping parent is out of view\n                $stickyColumn.css({\n                    visibility: \"visible\",\n                    \"z-index\": 40\n                });\n            } else {\n                $stickyColumn.css({\n                    visibility: \"hidden\",\n                    \"z-index\": -5\n                });\n            }\n        }\n    }\n\n    function createSetStickyWidthHeightAndRepositionCallback(setWidthAndHeightCallback, stickyRepositionCallback) {\n        return function () {\n            setWidthAndHeightCallback();\n            stickyRepositionCallback();\n        }\n    }\n\n    function createStickyAllowanceCallback($t, $stickyHeadRow) {\n        return function() {\n            var rowHeight = 0;\n            // Calculate allowance\n            $t.find(\"tbody tr:lt(1)\").each(function () {\n                rowHeight += $(this).height();\n            });\n            return rowHeight + $stickyHeadRow.height();\n        }\n    }\n}\n\n//*------------------------------------------------------------------*\n\nmodule.exports = StickyHeaderModule;\n\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/heatmap/src/stickyHeaderModule.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./stickyHeaderModule.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./stickyHeaderModule.css\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./stickyHeaderModule.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/src/stickyHeaderModule.css\n// module id = 3617\n// module chunks = 2 7","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaStickyTableWrap {\\n    overflow-x: auto;\\n    overflow-y: hidden;\\n    position: relative;\\n    width: 100%;\\n}\\n\\n.gxaStickyTableWrap div[class^='gxaSticky'] {\\n    overflow: hidden;\\n}\\n.gxaStickyTableWrap tfoot {\\n    display: none;\\n}\\n.gxaStickyTableWrap div table {\\n    margin: 0;\\n    position: relative;\\n    width: auto; /* Prevent table from stretching to full size */\\n    border-collapse: collapse;\\n}\\n.gxaStickyTableWrap .gxaStickyTableHeader,\\n.gxaStickyTableWrap .gxaStickyTableColumn,\\n.gxaStickyTableWrap .gxaStickyTableIntersect {\\n    visibility: hidden;\\n    position: fixed;\\n    z-index: 40;\\n}\\n.gxaStickyTableWrap .gxaStickyTableHeader {\\n    z-index: 50;\\n    width: 100%; /* Force stretch */\\n}\\n.gxaStickyTableWrap .gxaStickyTableIntersect {\\n    z-index: 60;\\n}\\n.gxaStickyTableWrap td,\\n.gxaStickyTableWrap th {\\n    box-sizing: border-box;\\n}\\n.gxaStickyTableWrap thead th {\\n    -webkit-user-select: none;\\n    -moz-user-select: none;\\n    -ms-user-select: none;\\n}\\n.gxaStickyEnabled {\\n    margin: 0;\\n    width: auto;\\n}\\n\\n.wrapper-sticky {\\n    z-index: 45;\\n}\\n\\n/* To hide sticky column and intersect when screen gets too narrow */\\n@media only screen and (max-width: 768px) {\\n    .gxaStickyTableColumn, .gxaStickyTableIntersect {\\n        display: none;\\n    }\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/css-loader!./atlas_bundles/heatmap/src/stickyHeaderModule.css\n// module id = 3618\n// module chunks = 2 7","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./Heatmap.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./Heatmap.css\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./Heatmap.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/src/Heatmap.css\n// module id = 3619\n// module chunks = 2 7","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaHeatmapMatrixTopLeftCorner {\\n    position: relative;\\n    display: table;\\n    height: 110px;\\n    width: 100%;\\n    min-width: 160px;\\n}\\n\\n.gxaTableGrid {\\n    color: #404040;\\n    background-color: white;\\n    border: 1px solid #cdcdcd !important;\\n    border-spacing: 0;\\n    empty-cells: show;\\n    height: 100%;\\n    text-align: left;\\n    width: auto;\\n    border-collapse: collapse;\\n}\\n\\n.gxaTableGrid>tbody>tr>td, .gxaTableGrid>thead>tr>td {\\n    color: #3D3D3D;\\n    vertical-align: middle;\\n    border: 1px solid #cdcdcd !important;\\n    height: 25px;\\n    width: 25px;\\n    white-space: nowrap;\\n}\\n\\nth.gxaVerticalHeaderCell, .gxaHorizontalHeaderCell {\\n    font-weight: normal;\\n    background-color: rgb(237, 246, 246) !important;\\n}\\n\\nth.gxaHoverableHeader:hover, th.gxaHeaderHover {\\n    background-color: #deebeb !important;\\n}\\n\\nth.gxaSelectableHeader:hover {\\n    cursor: pointer;\\n}\\n\\nth.gxaVerticalHeaderCell-selected, th.gxaVerticalHeaderCell-selected:hover, th.gxaHorizontalHeaderCell-selected, th.gxaHorizontalHeaderCell-selected:hover {\\n    background-color: rgb(181, 234, 234) !important;\\n    border: 1px solid #cdcdcd;\\n    padding:5px;\\n}\\n\\nth.gxaHorizontalHeaderCell {\\n    border: 1px solid #cdcdcd;\\n    white-space: nowrap;\\n    padding:5px;\\n    text-align: left !important;\\n}\\n\\ntr.gxaProteomicsExperiment td.gxaHorizontalHeaderCell {\\n    background-color: rgb(210, 233, 233) !important;\\n}\\n\\ntr.gxaProteomicsExperiment td.gxaHorizontalHeaderCell-selected, tr.gxaProteomicsExperiment td.gxaHorizontalHeaderCell:hover {\\n    background-color: rgb(200, 220, 220) !important;\\n}\\n\\n.gxaHeatmapCell {\\n    font-size: 9px;\\n    background-color: white;\\n    margin: 4px;\\n    padding: 2px;\\n    white-space: nowrap;\\n    text-align: center;\\n}\\n\\nth.gxaHeatmapTableDesignElement {\\n    font-weight: normal;\\n    text-align: left;\\n    border: 1px solid #CDCDCD;\\n}\\n\\n.gxaHeatmapCountAndLegend {\\n    background: white;\\n}\\n\\n.csstransforms .rotated_cell {\\n    height: 130px;\\n    border: 1px solid #cdcdcd;\\n    vertical-align: bottom;\\n    padding-bottom: 10px\\n}\\n\\n.csstransforms .rotate_text {\\n    position: relative;\\n    top: 27px;\\n    width: 25px;\\n    padding-top: 5px;\\n    white-space: nowrap;\\n    -moz-transform: rotate(-90deg);\\n    -moz-transform-origin: top left;\\n    -ms-transform: rotate(-90deg);\\n    -ms-transform-origin: top left;\\n    -webkit-transform: rotate(-90deg);\\n    -webkit-transform-origin: top left;\\n    -o-transform: rotate(-90deg);\\n    -o-transform-origin: top left;\\n}\\n\\n.csstransforms .rotate_tick {\\n    -moz-transform: rotate(-270deg);\\n    -webkit-transform: rotate(-270deg);\\n    -ms-transform: rotate(-270deg);\\n    -o-transform: rotate(-270deg);\\n}\\n\\n.gxaNoTextButton {\\n    border: 1px solid #ccc !important; /* overrides ebi-visual.css */\\n}\\n\\n.gxaNoTextButton .ui-button-text {\\n    padding: 2px;\\n}\\n\\n.gxaFeedbackBoxWrapper {\\n  margin-top: 15px;\\n}\\n\\n.gxaDisplayCoexpressionOffer {\\n  margin-top: 30px;\\n}\\n\\n.gxaDisplayCoexpressionOffer .gxaSlider {\\n  width: 250px;\\n  margin: 15px;\\n  padding-bottom: 20px;\\n}\\n\\n.gxaDisplayCoexpressionOffer p {\\n  font-size: 93%;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/css-loader!./atlas_bundles/heatmap/src/Heatmap.css\n// module id = 3620\n// module chunks = 2 7","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nmodule.exports = {\n    BASELINE: { isBaseline: true, heatmapTooltip: \"#heatMapTableCellInfo-baseline\" },\n    PROTEOMICS_BASELINE: { isBaseline: true, isProteomics: true, heatmapTooltip: \"#heatMapTableCellInfo-proteomics\" },\n    DIFFERENTIAL: { isDifferential: true, heatmapTooltip: \"#heatMapTableCellInfo-differential\" },\n    MULTIEXPERIMENT: { isMultiExperiment: true, heatmapTooltip: \"#heatMapTableCellInfo-multiexperiment\" }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/heatmap/src/experimentTypes.js","module.exports = require('./src/heatmapAnatomogramRenderer.js');\n\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/heatmap/index.js","\"use strict\";\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\n\n//*------------------------------------------------------------------*\n\nvar EventEmitter = require('events');\n\nvar HeatmapAnatomogramContainer = require('./HeatmapAnatomogramContainer.jsx');\n\nvar ExperimentTypes = require('./experimentTypes.js');\n\n//*------------------------------------------------------------------*\n\n/**\n * @param {Object}      options\n * @param {string}          options.proxyPrefix - optionally set as \"http(s?)://\" or to proxy URL\n * @param {string}          options.selfHosted - Set this as true if you want to host our content yourself, but have outwards links pointing to our original site\n * @param {boolean=}        options.disableGoogleAnalytics - Disable Google Analytics: required by CTTV\n * @param {string=}         options.atlasHost - Atlas host with port (note: dont include port)\n * @param {string}          options.params\n * @param {boolean=}        options.isMultiExperiment\n * @param {boolean=}        options.showAnatomogram\n * @param {boolean=}        options.isWidget\n * @param {string | Object} options.target - a <div> id or a DOM element, as returned by ReactDOM.findDOMNode()\n * @param {function}        options.fail - Callback to run if the AJAX request to the server fails. (jqXHR, textStatus)\n */\nexports.render = function(options) {\n\n  var atlasHost = options.atlasHost === undefined ? \"https://www.ebi.ac.uk\" : options.atlasHost,\n      atlasPath = \"/gxa\";\n\n  var atlasBaseURL =\n      (atlasHost.indexOf(\"http://\") === 0 || atlasHost.indexOf(\"https://\") === 0\n        ? \"\"\n        : options.proxyPrefix || \"https://\")\n      + atlasHost\n      + atlasPath;\n\n  var linksAtlasBaseURL = options.selfHosted? (options.proxyPrefix || \"https://\")+ \"www.ebi.ac.uk/gxa\": atlasBaseURL;\n\n    var endpointPath = options.isMultiExperiment ? \"/widgets/heatmap/baselineAnalytics\" : \"/widgets/heatmap/referenceExperiment\";\n\n    var sourceURL = atlasBaseURL + endpointPath + \"?\" + options.params;\n\n    var anatomogramEventEmitter = new EventEmitter();\n    anatomogramEventEmitter.setMaxListeners(0);\n\n    ReactDOM.render(\n        React.createElement(\n            HeatmapAnatomogramContainer,\n            {   key: JSON.stringify(options.params),\n                sourceURL: sourceURL,\n                atlasBaseURL: atlasBaseURL,\n                pathToFolderWithBundledResources:linksAtlasBaseURL+\"/resources/js-bundles/\",\n                linksAtlasBaseURL: linksAtlasBaseURL,\n                type: options.isMultiExperiment ? ExperimentTypes.MULTIEXPERIMENT : ExperimentTypes.BASELINE,\n                showAnatomogram: options.showAnatomogram === undefined ? true : options.showAnatomogram,\n                isWidget: options.isWidget === undefined ? true : options.isWidget,\n                disableGoogleAnalytics: options.disableGoogleAnalytics === undefined ? false : options.disableGoogleAnalytics,\n                fail: options.fail,\n                anatomogramEventEmitter: anatomogramEventEmitter\n            }\n        ),\n        (typeof options.target === \"string\") ? document.getElementById(options.target) : options.target\n    );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/heatmap/src/heatmapAnatomogramRenderer.js","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\n\nvar $ = require('jquery');\nrequire('jquery-hc-sticky');\n\nvar URI = require('urijs');\n\n//*------------------------------------------------------------------*\n\nvar Anatomogram = require('anatomogram');\nvar Heatmap = require('./Heatmap.jsx');\nvar ExperimentsList = require('./ExperimentsList.jsx');\nvar ExperimentTypes = require('./experimentTypes.js');\n\n//*------------------------------------------------------------------*\n\nrequire('./HeatmapAnatomogramContainer.css');\n\n//*------------------------------------------------------------------*\n\nvar ExperimentDescription = React.createClass({\n    propTypes: {\n        linksAtlasBaseURL: React.PropTypes.string.isRequired,\n        experiment: React.PropTypes.shape({\n            URL: React.PropTypes.string.isRequired,\n            description: React.PropTypes.string.isRequired,\n            species: React.PropTypes.string.isRequired\n        }).isRequired\n    },\n\n    render: function () {\n\n        var experimentURL = this.props.linksAtlasBaseURL + this.props.experiment.URL;\n\n        return (\n            <div style={{width: \"100%\", paddingBottom: \"20px\"}}>\n                <div id=\"experimentDescription\">\n                    <a id=\"goto-experiment\" className=\"gxaThickLink\" title=\"Experiment Page\" href={experimentURL}>{this.props.experiment.description}</a>\n                </div>\n                <div id=\"experimentOrganisms\">Organism: <span style={{\"fontStyle\":\"italic\"}}>{this.props.experiment.species}</span></div>\n            </div>\n        );\n    }\n\n});\nvar AsynchronouslyLoadedHeatmapAnatomogramContainer = React.createClass({\n  getDefaultProps: function(){\n    return {\n      referenceToAnatomogramContainer: \"anatomogramContainer\"\n    }\n  },\n\n\n  _ontologyIdsForTissuesExpressedInAllRows: function(){\n    //TODO be less copypastey\n    var _expressedFactors= function(expressedFactorsPerRow){\n      var o = expressedFactorsPerRow;\n      var vs = Object.keys(o).map(function(e){return o[e];});\n      return (\n        [].concat.apply([],vs)\n        .filter(function uniq(e, ix, self) {\n            return self.indexOf(e) === ix;\n        })\n      );\n    };\n    var _expressedFactorsPerRow = function(profileRows){\n      return (\n        profileRows\n        .reduce(function(result,row){\n          result[row.name] =\n            row.expressions.filter(function(expression){\n              return expression.value;\n            })\n            .map(function(expression){\n              return expression.svgPathId\n            });\n          return result;\n        },{})\n      );\n    };\n    return _expressedFactors(_expressedFactorsPerRow(this.props.profiles.rows));\n  },\n  _ontologyIdsForTissuesExpressedInRow: function(rowTitle){\n    //TODO be more sane\n    var _expressedFactorsPerRow = function(profileRows){\n      return (\n        profileRows\n        .reduce(function(result,row){\n          result[row.name] =\n            row.expressions.filter(function(expression){\n              return expression.value;\n            })\n            .map(function(expression){\n              return expression.svgPathId\n            });\n          return result;\n        },{})\n      );\n    };\n    return (\n      _expressedFactorsPerRow(this.props.profiles.rows)[rowTitle]\n    )\n  },\n  render: function (){\n\n    var anatomogramExpressedTissueColour = this.props.type.isMultiExperiment ? \"red\" : \"gray\";\n    var anatomogramHoveredTissueColour = this.props.type.isMultiExperiment ? \"indigo\" : \"red\";\n    var anatomogramConfig = {\n      pathToFolderWithBundledResources:this.props.pathToFolderWithBundledResources,\n      anatomogramData: this.props.anatomogramData,\n      expressedTissueColour: anatomogramExpressedTissueColour,\n      hoveredTissueColour: anatomogramHoveredTissueColour,\n      idsExpressedInExperiment:this._ontologyIdsForTissuesExpressedInAllRows(),\n      eventEmitter: this.props.anatomogramEventEmitter,\n      atlasBaseURL: this.props.atlasBaseURL\n    }\n\n    var homoSapiensCellLine = this.props.heatmapConfig.species === \"homo sapiens\" && new URI(this.props.sourceURL).search(true).source === \"CELL_LINE\";\n    var Component, componentProps;\n    if(homoSapiensCellLine){\n      Component = ExperimentsList;\n      componentProps = {\n         profiles:this.props.profiles,\n         atlasBaseURL:this.props.atlasBaseURL,\n         linksAtlasBaseURL:this.props.linksAtlasBaseURL,\n         geneQuery:this.props.heatmapConfig.geneQuery\n      };\n    } else {\n      Component = Heatmap;\n      componentProps = {\n        type:this.props.type,\n                 heatmapConfig:this.props.heatmapConfig,\n                 columnHeaders:this.props.columnHeaders,\n                 profiles:this.props.profiles,\n                 geneSetProfiles:this.props.geneSetProfiles,\n                 anatomogramEventEmitter:this.props.anatomogramEventEmitter,\n                 atlasBaseURL:this.props.atlasBaseURL,\n                 linksAtlasBaseURL:this.props.linksAtlasBaseURL,\n                 googleAnalyticsCallback:this.props.googleAnalyticsCallback\n      };\n    }\n    var Wrapped = Anatomogram.wrapComponent(anatomogramConfig, Component, componentProps);\n    return (\n      this.props.anatomogramData\n          ? <Wrapped ref={this.props.referenceToAnatomogramContainer}/>\n          :<Component {...componentProps} />\n    )\n  },\n  componentDidMount: function(){\n    this.props.anatomogramEventEmitter\n    .addListener('gxaHeatmapColumnHoverChange',\n      function(columnId){\n        this.refs[this.props.referenceToAnatomogramContainer].setState({ontologyIdsForComponentContentUnderFocus:columnId?[columnId]:[]});\n      }.bind(this));\n    this.props.anatomogramEventEmitter\n    .addListener('gxaHeatmapRowHoverChange',\n      function(rowId){\n        this.refs[this.props.referenceToAnatomogramContainer].setState({ontologyIdsForComponentContentUnderFocus: rowId? this._ontologyIdsForTissuesExpressedInRow(rowId): []});\n    }.bind(this));\n  }\n});\nvar HeatmapAnatomogramContainer = React.createClass({\n    propTypes: {\n        pathToFolderWithBundledResources: React.PropTypes.string.isRequired,\n        sourceURL: React.PropTypes.string.isRequired,\n        atlasBaseURL: React.PropTypes.string.isRequired,\n        linksAtlasBaseURL: React.PropTypes.string.isRequired,\n        type: React.PropTypes.oneOf([\n            ExperimentTypes.BASELINE, ExperimentTypes.MULTIEXPERIMENT, ExperimentTypes.DIFFERENTIAL, ExperimentTypes.PROTEOMICS_BASELINE\n        ]).isRequired,\n        showAnatomogram: React.PropTypes.bool.isRequired,\n        isWidget: React.PropTypes.bool.isRequired,\n        disableGoogleAnalytics: React.PropTypes.bool.isRequired,\n        fail: React.PropTypes.func,\n        googleAnalyticsCallback: React.PropTypes.func,\n        anatomogramEventEmitter: React.PropTypes.object.isRequired,\n        facetsEventEmitter: React.PropTypes.object,\n    },\n\n    render: function () {\n\n        var geneURL =\n            this.props.linksAtlasBaseURL + \"/query\" +\n            \"?geneQuery=\" + this.state.heatmapConfig.geneQuery +\n            \"&organism=\" + this.state.heatmapConfig.species;\n\n\n        return (\n            <div ref=\"this\">\n\n                { this.state.experimentData ?\n                    <ExperimentDescription experiment={this.state.experimentData} linksAtlasBaseURL={this.props.linksAtlasBaseURL}/>\n                    : null\n                }\n\n                { this.state.heatmapConfig\n                  ?   <AsynchronouslyLoadedHeatmapAnatomogramContainer {...this.props} {...this.state} />\n                  :\n                    <div ref=\"loadingImagePlaceholder\">\n                        <img src={this.props.atlasBaseURL + \"/resources/images/loading.gif\"}/>\n                    </div>\n                }\n\n                { this.props.isWidget ?\n                    <div><p><a href={geneURL}>See more expression data at Expression Atlas.</a>\n                        <br/>This expression view is provided by <a href={this.props.linksAtlasBaseURL}>Expression Atlas</a>.\n                        <br/>Please direct any queries or feedback to <a href=\"mailto:arrayexpress-atlas@ebi.ac.uk\">arrayexpress-atlas@ebi.ac.uk</a></p>\n                    </div>\n                    :\n                    null\n                }\n\n            </div>\n        );\n    },\n\n    getInitialState: function() {\n        return {\n            heatmapConfig: '',\n            columnHeaders: [],\n            profiles: {\n                rows: [],\n                minExpressionLevel: 0,\n                maxExpressionLevel: 0\n            },\n            jsonCoexpressions:[],\n            geneSetProfiles: {},\n            anatomogramData: {},\n            experimentData: '',\n            googleAnalyticsCallback: function (){}\n        }\n    },\n\n    _updateStateAsynchronously: function (data) {\n        this.setState({\n            heatmapConfig: data.config,\n            columnHeaders: data.columnHeaders,\n            profiles: data.profiles,\n            jsonCoexpressions : data.jsonCoexpressions,\n            geneSetProfiles: data.geneSetProfiles,\n            anatomogramData: data.anatomogram,\n            experimentData: data.experiment\n        });\n    },\n\n    componentDidMount: function() {\n        var handleError = function(jqXHR, textStatus, errorThrown) {\n            if (this.props.fail) {\n                this.props.fail(jqXHR, textStatus, errorThrown);\n            } else if (textStatus === \"parsererror\") {\n                $(ReactDOM.findDOMNode(this.refs.this)).html('<div class=\"gxaError\">Could not parse JSON response</div>');\n            } else {\n                $(ReactDOM.findDOMNode(this.refs.this)).html('<div class=\"gxaError\">' + jqXHR.responseText + '</div>');\n            }\n        }.bind(this);\n\n        var handleSuccess = function(data) {\n            if (\"error\" in data) {\n                handleError({responseText: data.error});\n            } else {\n                this._updateStateAsynchronously(data);\n            }\n        }.bind(this);\n\n        var httpRequest = {\n            url: this.props.sourceURL,\n            dataType: \"json\",\n            method: \"GET\",\n            success: handleSuccess,\n            error: handleError\n        };\n\n        this.serverRequest = $.ajax(httpRequest);\n\n        if (!this.props.disableGoogleAnalytics) {\n            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');\n\n            ga('create', 'UA-37676851-1', 'auto');\n            ga('send', 'pageview');\n            this.setState({googleAnalyticsCallback: ga});\n        }\n    },\n\n    componentDidUpdate: function() {\n        // This mounted component is only going to be updated when changing this.props.showAnatomogram, so we only take\n        // care of the anatomogram, the legend and the sticky header (the last two through an event)\n        var $anatomogram = $(ReactDOM.findDOMNode(this.refs.anatomogramEnsembl));\n\n        if (this.props.showAnatomogram) {\n            $anatomogram.hcSticky({responsive: true});\n        }\n\n        $(window).trigger(\"gxaResizeHeatmapAnatomogramHeader\");\n    },\n    componentWillUnmount: function() {\n        this.serverRequest.abort();\n    }\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = HeatmapAnatomogramContainer;\n\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/heatmap/src/HeatmapAnatomogramContainer.jsx","/*!\n * URI.js - Mutating URLs\n *\n * Version: 1.17.1\n *\n * Author: Rodney Rehm\n * Web: http://medialize.github.io/URI.js/\n *\n * Licensed under\n *   MIT License http://www.opensource.org/licenses/mit-license\n *\n */\n(function (root, factory) {\n  'use strict';\n  // https://github.com/umdjs/umd/blob/master/returnExports.js\n  if (typeof exports === 'object') {\n    // Node\n    module.exports = factory(require('./punycode'), require('./IPv6'), require('./SecondLevelDomains'));\n  } else if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define(['./punycode', './IPv6', './SecondLevelDomains'], factory);\n  } else {\n    // Browser globals (root is window)\n    root.URI = factory(root.punycode, root.IPv6, root.SecondLevelDomains, root);\n  }\n}(this, function (punycode, IPv6, SLD, root) {\n  'use strict';\n  /*global location, escape, unescape */\n  // FIXME: v2.0.0 renamce non-camelCase properties to uppercase\n  /*jshint camelcase: false */\n\n  // save current URI variable, if any\n  var _URI = root && root.URI;\n\n  function URI(url, base) {\n    var _urlSupplied = arguments.length >= 1;\n    var _baseSupplied = arguments.length >= 2;\n\n    // Allow instantiation without the 'new' keyword\n    if (!(this instanceof URI)) {\n      if (_urlSupplied) {\n        if (_baseSupplied) {\n          return new URI(url, base);\n        }\n\n        return new URI(url);\n      }\n\n      return new URI();\n    }\n\n    if (url === undefined) {\n      if (_urlSupplied) {\n        throw new TypeError('undefined is not a valid argument for URI');\n      }\n\n      if (typeof location !== 'undefined') {\n        url = location.href + '';\n      } else {\n        url = '';\n      }\n    }\n\n    this.href(url);\n\n    // resolve to base according to http://dvcs.w3.org/hg/url/raw-file/tip/Overview.html#constructor\n    if (base !== undefined) {\n      return this.absoluteTo(base);\n    }\n\n    return this;\n  }\n\n  URI.version = '1.17.1';\n\n  var p = URI.prototype;\n  var hasOwn = Object.prototype.hasOwnProperty;\n\n  function escapeRegEx(string) {\n    // https://github.com/medialize/URI.js/commit/85ac21783c11f8ccab06106dba9735a31a86924d#commitcomment-821963\n    return string.replace(/([.*+?^=!:${}()|[\\]\\/\\\\])/g, '\\\\$1');\n  }\n\n  function getType(value) {\n    // IE8 doesn't return [Object Undefined] but [Object Object] for undefined value\n    if (value === undefined) {\n      return 'Undefined';\n    }\n\n    return String(Object.prototype.toString.call(value)).slice(8, -1);\n  }\n\n  function isArray(obj) {\n    return getType(obj) === 'Array';\n  }\n\n  function filterArrayValues(data, value) {\n    var lookup = {};\n    var i, length;\n\n    if (getType(value) === 'RegExp') {\n      lookup = null;\n    } else if (isArray(value)) {\n      for (i = 0, length = value.length; i < length; i++) {\n        lookup[value[i]] = true;\n      }\n    } else {\n      lookup[value] = true;\n    }\n\n    for (i = 0, length = data.length; i < length; i++) {\n      /*jshint laxbreak: true */\n      var _match = lookup && lookup[data[i]] !== undefined\n        || !lookup && value.test(data[i]);\n      /*jshint laxbreak: false */\n      if (_match) {\n        data.splice(i, 1);\n        length--;\n        i--;\n      }\n    }\n\n    return data;\n  }\n\n  function arrayContains(list, value) {\n    var i, length;\n\n    // value may be string, number, array, regexp\n    if (isArray(value)) {\n      // Note: this can be optimized to O(n) (instead of current O(m * n))\n      for (i = 0, length = value.length; i < length; i++) {\n        if (!arrayContains(list, value[i])) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    var _type = getType(value);\n    for (i = 0, length = list.length; i < length; i++) {\n      if (_type === 'RegExp') {\n        if (typeof list[i] === 'string' && list[i].match(value)) {\n          return true;\n        }\n      } else if (list[i] === value) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  function arraysEqual(one, two) {\n    if (!isArray(one) || !isArray(two)) {\n      return false;\n    }\n\n    // arrays can't be equal if they have different amount of content\n    if (one.length !== two.length) {\n      return false;\n    }\n\n    one.sort();\n    two.sort();\n\n    for (var i = 0, l = one.length; i < l; i++) {\n      if (one[i] !== two[i]) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  function trimSlashes(text) {\n    var trim_expression = /^\\/+|\\/+$/g;\n    return text.replace(trim_expression, '');\n  }\n\n  URI._parts = function() {\n    return {\n      protocol: null,\n      username: null,\n      password: null,\n      hostname: null,\n      urn: null,\n      port: null,\n      path: null,\n      query: null,\n      fragment: null,\n      // state\n      duplicateQueryParameters: URI.duplicateQueryParameters,\n      escapeQuerySpace: URI.escapeQuerySpace\n    };\n  };\n  // state: allow duplicate query parameters (a=1&a=1)\n  URI.duplicateQueryParameters = false;\n  // state: replaces + with %20 (space in query strings)\n  URI.escapeQuerySpace = true;\n  // static properties\n  URI.protocol_expression = /^[a-z][a-z0-9.+-]*$/i;\n  URI.idn_expression = /[^a-z0-9\\.-]/i;\n  URI.punycode_expression = /(xn--)/i;\n  // well, 333.444.555.666 matches, but it sure ain't no IPv4 - do we care?\n  URI.ip4_expression = /^\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$/;\n  // credits to Rich Brown\n  // source: http://forums.intermapper.com/viewtopic.php?p=1096#1096\n  // specification: http://www.ietf.org/rfc/rfc4291.txt\n  URI.ip6_expression = /^\\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(%.+)?\\s*$/;\n  // expression used is \"gruber revised\" (@gruber v2) determined to be the\n  // best solution in a regex-golf we did a couple of ages ago at\n  // * http://mathiasbynens.be/demo/url-regex\n  // * http://rodneyrehm.de/t/url-regex.html\n  URI.find_uri_expression = /\\b((?:[a-z][\\w-]+:(?:\\/{1,3}|[a-z0-9%])|www\\d{0,3}[.]|[a-z0-9.\\-]+[.][a-z]{2,4}\\/)(?:[^\\s()<>]+|\\(([^\\s()<>]+|(\\([^\\s()<>]+\\)))*\\))+(?:\\(([^\\s()<>]+|(\\([^\\s()<>]+\\)))*\\)|[^\\s`!()\\[\\]{};:'\".,<>?]))/ig;\n  URI.findUri = {\n    // valid \"scheme://\" or \"www.\"\n    start: /\\b(?:([a-z][a-z0-9.+-]*:\\/\\/)|www\\.)/gi,\n    // everything up to the next whitespace\n    end: /[\\s\\r\\n]|$/,\n    // trim trailing punctuation captured by end RegExp\n    trim: /[`!()\\[\\]{};:'\".,<>?]+$/\n  };\n  // http://www.iana.org/assignments/uri-schemes.html\n  // http://en.wikipedia.org/wiki/List_of_TCP_and_UDP_port_numbers#Well-known_ports\n  URI.defaultPorts = {\n    http: '80',\n    https: '443',\n    ftp: '21',\n    gopher: '70',\n    ws: '80',\n    wss: '443'\n  };\n  // allowed hostname characters according to RFC 3986\n  // ALPHA DIGIT \"-\" \".\" \"_\" \"~\" \"!\" \"$\" \"&\" \"'\" \"(\" \")\" \"*\" \"+\" \",\" \";\" \"=\" %encoded\n  // I've never seen a (non-IDN) hostname other than: ALPHA DIGIT . -\n  URI.invalid_hostname_characters = /[^a-zA-Z0-9\\.-]/;\n  // map DOM Elements to their URI attribute\n  URI.domAttributes = {\n    'a': 'href',\n    'blockquote': 'cite',\n    'link': 'href',\n    'base': 'href',\n    'script': 'src',\n    'form': 'action',\n    'img': 'src',\n    'area': 'href',\n    'iframe': 'src',\n    'embed': 'src',\n    'source': 'src',\n    'track': 'src',\n    'input': 'src', // but only if type=\"image\"\n    'audio': 'src',\n    'video': 'src'\n  };\n  URI.getDomAttribute = function(node) {\n    if (!node || !node.nodeName) {\n      return undefined;\n    }\n\n    var nodeName = node.nodeName.toLowerCase();\n    // <input> should only expose src for type=\"image\"\n    if (nodeName === 'input' && node.type !== 'image') {\n      return undefined;\n    }\n\n    return URI.domAttributes[nodeName];\n  };\n\n  function escapeForDumbFirefox36(value) {\n    // https://github.com/medialize/URI.js/issues/91\n    return escape(value);\n  }\n\n  // encoding / decoding according to RFC3986\n  function strictEncodeURIComponent(string) {\n    // see https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/encodeURIComponent\n    return encodeURIComponent(string)\n      .replace(/[!'()*]/g, escapeForDumbFirefox36)\n      .replace(/\\*/g, '%2A');\n  }\n  URI.encode = strictEncodeURIComponent;\n  URI.decode = decodeURIComponent;\n  URI.iso8859 = function() {\n    URI.encode = escape;\n    URI.decode = unescape;\n  };\n  URI.unicode = function() {\n    URI.encode = strictEncodeURIComponent;\n    URI.decode = decodeURIComponent;\n  };\n  URI.characters = {\n    pathname: {\n      encode: {\n        // RFC3986 2.1: For consistency, URI producers and normalizers should\n        // use uppercase hexadecimal digits for all percent-encodings.\n        expression: /%(24|26|2B|2C|3B|3D|3A|40)/ig,\n        map: {\n          // -._~!'()*\n          '%24': '$',\n          '%26': '&',\n          '%2B': '+',\n          '%2C': ',',\n          '%3B': ';',\n          '%3D': '=',\n          '%3A': ':',\n          '%40': '@'\n        }\n      },\n      decode: {\n        expression: /[\\/\\?#]/g,\n        map: {\n          '/': '%2F',\n          '?': '%3F',\n          '#': '%23'\n        }\n      }\n    },\n    reserved: {\n      encode: {\n        // RFC3986 2.1: For consistency, URI producers and normalizers should\n        // use uppercase hexadecimal digits for all percent-encodings.\n        expression: /%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/ig,\n        map: {\n          // gen-delims\n          '%3A': ':',\n          '%2F': '/',\n          '%3F': '?',\n          '%23': '#',\n          '%5B': '[',\n          '%5D': ']',\n          '%40': '@',\n          // sub-delims\n          '%21': '!',\n          '%24': '$',\n          '%26': '&',\n          '%27': '\\'',\n          '%28': '(',\n          '%29': ')',\n          '%2A': '*',\n          '%2B': '+',\n          '%2C': ',',\n          '%3B': ';',\n          '%3D': '='\n        }\n      }\n    },\n    urnpath: {\n      // The characters under `encode` are the characters called out by RFC 2141 as being acceptable\n      // for usage in a URN. RFC2141 also calls out \"-\", \".\", and \"_\" as acceptable characters, but\n      // these aren't encoded by encodeURIComponent, so we don't have to call them out here. Also\n      // note that the colon character is not featured in the encoding map; this is because URI.js\n      // gives the colons in URNs semantic meaning as the delimiters of path segements, and so it\n      // should not appear unencoded in a segment itself.\n      // See also the note above about RFC3986 and capitalalized hex digits.\n      encode: {\n        expression: /%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/ig,\n        map: {\n          '%21': '!',\n          '%24': '$',\n          '%27': '\\'',\n          '%28': '(',\n          '%29': ')',\n          '%2A': '*',\n          '%2B': '+',\n          '%2C': ',',\n          '%3B': ';',\n          '%3D': '=',\n          '%40': '@'\n        }\n      },\n      // These characters are the characters called out by RFC2141 as \"reserved\" characters that\n      // should never appear in a URN, plus the colon character (see note above).\n      decode: {\n        expression: /[\\/\\?#:]/g,\n        map: {\n          '/': '%2F',\n          '?': '%3F',\n          '#': '%23',\n          ':': '%3A'\n        }\n      }\n    }\n  };\n  URI.encodeQuery = function(string, escapeQuerySpace) {\n    var escaped = URI.encode(string + '');\n    if (escapeQuerySpace === undefined) {\n      escapeQuerySpace = URI.escapeQuerySpace;\n    }\n\n    return escapeQuerySpace ? escaped.replace(/%20/g, '+') : escaped;\n  };\n  URI.decodeQuery = function(string, escapeQuerySpace) {\n    string += '';\n    if (escapeQuerySpace === undefined) {\n      escapeQuerySpace = URI.escapeQuerySpace;\n    }\n\n    try {\n      return URI.decode(escapeQuerySpace ? string.replace(/\\+/g, '%20') : string);\n    } catch(e) {\n      // we're not going to mess with weird encodings,\n      // give up and return the undecoded original string\n      // see https://github.com/medialize/URI.js/issues/87\n      // see https://github.com/medialize/URI.js/issues/92\n      return string;\n    }\n  };\n  // generate encode/decode path functions\n  var _parts = {'encode':'encode', 'decode':'decode'};\n  var _part;\n  var generateAccessor = function(_group, _part) {\n    return function(string) {\n      try {\n        return URI[_part](string + '').replace(URI.characters[_group][_part].expression, function(c) {\n          return URI.characters[_group][_part].map[c];\n        });\n      } catch (e) {\n        // we're not going to mess with weird encodings,\n        // give up and return the undecoded original string\n        // see https://github.com/medialize/URI.js/issues/87\n        // see https://github.com/medialize/URI.js/issues/92\n        return string;\n      }\n    };\n  };\n\n  for (_part in _parts) {\n    URI[_part + 'PathSegment'] = generateAccessor('pathname', _parts[_part]);\n    URI[_part + 'UrnPathSegment'] = generateAccessor('urnpath', _parts[_part]);\n  }\n\n  var generateSegmentedPathFunction = function(_sep, _codingFuncName, _innerCodingFuncName) {\n    return function(string) {\n      // Why pass in names of functions, rather than the function objects themselves? The\n      // definitions of some functions (but in particular, URI.decode) will occasionally change due\n      // to URI.js having ISO8859 and Unicode modes. Passing in the name and getting it will ensure\n      // that the functions we use here are \"fresh\".\n      var actualCodingFunc;\n      if (!_innerCodingFuncName) {\n        actualCodingFunc = URI[_codingFuncName];\n      } else {\n        actualCodingFunc = function(string) {\n          return URI[_codingFuncName](URI[_innerCodingFuncName](string));\n        };\n      }\n\n      var segments = (string + '').split(_sep);\n\n      for (var i = 0, length = segments.length; i < length; i++) {\n        segments[i] = actualCodingFunc(segments[i]);\n      }\n\n      return segments.join(_sep);\n    };\n  };\n\n  // This takes place outside the above loop because we don't want, e.g., encodeUrnPath functions.\n  URI.decodePath = generateSegmentedPathFunction('/', 'decodePathSegment');\n  URI.decodeUrnPath = generateSegmentedPathFunction(':', 'decodeUrnPathSegment');\n  URI.recodePath = generateSegmentedPathFunction('/', 'encodePathSegment', 'decode');\n  URI.recodeUrnPath = generateSegmentedPathFunction(':', 'encodeUrnPathSegment', 'decode');\n\n  URI.encodeReserved = generateAccessor('reserved', 'encode');\n\n  URI.parse = function(string, parts) {\n    var pos;\n    if (!parts) {\n      parts = {};\n    }\n    // [protocol\"://\"[username[\":\"password]\"@\"]hostname[\":\"port]\"/\"?][path][\"?\"querystring][\"#\"fragment]\n\n    // extract fragment\n    pos = string.indexOf('#');\n    if (pos > -1) {\n      // escaping?\n      parts.fragment = string.substring(pos + 1) || null;\n      string = string.substring(0, pos);\n    }\n\n    // extract query\n    pos = string.indexOf('?');\n    if (pos > -1) {\n      // escaping?\n      parts.query = string.substring(pos + 1) || null;\n      string = string.substring(0, pos);\n    }\n\n    // extract protocol\n    if (string.substring(0, 2) === '//') {\n      // relative-scheme\n      parts.protocol = null;\n      string = string.substring(2);\n      // extract \"user:pass@host:port\"\n      string = URI.parseAuthority(string, parts);\n    } else {\n      pos = string.indexOf(':');\n      if (pos > -1) {\n        parts.protocol = string.substring(0, pos) || null;\n        if (parts.protocol && !parts.protocol.match(URI.protocol_expression)) {\n          // : may be within the path\n          parts.protocol = undefined;\n        } else if (string.substring(pos + 1, pos + 3) === '//') {\n          string = string.substring(pos + 3);\n\n          // extract \"user:pass@host:port\"\n          string = URI.parseAuthority(string, parts);\n        } else {\n          string = string.substring(pos + 1);\n          parts.urn = true;\n        }\n      }\n    }\n\n    // what's left must be the path\n    parts.path = string;\n\n    // and we're done\n    return parts;\n  };\n  URI.parseHost = function(string, parts) {\n    // Copy chrome, IE, opera backslash-handling behavior.\n    // Back slashes before the query string get converted to forward slashes\n    // See: https://github.com/joyent/node/blob/386fd24f49b0e9d1a8a076592a404168faeecc34/lib/url.js#L115-L124\n    // See: https://code.google.com/p/chromium/issues/detail?id=25916\n    // https://github.com/medialize/URI.js/pull/233\n    string = string.replace(/\\\\/g, '/');\n\n    // extract host:port\n    var pos = string.indexOf('/');\n    var bracketPos;\n    var t;\n\n    if (pos === -1) {\n      pos = string.length;\n    }\n\n    if (string.charAt(0) === '[') {\n      // IPv6 host - http://tools.ietf.org/html/draft-ietf-6man-text-addr-representation-04#section-6\n      // I claim most client software breaks on IPv6 anyways. To simplify things, URI only accepts\n      // IPv6+port in the format [2001:db8::1]:80 (for the time being)\n      bracketPos = string.indexOf(']');\n      parts.hostname = string.substring(1, bracketPos) || null;\n      parts.port = string.substring(bracketPos + 2, pos) || null;\n      if (parts.port === '/') {\n        parts.port = null;\n      }\n    } else {\n      var firstColon = string.indexOf(':');\n      var firstSlash = string.indexOf('/');\n      var nextColon = string.indexOf(':', firstColon + 1);\n      if (nextColon !== -1 && (firstSlash === -1 || nextColon < firstSlash)) {\n        // IPv6 host contains multiple colons - but no port\n        // this notation is actually not allowed by RFC 3986, but we're a liberal parser\n        parts.hostname = string.substring(0, pos) || null;\n        parts.port = null;\n      } else {\n        t = string.substring(0, pos).split(':');\n        parts.hostname = t[0] || null;\n        parts.port = t[1] || null;\n      }\n    }\n\n    if (parts.hostname && string.substring(pos).charAt(0) !== '/') {\n      pos++;\n      string = '/' + string;\n    }\n\n    return string.substring(pos) || '/';\n  };\n  URI.parseAuthority = function(string, parts) {\n    string = URI.parseUserinfo(string, parts);\n    return URI.parseHost(string, parts);\n  };\n  URI.parseUserinfo = function(string, parts) {\n    // extract username:password\n    var firstSlash = string.indexOf('/');\n    var pos = string.lastIndexOf('@', firstSlash > -1 ? firstSlash : string.length - 1);\n    var t;\n\n    // authority@ must come before /path\n    if (pos > -1 && (firstSlash === -1 || pos < firstSlash)) {\n      t = string.substring(0, pos).split(':');\n      parts.username = t[0] ? URI.decode(t[0]) : null;\n      t.shift();\n      parts.password = t[0] ? URI.decode(t.join(':')) : null;\n      string = string.substring(pos + 1);\n    } else {\n      parts.username = null;\n      parts.password = null;\n    }\n\n    return string;\n  };\n  URI.parseQuery = function(string, escapeQuerySpace) {\n    if (!string) {\n      return {};\n    }\n\n    // throw out the funky business - \"?\"[name\"=\"value\"&\"]+\n    string = string.replace(/&+/g, '&').replace(/^\\?*&*|&+$/g, '');\n\n    if (!string) {\n      return {};\n    }\n\n    var items = {};\n    var splits = string.split('&');\n    var length = splits.length;\n    var v, name, value;\n\n    for (var i = 0; i < length; i++) {\n      v = splits[i].split('=');\n      name = URI.decodeQuery(v.shift(), escapeQuerySpace);\n      // no \"=\" is null according to http://dvcs.w3.org/hg/url/raw-file/tip/Overview.html#collect-url-parameters\n      value = v.length ? URI.decodeQuery(v.join('='), escapeQuerySpace) : null;\n\n      if (hasOwn.call(items, name)) {\n        if (typeof items[name] === 'string' || items[name] === null) {\n          items[name] = [items[name]];\n        }\n\n        items[name].push(value);\n      } else {\n        items[name] = value;\n      }\n    }\n\n    return items;\n  };\n\n  URI.build = function(parts) {\n    var t = '';\n\n    if (parts.protocol) {\n      t += parts.protocol + ':';\n    }\n\n    if (!parts.urn && (t || parts.hostname)) {\n      t += '//';\n    }\n\n    t += (URI.buildAuthority(parts) || '');\n\n    if (typeof parts.path === 'string') {\n      if (parts.path.charAt(0) !== '/' && typeof parts.hostname === 'string') {\n        t += '/';\n      }\n\n      t += parts.path;\n    }\n\n    if (typeof parts.query === 'string' && parts.query) {\n      t += '?' + parts.query;\n    }\n\n    if (typeof parts.fragment === 'string' && parts.fragment) {\n      t += '#' + parts.fragment;\n    }\n    return t;\n  };\n  URI.buildHost = function(parts) {\n    var t = '';\n\n    if (!parts.hostname) {\n      return '';\n    } else if (URI.ip6_expression.test(parts.hostname)) {\n      t += '[' + parts.hostname + ']';\n    } else {\n      t += parts.hostname;\n    }\n\n    if (parts.port) {\n      t += ':' + parts.port;\n    }\n\n    return t;\n  };\n  URI.buildAuthority = function(parts) {\n    return URI.buildUserinfo(parts) + URI.buildHost(parts);\n  };\n  URI.buildUserinfo = function(parts) {\n    var t = '';\n\n    if (parts.username) {\n      t += URI.encode(parts.username);\n\n      if (parts.password) {\n        t += ':' + URI.encode(parts.password);\n      }\n\n      t += '@';\n    }\n\n    return t;\n  };\n  URI.buildQuery = function(data, duplicateQueryParameters, escapeQuerySpace) {\n    // according to http://tools.ietf.org/html/rfc3986 or http://labs.apache.org/webarch/uri/rfc/rfc3986.html\n    // being -._~!$&'()*+,;=:@/? %HEX and alnum are allowed\n    // the RFC explicitly states ?/foo being a valid use case, no mention of parameter syntax!\n    // URI.js treats the query string as being application/x-www-form-urlencoded\n    // see http://www.w3.org/TR/REC-html40/interact/forms.html#form-content-type\n\n    var t = '';\n    var unique, key, i, length;\n    for (key in data) {\n      if (hasOwn.call(data, key) && key) {\n        if (isArray(data[key])) {\n          unique = {};\n          for (i = 0, length = data[key].length; i < length; i++) {\n            if (data[key][i] !== undefined && unique[data[key][i] + ''] === undefined) {\n              t += '&' + URI.buildQueryParameter(key, data[key][i], escapeQuerySpace);\n              if (duplicateQueryParameters !== true) {\n                unique[data[key][i] + ''] = true;\n              }\n            }\n          }\n        } else if (data[key] !== undefined) {\n          t += '&' + URI.buildQueryParameter(key, data[key], escapeQuerySpace);\n        }\n      }\n    }\n\n    return t.substring(1);\n  };\n  URI.buildQueryParameter = function(name, value, escapeQuerySpace) {\n    // http://www.w3.org/TR/REC-html40/interact/forms.html#form-content-type -- application/x-www-form-urlencoded\n    // don't append \"=\" for null values, according to http://dvcs.w3.org/hg/url/raw-file/tip/Overview.html#url-parameter-serialization\n    return URI.encodeQuery(name, escapeQuerySpace) + (value !== null ? '=' + URI.encodeQuery(value, escapeQuerySpace) : '');\n  };\n\n  URI.addQuery = function(data, name, value) {\n    if (typeof name === 'object') {\n      for (var key in name) {\n        if (hasOwn.call(name, key)) {\n          URI.addQuery(data, key, name[key]);\n        }\n      }\n    } else if (typeof name === 'string') {\n      if (data[name] === undefined) {\n        data[name] = value;\n        return;\n      } else if (typeof data[name] === 'string') {\n        data[name] = [data[name]];\n      }\n\n      if (!isArray(value)) {\n        value = [value];\n      }\n\n      data[name] = (data[name] || []).concat(value);\n    } else {\n      throw new TypeError('URI.addQuery() accepts an object, string as the name parameter');\n    }\n  };\n  URI.removeQuery = function(data, name, value) {\n    var i, length, key;\n\n    if (isArray(name)) {\n      for (i = 0, length = name.length; i < length; i++) {\n        data[name[i]] = undefined;\n      }\n    } else if (getType(name) === 'RegExp') {\n      for (key in data) {\n        if (name.test(key)) {\n          data[key] = undefined;\n        }\n      }\n    } else if (typeof name === 'object') {\n      for (key in name) {\n        if (hasOwn.call(name, key)) {\n          URI.removeQuery(data, key, name[key]);\n        }\n      }\n    } else if (typeof name === 'string') {\n      if (value !== undefined) {\n        if (getType(value) === 'RegExp') {\n          if (!isArray(data[name]) && value.test(data[name])) {\n            data[name] = undefined;\n          } else {\n            data[name] = filterArrayValues(data[name], value);\n          }\n        } else if (data[name] === String(value) && (!isArray(value) || value.length === 1)) {\n          data[name] = undefined;\n        } else if (isArray(data[name])) {\n          data[name] = filterArrayValues(data[name], value);\n        }\n      } else {\n        data[name] = undefined;\n      }\n    } else {\n      throw new TypeError('URI.removeQuery() accepts an object, string, RegExp as the first parameter');\n    }\n  };\n  URI.hasQuery = function(data, name, value, withinArray) {\n    switch (getType(name)) {\n      case 'String':\n        // Nothing to do here\n        break;\n\n      case 'RegExp':\n        for (var key in data) {\n          if (hasOwn.call(data, key)) {\n            if (name.test(key) && (value === undefined || URI.hasQuery(data, key, value))) {\n              return true;\n            }\n          }\n        }\n\n        return false;\n\n      case 'Object':\n        for (var _key in name) {\n          if (hasOwn.call(name, _key)) {\n            if (!URI.hasQuery(data, _key, name[_key])) {\n              return false;\n            }\n          }\n        }\n\n        return true;\n\n      default:\n        throw new TypeError('URI.hasQuery() accepts a string, regular expression or object as the name parameter');\n    }\n\n    switch (getType(value)) {\n      case 'Undefined':\n        // true if exists (but may be empty)\n        return name in data; // data[name] !== undefined;\n\n      case 'Boolean':\n        // true if exists and non-empty\n        var _booly = Boolean(isArray(data[name]) ? data[name].length : data[name]);\n        return value === _booly;\n\n      case 'Function':\n        // allow complex comparison\n        return !!value(data[name], name, data);\n\n      case 'Array':\n        if (!isArray(data[name])) {\n          return false;\n        }\n\n        var op = withinArray ? arrayContains : arraysEqual;\n        return op(data[name], value);\n\n      case 'RegExp':\n        if (!isArray(data[name])) {\n          return Boolean(data[name] && data[name].match(value));\n        }\n\n        if (!withinArray) {\n          return false;\n        }\n\n        return arrayContains(data[name], value);\n\n      case 'Number':\n        value = String(value);\n        /* falls through */\n      case 'String':\n        if (!isArray(data[name])) {\n          return data[name] === value;\n        }\n\n        if (!withinArray) {\n          return false;\n        }\n\n        return arrayContains(data[name], value);\n\n      default:\n        throw new TypeError('URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter');\n    }\n  };\n\n\n  URI.commonPath = function(one, two) {\n    var length = Math.min(one.length, two.length);\n    var pos;\n\n    // find first non-matching character\n    for (pos = 0; pos < length; pos++) {\n      if (one.charAt(pos) !== two.charAt(pos)) {\n        pos--;\n        break;\n      }\n    }\n\n    if (pos < 1) {\n      return one.charAt(0) === two.charAt(0) && one.charAt(0) === '/' ? '/' : '';\n    }\n\n    // revert to last /\n    if (one.charAt(pos) !== '/' || two.charAt(pos) !== '/') {\n      pos = one.substring(0, pos).lastIndexOf('/');\n    }\n\n    return one.substring(0, pos + 1);\n  };\n\n  URI.withinString = function(string, callback, options) {\n    options || (options = {});\n    var _start = options.start || URI.findUri.start;\n    var _end = options.end || URI.findUri.end;\n    var _trim = options.trim || URI.findUri.trim;\n    var _attributeOpen = /[a-z0-9-]=[\"']?$/i;\n\n    _start.lastIndex = 0;\n    while (true) {\n      var match = _start.exec(string);\n      if (!match) {\n        break;\n      }\n\n      var start = match.index;\n      if (options.ignoreHtml) {\n        // attribut(e=[\"']?$)\n        var attributeOpen = string.slice(Math.max(start - 3, 0), start);\n        if (attributeOpen && _attributeOpen.test(attributeOpen)) {\n          continue;\n        }\n      }\n\n      var end = start + string.slice(start).search(_end);\n      var slice = string.slice(start, end).replace(_trim, '');\n      if (options.ignore && options.ignore.test(slice)) {\n        continue;\n      }\n\n      end = start + slice.length;\n      var result = callback(slice, start, end, string);\n      string = string.slice(0, start) + result + string.slice(end);\n      _start.lastIndex = start + result.length;\n    }\n\n    _start.lastIndex = 0;\n    return string;\n  };\n\n  URI.ensureValidHostname = function(v) {\n    // Theoretically URIs allow percent-encoding in Hostnames (according to RFC 3986)\n    // they are not part of DNS and therefore ignored by URI.js\n\n    if (v.match(URI.invalid_hostname_characters)) {\n      // test punycode\n      if (!punycode) {\n        throw new TypeError('Hostname \"' + v + '\" contains characters other than [A-Z0-9.-] and Punycode.js is not available');\n      }\n\n      if (punycode.toASCII(v).match(URI.invalid_hostname_characters)) {\n        throw new TypeError('Hostname \"' + v + '\" contains characters other than [A-Z0-9.-]');\n      }\n    }\n  };\n\n  // noConflict\n  URI.noConflict = function(removeAll) {\n    if (removeAll) {\n      var unconflicted = {\n        URI: this.noConflict()\n      };\n\n      if (root.URITemplate && typeof root.URITemplate.noConflict === 'function') {\n        unconflicted.URITemplate = root.URITemplate.noConflict();\n      }\n\n      if (root.IPv6 && typeof root.IPv6.noConflict === 'function') {\n        unconflicted.IPv6 = root.IPv6.noConflict();\n      }\n\n      if (root.SecondLevelDomains && typeof root.SecondLevelDomains.noConflict === 'function') {\n        unconflicted.SecondLevelDomains = root.SecondLevelDomains.noConflict();\n      }\n\n      return unconflicted;\n    } else if (root.URI === this) {\n      root.URI = _URI;\n    }\n\n    return this;\n  };\n\n  p.build = function(deferBuild) {\n    if (deferBuild === true) {\n      this._deferred_build = true;\n    } else if (deferBuild === undefined || this._deferred_build) {\n      this._string = URI.build(this._parts);\n      this._deferred_build = false;\n    }\n\n    return this;\n  };\n\n  p.clone = function() {\n    return new URI(this);\n  };\n\n  p.valueOf = p.toString = function() {\n    return this.build(false)._string;\n  };\n\n\n  function generateSimpleAccessor(_part){\n    return function(v, build) {\n      if (v === undefined) {\n        return this._parts[_part] || '';\n      } else {\n        this._parts[_part] = v || null;\n        this.build(!build);\n        return this;\n      }\n    };\n  }\n\n  function generatePrefixAccessor(_part, _key){\n    return function(v, build) {\n      if (v === undefined) {\n        return this._parts[_part] || '';\n      } else {\n        if (v !== null) {\n          v = v + '';\n          if (v.charAt(0) === _key) {\n            v = v.substring(1);\n          }\n        }\n\n        this._parts[_part] = v;\n        this.build(!build);\n        return this;\n      }\n    };\n  }\n\n  p.protocol = generateSimpleAccessor('protocol');\n  p.username = generateSimpleAccessor('username');\n  p.password = generateSimpleAccessor('password');\n  p.hostname = generateSimpleAccessor('hostname');\n  p.port = generateSimpleAccessor('port');\n  p.query = generatePrefixAccessor('query', '?');\n  p.fragment = generatePrefixAccessor('fragment', '#');\n\n  p.search = function(v, build) {\n    var t = this.query(v, build);\n    return typeof t === 'string' && t.length ? ('?' + t) : t;\n  };\n  p.hash = function(v, build) {\n    var t = this.fragment(v, build);\n    return typeof t === 'string' && t.length ? ('#' + t) : t;\n  };\n\n  p.pathname = function(v, build) {\n    if (v === undefined || v === true) {\n      var res = this._parts.path || (this._parts.hostname ? '/' : '');\n      return v ? (this._parts.urn ? URI.decodeUrnPath : URI.decodePath)(res) : res;\n    } else {\n      if (this._parts.urn) {\n        this._parts.path = v ? URI.recodeUrnPath(v) : '';\n      } else {\n        this._parts.path = v ? URI.recodePath(v) : '/';\n      }\n      this.build(!build);\n      return this;\n    }\n  };\n  p.path = p.pathname;\n  p.href = function(href, build) {\n    var key;\n\n    if (href === undefined) {\n      return this.toString();\n    }\n\n    this._string = '';\n    this._parts = URI._parts();\n\n    var _URI = href instanceof URI;\n    var _object = typeof href === 'object' && (href.hostname || href.path || href.pathname);\n    if (href.nodeName) {\n      var attribute = URI.getDomAttribute(href);\n      href = href[attribute] || '';\n      _object = false;\n    }\n\n    // window.location is reported to be an object, but it's not the sort\n    // of object we're looking for:\n    // * location.protocol ends with a colon\n    // * location.query != object.search\n    // * location.hash != object.fragment\n    // simply serializing the unknown object should do the trick\n    // (for location, not for everything...)\n    if (!_URI && _object && href.pathname !== undefined) {\n      href = href.toString();\n    }\n\n    if (typeof href === 'string' || href instanceof String) {\n      this._parts = URI.parse(String(href), this._parts);\n    } else if (_URI || _object) {\n      var src = _URI ? href._parts : href;\n      for (key in src) {\n        if (hasOwn.call(this._parts, key)) {\n          this._parts[key] = src[key];\n        }\n      }\n    } else {\n      throw new TypeError('invalid input');\n    }\n\n    this.build(!build);\n    return this;\n  };\n\n  // identification accessors\n  p.is = function(what) {\n    var ip = false;\n    var ip4 = false;\n    var ip6 = false;\n    var name = false;\n    var sld = false;\n    var idn = false;\n    var punycode = false;\n    var relative = !this._parts.urn;\n\n    if (this._parts.hostname) {\n      relative = false;\n      ip4 = URI.ip4_expression.test(this._parts.hostname);\n      ip6 = URI.ip6_expression.test(this._parts.hostname);\n      ip = ip4 || ip6;\n      name = !ip;\n      sld = name && SLD && SLD.has(this._parts.hostname);\n      idn = name && URI.idn_expression.test(this._parts.hostname);\n      punycode = name && URI.punycode_expression.test(this._parts.hostname);\n    }\n\n    switch (what.toLowerCase()) {\n      case 'relative':\n        return relative;\n\n      case 'absolute':\n        return !relative;\n\n      // hostname identification\n      case 'domain':\n      case 'name':\n        return name;\n\n      case 'sld':\n        return sld;\n\n      case 'ip':\n        return ip;\n\n      case 'ip4':\n      case 'ipv4':\n      case 'inet4':\n        return ip4;\n\n      case 'ip6':\n      case 'ipv6':\n      case 'inet6':\n        return ip6;\n\n      case 'idn':\n        return idn;\n\n      case 'url':\n        return !this._parts.urn;\n\n      case 'urn':\n        return !!this._parts.urn;\n\n      case 'punycode':\n        return punycode;\n    }\n\n    return null;\n  };\n\n  // component specific input validation\n  var _protocol = p.protocol;\n  var _port = p.port;\n  var _hostname = p.hostname;\n\n  p.protocol = function(v, build) {\n    if (v !== undefined) {\n      if (v) {\n        // accept trailing ://\n        v = v.replace(/:(\\/\\/)?$/, '');\n\n        if (!v.match(URI.protocol_expression)) {\n          throw new TypeError('Protocol \"' + v + '\" contains characters other than [A-Z0-9.+-] or doesn\\'t start with [A-Z]');\n        }\n      }\n    }\n    return _protocol.call(this, v, build);\n  };\n  p.scheme = p.protocol;\n  p.port = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    if (v !== undefined) {\n      if (v === 0) {\n        v = null;\n      }\n\n      if (v) {\n        v += '';\n        if (v.charAt(0) === ':') {\n          v = v.substring(1);\n        }\n\n        if (v.match(/[^0-9]/)) {\n          throw new TypeError('Port \"' + v + '\" contains characters other than [0-9]');\n        }\n      }\n    }\n    return _port.call(this, v, build);\n  };\n  p.hostname = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    if (v !== undefined) {\n      var x = {};\n      var res = URI.parseHost(v, x);\n      if (res !== '/') {\n        throw new TypeError('Hostname \"' + v + '\" contains characters other than [A-Z0-9.-]');\n      }\n\n      v = x.hostname;\n    }\n    return _hostname.call(this, v, build);\n  };\n\n  // compound accessors\n  p.origin = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    if (v === undefined) {\n      var protocol = this.protocol();\n      var authority = this.authority();\n      if (!authority) {\n        return '';\n      }\n\n      return (protocol ? protocol + '://' : '') + this.authority();\n    } else {\n      var origin = URI(v);\n      this\n        .protocol(origin.protocol())\n        .authority(origin.authority())\n        .build(!build);\n      return this;\n    }\n  };\n  p.host = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    if (v === undefined) {\n      return this._parts.hostname ? URI.buildHost(this._parts) : '';\n    } else {\n      var res = URI.parseHost(v, this._parts);\n      if (res !== '/') {\n        throw new TypeError('Hostname \"' + v + '\" contains characters other than [A-Z0-9.-]');\n      }\n\n      this.build(!build);\n      return this;\n    }\n  };\n  p.authority = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    if (v === undefined) {\n      return this._parts.hostname ? URI.buildAuthority(this._parts) : '';\n    } else {\n      var res = URI.parseAuthority(v, this._parts);\n      if (res !== '/') {\n        throw new TypeError('Hostname \"' + v + '\" contains characters other than [A-Z0-9.-]');\n      }\n\n      this.build(!build);\n      return this;\n    }\n  };\n  p.userinfo = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    if (v === undefined) {\n      if (!this._parts.username) {\n        return '';\n      }\n\n      var t = URI.buildUserinfo(this._parts);\n      return t.substring(0, t.length -1);\n    } else {\n      if (v[v.length-1] !== '@') {\n        v += '@';\n      }\n\n      URI.parseUserinfo(v, this._parts);\n      this.build(!build);\n      return this;\n    }\n  };\n  p.resource = function(v, build) {\n    var parts;\n\n    if (v === undefined) {\n      return this.path() + this.search() + this.hash();\n    }\n\n    parts = URI.parse(v);\n    this._parts.path = parts.path;\n    this._parts.query = parts.query;\n    this._parts.fragment = parts.fragment;\n    this.build(!build);\n    return this;\n  };\n\n  // fraction accessors\n  p.subdomain = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    // convenience, return \"www\" from \"www.example.org\"\n    if (v === undefined) {\n      if (!this._parts.hostname || this.is('IP')) {\n        return '';\n      }\n\n      // grab domain and add another segment\n      var end = this._parts.hostname.length - this.domain().length - 1;\n      return this._parts.hostname.substring(0, end) || '';\n    } else {\n      var e = this._parts.hostname.length - this.domain().length;\n      var sub = this._parts.hostname.substring(0, e);\n      var replace = new RegExp('^' + escapeRegEx(sub));\n\n      if (v && v.charAt(v.length - 1) !== '.') {\n        v += '.';\n      }\n\n      if (v) {\n        URI.ensureValidHostname(v);\n      }\n\n      this._parts.hostname = this._parts.hostname.replace(replace, v);\n      this.build(!build);\n      return this;\n    }\n  };\n  p.domain = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    if (typeof v === 'boolean') {\n      build = v;\n      v = undefined;\n    }\n\n    // convenience, return \"example.org\" from \"www.example.org\"\n    if (v === undefined) {\n      if (!this._parts.hostname || this.is('IP')) {\n        return '';\n      }\n\n      // if hostname consists of 1 or 2 segments, it must be the domain\n      var t = this._parts.hostname.match(/\\./g);\n      if (t && t.length < 2) {\n        return this._parts.hostname;\n      }\n\n      // grab tld and add another segment\n      var end = this._parts.hostname.length - this.tld(build).length - 1;\n      end = this._parts.hostname.lastIndexOf('.', end -1) + 1;\n      return this._parts.hostname.substring(end) || '';\n    } else {\n      if (!v) {\n        throw new TypeError('cannot set domain empty');\n      }\n\n      URI.ensureValidHostname(v);\n\n      if (!this._parts.hostname || this.is('IP')) {\n        this._parts.hostname = v;\n      } else {\n        var replace = new RegExp(escapeRegEx(this.domain()) + '$');\n        this._parts.hostname = this._parts.hostname.replace(replace, v);\n      }\n\n      this.build(!build);\n      return this;\n    }\n  };\n  p.tld = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    if (typeof v === 'boolean') {\n      build = v;\n      v = undefined;\n    }\n\n    // return \"org\" from \"www.example.org\"\n    if (v === undefined) {\n      if (!this._parts.hostname || this.is('IP')) {\n        return '';\n      }\n\n      var pos = this._parts.hostname.lastIndexOf('.');\n      var tld = this._parts.hostname.substring(pos + 1);\n\n      if (build !== true && SLD && SLD.list[tld.toLowerCase()]) {\n        return SLD.get(this._parts.hostname) || tld;\n      }\n\n      return tld;\n    } else {\n      var replace;\n\n      if (!v) {\n        throw new TypeError('cannot set TLD empty');\n      } else if (v.match(/[^a-zA-Z0-9-]/)) {\n        if (SLD && SLD.is(v)) {\n          replace = new RegExp(escapeRegEx(this.tld()) + '$');\n          this._parts.hostname = this._parts.hostname.replace(replace, v);\n        } else {\n          throw new TypeError('TLD \"' + v + '\" contains characters other than [A-Z0-9]');\n        }\n      } else if (!this._parts.hostname || this.is('IP')) {\n        throw new ReferenceError('cannot set TLD on non-domain host');\n      } else {\n        replace = new RegExp(escapeRegEx(this.tld()) + '$');\n        this._parts.hostname = this._parts.hostname.replace(replace, v);\n      }\n\n      this.build(!build);\n      return this;\n    }\n  };\n  p.directory = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    if (v === undefined || v === true) {\n      if (!this._parts.path && !this._parts.hostname) {\n        return '';\n      }\n\n      if (this._parts.path === '/') {\n        return '/';\n      }\n\n      var end = this._parts.path.length - this.filename().length - 1;\n      var res = this._parts.path.substring(0, end) || (this._parts.hostname ? '/' : '');\n\n      return v ? URI.decodePath(res) : res;\n\n    } else {\n      var e = this._parts.path.length - this.filename().length;\n      var directory = this._parts.path.substring(0, e);\n      var replace = new RegExp('^' + escapeRegEx(directory));\n\n      // fully qualifier directories begin with a slash\n      if (!this.is('relative')) {\n        if (!v) {\n          v = '/';\n        }\n\n        if (v.charAt(0) !== '/') {\n          v = '/' + v;\n        }\n      }\n\n      // directories always end with a slash\n      if (v && v.charAt(v.length - 1) !== '/') {\n        v += '/';\n      }\n\n      v = URI.recodePath(v);\n      this._parts.path = this._parts.path.replace(replace, v);\n      this.build(!build);\n      return this;\n    }\n  };\n  p.filename = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    if (v === undefined || v === true) {\n      if (!this._parts.path || this._parts.path === '/') {\n        return '';\n      }\n\n      var pos = this._parts.path.lastIndexOf('/');\n      var res = this._parts.path.substring(pos+1);\n\n      return v ? URI.decodePathSegment(res) : res;\n    } else {\n      var mutatedDirectory = false;\n\n      if (v.charAt(0) === '/') {\n        v = v.substring(1);\n      }\n\n      if (v.match(/\\.?\\//)) {\n        mutatedDirectory = true;\n      }\n\n      var replace = new RegExp(escapeRegEx(this.filename()) + '$');\n      v = URI.recodePath(v);\n      this._parts.path = this._parts.path.replace(replace, v);\n\n      if (mutatedDirectory) {\n        this.normalizePath(build);\n      } else {\n        this.build(!build);\n      }\n\n      return this;\n    }\n  };\n  p.suffix = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    if (v === undefined || v === true) {\n      if (!this._parts.path || this._parts.path === '/') {\n        return '';\n      }\n\n      var filename = this.filename();\n      var pos = filename.lastIndexOf('.');\n      var s, res;\n\n      if (pos === -1) {\n        return '';\n      }\n\n      // suffix may only contain alnum characters (yup, I made this up.)\n      s = filename.substring(pos+1);\n      res = (/^[a-z0-9%]+$/i).test(s) ? s : '';\n      return v ? URI.decodePathSegment(res) : res;\n    } else {\n      if (v.charAt(0) === '.') {\n        v = v.substring(1);\n      }\n\n      var suffix = this.suffix();\n      var replace;\n\n      if (!suffix) {\n        if (!v) {\n          return this;\n        }\n\n        this._parts.path += '.' + URI.recodePath(v);\n      } else if (!v) {\n        replace = new RegExp(escapeRegEx('.' + suffix) + '$');\n      } else {\n        replace = new RegExp(escapeRegEx(suffix) + '$');\n      }\n\n      if (replace) {\n        v = URI.recodePath(v);\n        this._parts.path = this._parts.path.replace(replace, v);\n      }\n\n      this.build(!build);\n      return this;\n    }\n  };\n  p.segment = function(segment, v, build) {\n    var separator = this._parts.urn ? ':' : '/';\n    var path = this.path();\n    var absolute = path.substring(0, 1) === '/';\n    var segments = path.split(separator);\n\n    if (segment !== undefined && typeof segment !== 'number') {\n      build = v;\n      v = segment;\n      segment = undefined;\n    }\n\n    if (segment !== undefined && typeof segment !== 'number') {\n      throw new Error('Bad segment \"' + segment + '\", must be 0-based integer');\n    }\n\n    if (absolute) {\n      segments.shift();\n    }\n\n    if (segment < 0) {\n      // allow negative indexes to address from the end\n      segment = Math.max(segments.length + segment, 0);\n    }\n\n    if (v === undefined) {\n      /*jshint laxbreak: true */\n      return segment === undefined\n        ? segments\n        : segments[segment];\n      /*jshint laxbreak: false */\n    } else if (segment === null || segments[segment] === undefined) {\n      if (isArray(v)) {\n        segments = [];\n        // collapse empty elements within array\n        for (var i=0, l=v.length; i < l; i++) {\n          if (!v[i].length && (!segments.length || !segments[segments.length -1].length)) {\n            continue;\n          }\n\n          if (segments.length && !segments[segments.length -1].length) {\n            segments.pop();\n          }\n\n          segments.push(trimSlashes(v[i]));\n        }\n      } else if (v || typeof v === 'string') {\n        v = trimSlashes(v);\n        if (segments[segments.length -1] === '') {\n          // empty trailing elements have to be overwritten\n          // to prevent results such as /foo//bar\n          segments[segments.length -1] = v;\n        } else {\n          segments.push(v);\n        }\n      }\n    } else {\n      if (v) {\n        segments[segment] = trimSlashes(v);\n      } else {\n        segments.splice(segment, 1);\n      }\n    }\n\n    if (absolute) {\n      segments.unshift('');\n    }\n\n    return this.path(segments.join(separator), build);\n  };\n  p.segmentCoded = function(segment, v, build) {\n    var segments, i, l;\n\n    if (typeof segment !== 'number') {\n      build = v;\n      v = segment;\n      segment = undefined;\n    }\n\n    if (v === undefined) {\n      segments = this.segment(segment, v, build);\n      if (!isArray(segments)) {\n        segments = segments !== undefined ? URI.decode(segments) : undefined;\n      } else {\n        for (i = 0, l = segments.length; i < l; i++) {\n          segments[i] = URI.decode(segments[i]);\n        }\n      }\n\n      return segments;\n    }\n\n    if (!isArray(v)) {\n      v = (typeof v === 'string' || v instanceof String) ? URI.encode(v) : v;\n    } else {\n      for (i = 0, l = v.length; i < l; i++) {\n        v[i] = URI.encode(v[i]);\n      }\n    }\n\n    return this.segment(segment, v, build);\n  };\n\n  // mutating query string\n  var q = p.query;\n  p.query = function(v, build) {\n    if (v === true) {\n      return URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);\n    } else if (typeof v === 'function') {\n      var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);\n      var result = v.call(this, data);\n      this._parts.query = URI.buildQuery(result || data, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);\n      this.build(!build);\n      return this;\n    } else if (v !== undefined && typeof v !== 'string') {\n      this._parts.query = URI.buildQuery(v, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);\n      this.build(!build);\n      return this;\n    } else {\n      return q.call(this, v, build);\n    }\n  };\n  p.setQuery = function(name, value, build) {\n    var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);\n\n    if (typeof name === 'string' || name instanceof String) {\n      data[name] = value !== undefined ? value : null;\n    } else if (typeof name === 'object') {\n      for (var key in name) {\n        if (hasOwn.call(name, key)) {\n          data[key] = name[key];\n        }\n      }\n    } else {\n      throw new TypeError('URI.addQuery() accepts an object, string as the name parameter');\n    }\n\n    this._parts.query = URI.buildQuery(data, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);\n    if (typeof name !== 'string') {\n      build = value;\n    }\n\n    this.build(!build);\n    return this;\n  };\n  p.addQuery = function(name, value, build) {\n    var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);\n    URI.addQuery(data, name, value === undefined ? null : value);\n    this._parts.query = URI.buildQuery(data, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);\n    if (typeof name !== 'string') {\n      build = value;\n    }\n\n    this.build(!build);\n    return this;\n  };\n  p.removeQuery = function(name, value, build) {\n    var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);\n    URI.removeQuery(data, name, value);\n    this._parts.query = URI.buildQuery(data, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);\n    if (typeof name !== 'string') {\n      build = value;\n    }\n\n    this.build(!build);\n    return this;\n  };\n  p.hasQuery = function(name, value, withinArray) {\n    var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);\n    return URI.hasQuery(data, name, value, withinArray);\n  };\n  p.setSearch = p.setQuery;\n  p.addSearch = p.addQuery;\n  p.removeSearch = p.removeQuery;\n  p.hasSearch = p.hasQuery;\n\n  // sanitizing URLs\n  p.normalize = function() {\n    if (this._parts.urn) {\n      return this\n        .normalizeProtocol(false)\n        .normalizePath(false)\n        .normalizeQuery(false)\n        .normalizeFragment(false)\n        .build();\n    }\n\n    return this\n      .normalizeProtocol(false)\n      .normalizeHostname(false)\n      .normalizePort(false)\n      .normalizePath(false)\n      .normalizeQuery(false)\n      .normalizeFragment(false)\n      .build();\n  };\n  p.normalizeProtocol = function(build) {\n    if (typeof this._parts.protocol === 'string') {\n      this._parts.protocol = this._parts.protocol.toLowerCase();\n      this.build(!build);\n    }\n\n    return this;\n  };\n  p.normalizeHostname = function(build) {\n    if (this._parts.hostname) {\n      if (this.is('IDN') && punycode) {\n        this._parts.hostname = punycode.toASCII(this._parts.hostname);\n      } else if (this.is('IPv6') && IPv6) {\n        this._parts.hostname = IPv6.best(this._parts.hostname);\n      }\n\n      this._parts.hostname = this._parts.hostname.toLowerCase();\n      this.build(!build);\n    }\n\n    return this;\n  };\n  p.normalizePort = function(build) {\n    // remove port of it's the protocol's default\n    if (typeof this._parts.protocol === 'string' && this._parts.port === URI.defaultPorts[this._parts.protocol]) {\n      this._parts.port = null;\n      this.build(!build);\n    }\n\n    return this;\n  };\n  p.normalizePath = function(build) {\n    var _path = this._parts.path;\n    if (!_path) {\n      return this;\n    }\n\n    if (this._parts.urn) {\n      this._parts.path = URI.recodeUrnPath(this._parts.path);\n      this.build(!build);\n      return this;\n    }\n\n    if (this._parts.path === '/') {\n      return this;\n    }\n\n    _path = URI.recodePath(_path);\n\n    var _was_relative;\n    var _leadingParents = '';\n    var _parent, _pos;\n\n    // handle relative paths\n    if (_path.charAt(0) !== '/') {\n      _was_relative = true;\n      _path = '/' + _path;\n    }\n\n    // handle relative files (as opposed to directories)\n    if (_path.slice(-3) === '/..' || _path.slice(-2) === '/.') {\n      _path += '/';\n    }\n\n    // resolve simples\n    _path = _path\n      .replace(/(\\/(\\.\\/)+)|(\\/\\.$)/g, '/')\n      .replace(/\\/{2,}/g, '/');\n\n    // remember leading parents\n    if (_was_relative) {\n      _leadingParents = _path.substring(1).match(/^(\\.\\.\\/)+/) || '';\n      if (_leadingParents) {\n        _leadingParents = _leadingParents[0];\n      }\n    }\n\n    // resolve parents\n    while (true) {\n      _parent = _path.search(/\\/\\.\\.(\\/|$)/);\n      if (_parent === -1) {\n        // no more ../ to resolve\n        break;\n      } else if (_parent === 0) {\n        // top level cannot be relative, skip it\n        _path = _path.substring(3);\n        continue;\n      }\n\n      _pos = _path.substring(0, _parent).lastIndexOf('/');\n      if (_pos === -1) {\n        _pos = _parent;\n      }\n      _path = _path.substring(0, _pos) + _path.substring(_parent + 3);\n    }\n\n    // revert to relative\n    if (_was_relative && this.is('relative')) {\n      _path = _leadingParents + _path.substring(1);\n    }\n\n    this._parts.path = _path;\n    this.build(!build);\n    return this;\n  };\n  p.normalizePathname = p.normalizePath;\n  p.normalizeQuery = function(build) {\n    if (typeof this._parts.query === 'string') {\n      if (!this._parts.query.length) {\n        this._parts.query = null;\n      } else {\n        this.query(URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace));\n      }\n\n      this.build(!build);\n    }\n\n    return this;\n  };\n  p.normalizeFragment = function(build) {\n    if (!this._parts.fragment) {\n      this._parts.fragment = null;\n      this.build(!build);\n    }\n\n    return this;\n  };\n  p.normalizeSearch = p.normalizeQuery;\n  p.normalizeHash = p.normalizeFragment;\n\n  p.iso8859 = function() {\n    // expect unicode input, iso8859 output\n    var e = URI.encode;\n    var d = URI.decode;\n\n    URI.encode = escape;\n    URI.decode = decodeURIComponent;\n    try {\n      this.normalize();\n    } finally {\n      URI.encode = e;\n      URI.decode = d;\n    }\n    return this;\n  };\n\n  p.unicode = function() {\n    // expect iso8859 input, unicode output\n    var e = URI.encode;\n    var d = URI.decode;\n\n    URI.encode = strictEncodeURIComponent;\n    URI.decode = unescape;\n    try {\n      this.normalize();\n    } finally {\n      URI.encode = e;\n      URI.decode = d;\n    }\n    return this;\n  };\n\n  p.readable = function() {\n    var uri = this.clone();\n    // removing username, password, because they shouldn't be displayed according to RFC 3986\n    uri.username('').password('').normalize();\n    var t = '';\n    if (uri._parts.protocol) {\n      t += uri._parts.protocol + '://';\n    }\n\n    if (uri._parts.hostname) {\n      if (uri.is('punycode') && punycode) {\n        t += punycode.toUnicode(uri._parts.hostname);\n        if (uri._parts.port) {\n          t += ':' + uri._parts.port;\n        }\n      } else {\n        t += uri.host();\n      }\n    }\n\n    if (uri._parts.hostname && uri._parts.path && uri._parts.path.charAt(0) !== '/') {\n      t += '/';\n    }\n\n    t += uri.path(true);\n    if (uri._parts.query) {\n      var q = '';\n      for (var i = 0, qp = uri._parts.query.split('&'), l = qp.length; i < l; i++) {\n        var kv = (qp[i] || '').split('=');\n        q += '&' + URI.decodeQuery(kv[0], this._parts.escapeQuerySpace)\n          .replace(/&/g, '%26');\n\n        if (kv[1] !== undefined) {\n          q += '=' + URI.decodeQuery(kv[1], this._parts.escapeQuerySpace)\n            .replace(/&/g, '%26');\n        }\n      }\n      t += '?' + q.substring(1);\n    }\n\n    t += URI.decodeQuery(uri.hash(), true);\n    return t;\n  };\n\n  // resolving relative and absolute URLs\n  p.absoluteTo = function(base) {\n    var resolved = this.clone();\n    var properties = ['protocol', 'username', 'password', 'hostname', 'port'];\n    var basedir, i, p;\n\n    if (this._parts.urn) {\n      throw new Error('URNs do not have any generally defined hierarchical components');\n    }\n\n    if (!(base instanceof URI)) {\n      base = new URI(base);\n    }\n\n    if (!resolved._parts.protocol) {\n      resolved._parts.protocol = base._parts.protocol;\n    }\n\n    if (this._parts.hostname) {\n      return resolved;\n    }\n\n    for (i = 0; (p = properties[i]); i++) {\n      resolved._parts[p] = base._parts[p];\n    }\n\n    if (!resolved._parts.path) {\n      resolved._parts.path = base._parts.path;\n      if (!resolved._parts.query) {\n        resolved._parts.query = base._parts.query;\n      }\n    } else if (resolved._parts.path.substring(-2) === '..') {\n      resolved._parts.path += '/';\n    }\n\n    if (resolved.path().charAt(0) !== '/') {\n      basedir = base.directory();\n      basedir = basedir ? basedir : base.path().indexOf('/') === 0 ? '/' : '';\n      resolved._parts.path = (basedir ? (basedir + '/') : '') + resolved._parts.path;\n      resolved.normalizePath();\n    }\n\n    resolved.build();\n    return resolved;\n  };\n  p.relativeTo = function(base) {\n    var relative = this.clone().normalize();\n    var relativeParts, baseParts, common, relativePath, basePath;\n\n    if (relative._parts.urn) {\n      throw new Error('URNs do not have any generally defined hierarchical components');\n    }\n\n    base = new URI(base).normalize();\n    relativeParts = relative._parts;\n    baseParts = base._parts;\n    relativePath = relative.path();\n    basePath = base.path();\n\n    if (relativePath.charAt(0) !== '/') {\n      throw new Error('URI is already relative');\n    }\n\n    if (basePath.charAt(0) !== '/') {\n      throw new Error('Cannot calculate a URI relative to another relative URI');\n    }\n\n    if (relativeParts.protocol === baseParts.protocol) {\n      relativeParts.protocol = null;\n    }\n\n    if (relativeParts.username !== baseParts.username || relativeParts.password !== baseParts.password) {\n      return relative.build();\n    }\n\n    if (relativeParts.protocol !== null || relativeParts.username !== null || relativeParts.password !== null) {\n      return relative.build();\n    }\n\n    if (relativeParts.hostname === baseParts.hostname && relativeParts.port === baseParts.port) {\n      relativeParts.hostname = null;\n      relativeParts.port = null;\n    } else {\n      return relative.build();\n    }\n\n    if (relativePath === basePath) {\n      relativeParts.path = '';\n      return relative.build();\n    }\n\n    // determine common sub path\n    common = URI.commonPath(relativePath, basePath);\n\n    // If the paths have nothing in common, return a relative URL with the absolute path.\n    if (!common) {\n      return relative.build();\n    }\n\n    var parents = baseParts.path\n      .substring(common.length)\n      .replace(/[^\\/]*$/, '')\n      .replace(/.*?\\//g, '../');\n\n    relativeParts.path = (parents + relativeParts.path.substring(common.length)) || './';\n\n    return relative.build();\n  };\n\n  // comparing URIs\n  p.equals = function(uri) {\n    var one = this.clone();\n    var two = new URI(uri);\n    var one_map = {};\n    var two_map = {};\n    var checked = {};\n    var one_query, two_query, key;\n\n    one.normalize();\n    two.normalize();\n\n    // exact match\n    if (one.toString() === two.toString()) {\n      return true;\n    }\n\n    // extract query string\n    one_query = one.query();\n    two_query = two.query();\n    one.query('');\n    two.query('');\n\n    // definitely not equal if not even non-query parts match\n    if (one.toString() !== two.toString()) {\n      return false;\n    }\n\n    // query parameters have the same length, even if they're permuted\n    if (one_query.length !== two_query.length) {\n      return false;\n    }\n\n    one_map = URI.parseQuery(one_query, this._parts.escapeQuerySpace);\n    two_map = URI.parseQuery(two_query, this._parts.escapeQuerySpace);\n\n    for (key in one_map) {\n      if (hasOwn.call(one_map, key)) {\n        if (!isArray(one_map[key])) {\n          if (one_map[key] !== two_map[key]) {\n            return false;\n          }\n        } else if (!arraysEqual(one_map[key], two_map[key])) {\n          return false;\n        }\n\n        checked[key] = true;\n      }\n    }\n\n    for (key in two_map) {\n      if (hasOwn.call(two_map, key)) {\n        if (!checked[key]) {\n          // two contains a parameter not present in one\n          return false;\n        }\n      }\n    }\n\n    return true;\n  };\n\n  // state\n  p.duplicateQueryParameters = function(v) {\n    this._parts.duplicateQueryParameters = !!v;\n    return this;\n  };\n\n  p.escapeQuerySpace = function(v) {\n    this._parts.escapeQuerySpace = !!v;\n    return this;\n  };\n\n  return URI;\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/urijs/src/URI.js\n// module id = 5244\n// module chunks = 7","/*!\n * URI.js - Mutating URLs\n * IPv6 Support\n *\n * Version: 1.17.1\n *\n * Author: Rodney Rehm\n * Web: http://medialize.github.io/URI.js/\n *\n * Licensed under\n *   MIT License http://www.opensource.org/licenses/mit-license\n *\n */\n\n(function (root, factory) {\n  'use strict';\n  // https://github.com/umdjs/umd/blob/master/returnExports.js\n  if (typeof exports === 'object') {\n    // Node\n    module.exports = factory();\n  } else if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define(factory);\n  } else {\n    // Browser globals (root is window)\n    root.IPv6 = factory(root);\n  }\n}(this, function (root) {\n  'use strict';\n\n  /*\n  var _in = \"fe80:0000:0000:0000:0204:61ff:fe9d:f156\";\n  var _out = IPv6.best(_in);\n  var _expected = \"fe80::204:61ff:fe9d:f156\";\n\n  console.log(_in, _out, _expected, _out === _expected);\n  */\n\n  // save current IPv6 variable, if any\n  var _IPv6 = root && root.IPv6;\n\n  function bestPresentation(address) {\n    // based on:\n    // Javascript to test an IPv6 address for proper format, and to\n    // present the \"best text representation\" according to IETF Draft RFC at\n    // http://tools.ietf.org/html/draft-ietf-6man-text-addr-representation-04\n    // 8 Feb 2010 Rich Brown, Dartware, LLC\n    // Please feel free to use this code as long as you provide a link to\n    // http://www.intermapper.com\n    // http://intermapper.com/support/tools/IPV6-Validator.aspx\n    // http://download.dartware.com/thirdparty/ipv6validator.js\n\n    var _address = address.toLowerCase();\n    var segments = _address.split(':');\n    var length = segments.length;\n    var total = 8;\n\n    // trim colons (:: or ::a:b:c or a:b:c::)\n    if (segments[0] === '' && segments[1] === '' && segments[2] === '') {\n      // must have been ::\n      // remove first two items\n      segments.shift();\n      segments.shift();\n    } else if (segments[0] === '' && segments[1] === '') {\n      // must have been ::xxxx\n      // remove the first item\n      segments.shift();\n    } else if (segments[length - 1] === '' && segments[length - 2] === '') {\n      // must have been xxxx::\n      segments.pop();\n    }\n\n    length = segments.length;\n\n    // adjust total segments for IPv4 trailer\n    if (segments[length - 1].indexOf('.') !== -1) {\n      // found a \".\" which means IPv4\n      total = 7;\n    }\n\n    // fill empty segments them with \"0000\"\n    var pos;\n    for (pos = 0; pos < length; pos++) {\n      if (segments[pos] === '') {\n        break;\n      }\n    }\n\n    if (pos < total) {\n      segments.splice(pos, 1, '0000');\n      while (segments.length < total) {\n        segments.splice(pos, 0, '0000');\n      }\n\n      length = segments.length;\n    }\n\n    // strip leading zeros\n    var _segments;\n    for (var i = 0; i < total; i++) {\n      _segments = segments[i].split('');\n      for (var j = 0; j < 3 ; j++) {\n        if (_segments[0] === '0' && _segments.length > 1) {\n          _segments.splice(0,1);\n        } else {\n          break;\n        }\n      }\n\n      segments[i] = _segments.join('');\n    }\n\n    // find longest sequence of zeroes and coalesce them into one segment\n    var best = -1;\n    var _best = 0;\n    var _current = 0;\n    var current = -1;\n    var inzeroes = false;\n    // i; already declared\n\n    for (i = 0; i < total; i++) {\n      if (inzeroes) {\n        if (segments[i] === '0') {\n          _current += 1;\n        } else {\n          inzeroes = false;\n          if (_current > _best) {\n            best = current;\n            _best = _current;\n          }\n        }\n      } else {\n        if (segments[i] === '0') {\n          inzeroes = true;\n          current = i;\n          _current = 1;\n        }\n      }\n    }\n\n    if (_current > _best) {\n      best = current;\n      _best = _current;\n    }\n\n    if (_best > 1) {\n      segments.splice(best, _best, '');\n    }\n\n    length = segments.length;\n\n    // assemble remaining segments\n    var result = '';\n    if (segments[0] === '')  {\n      result = ':';\n    }\n\n    for (i = 0; i < length; i++) {\n      result += segments[i];\n      if (i === length - 1) {\n        break;\n      }\n\n      result += ':';\n    }\n\n    if (segments[length - 1] === '') {\n      result += ':';\n    }\n\n    return result;\n  }\n\n  function noConflict() {\n    /*jshint validthis: true */\n    if (root.IPv6 === this) {\n      root.IPv6 = _IPv6;\n    }\n  \n    return this;\n  }\n\n  return {\n    best: bestPresentation,\n    noConflict: noConflict\n  };\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/urijs/src/IPv6.js\n// module id = 5246\n// module chunks = 7","/*!\n * URI.js - Mutating URLs\n * Second Level Domain (SLD) Support\n *\n * Version: 1.17.1\n *\n * Author: Rodney Rehm\n * Web: http://medialize.github.io/URI.js/\n *\n * Licensed under\n *   MIT License http://www.opensource.org/licenses/mit-license\n *\n */\n\n(function (root, factory) {\n  'use strict';\n  // https://github.com/umdjs/umd/blob/master/returnExports.js\n  if (typeof exports === 'object') {\n    // Node\n    module.exports = factory();\n  } else if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define(factory);\n  } else {\n    // Browser globals (root is window)\n    root.SecondLevelDomains = factory(root);\n  }\n}(this, function (root) {\n  'use strict';\n\n  // save current SecondLevelDomains variable, if any\n  var _SecondLevelDomains = root && root.SecondLevelDomains;\n\n  var SLD = {\n    // list of known Second Level Domains\n    // converted list of SLDs from https://github.com/gavingmiller/second-level-domains\n    // ----\n    // publicsuffix.org is more current and actually used by a couple of browsers internally.\n    // downside is it also contains domains like \"dyndns.org\" - which is fine for the security\n    // issues browser have to deal with (SOP for cookies, etc) - but is way overboard for URI.js\n    // ----\n    list: {\n      'ac':' com gov mil net org ',\n      'ae':' ac co gov mil name net org pro sch ',\n      'af':' com edu gov net org ',\n      'al':' com edu gov mil net org ',\n      'ao':' co ed gv it og pb ',\n      'ar':' com edu gob gov int mil net org tur ',\n      'at':' ac co gv or ',\n      'au':' asn com csiro edu gov id net org ',\n      'ba':' co com edu gov mil net org rs unbi unmo unsa untz unze ',\n      'bb':' biz co com edu gov info net org store tv ',\n      'bh':' biz cc com edu gov info net org ',\n      'bn':' com edu gov net org ',\n      'bo':' com edu gob gov int mil net org tv ',\n      'br':' adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ',\n      'bs':' com edu gov net org ',\n      'bz':' du et om ov rg ',\n      'ca':' ab bc mb nb nf nl ns nt nu on pe qc sk yk ',\n      'ck':' biz co edu gen gov info net org ',\n      'cn':' ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ',\n      'co':' com edu gov mil net nom org ',\n      'cr':' ac c co ed fi go or sa ',\n      'cy':' ac biz com ekloges gov ltd name net org parliament press pro tm ',\n      'do':' art com edu gob gov mil net org sld web ',\n      'dz':' art asso com edu gov net org pol ',\n      'ec':' com edu fin gov info med mil net org pro ',\n      'eg':' com edu eun gov mil name net org sci ',\n      'er':' com edu gov ind mil net org rochest w ',\n      'es':' com edu gob nom org ',\n      'et':' biz com edu gov info name net org ',\n      'fj':' ac biz com info mil name net org pro ',\n      'fk':' ac co gov net nom org ',\n      'fr':' asso com f gouv nom prd presse tm ',\n      'gg':' co net org ',\n      'gh':' com edu gov mil org ',\n      'gn':' ac com gov net org ',\n      'gr':' com edu gov mil net org ',\n      'gt':' com edu gob ind mil net org ',\n      'gu':' com edu gov net org ',\n      'hk':' com edu gov idv net org ',\n      'hu':' 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ',\n      'id':' ac co go mil net or sch web ',\n      'il':' ac co gov idf k12 muni net org ',\n      'in':' ac co edu ernet firm gen gov i ind mil net nic org res ',\n      'iq':' com edu gov i mil net org ',\n      'ir':' ac co dnssec gov i id net org sch ',\n      'it':' edu gov ',\n      'je':' co net org ',\n      'jo':' com edu gov mil name net org sch ',\n      'jp':' ac ad co ed go gr lg ne or ',\n      'ke':' ac co go info me mobi ne or sc ',\n      'kh':' com edu gov mil net org per ',\n      'ki':' biz com de edu gov info mob net org tel ',\n      'km':' asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ',\n      'kn':' edu gov net org ',\n      'kr':' ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ',\n      'kw':' com edu gov net org ',\n      'ky':' com edu gov net org ',\n      'kz':' com edu gov mil net org ',\n      'lb':' com edu gov net org ',\n      'lk':' assn com edu gov grp hotel int ltd net ngo org sch soc web ',\n      'lr':' com edu gov net org ',\n      'lv':' asn com conf edu gov id mil net org ',\n      'ly':' com edu gov id med net org plc sch ',\n      'ma':' ac co gov m net org press ',\n      'mc':' asso tm ',\n      'me':' ac co edu gov its net org priv ',\n      'mg':' com edu gov mil nom org prd tm ',\n      'mk':' com edu gov inf name net org pro ',\n      'ml':' com edu gov net org presse ',\n      'mn':' edu gov org ',\n      'mo':' com edu gov net org ',\n      'mt':' com edu gov net org ',\n      'mv':' aero biz com coop edu gov info int mil museum name net org pro ',\n      'mw':' ac co com coop edu gov int museum net org ',\n      'mx':' com edu gob net org ',\n      'my':' com edu gov mil name net org sch ',\n      'nf':' arts com firm info net other per rec store web ',\n      'ng':' biz com edu gov mil mobi name net org sch ',\n      'ni':' ac co com edu gob mil net nom org ',\n      'np':' com edu gov mil net org ',\n      'nr':' biz com edu gov info net org ',\n      'om':' ac biz co com edu gov med mil museum net org pro sch ',\n      'pe':' com edu gob mil net nom org sld ',\n      'ph':' com edu gov i mil net ngo org ',\n      'pk':' biz com edu fam gob gok gon gop gos gov net org web ',\n      'pl':' art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ',\n      'pr':' ac biz com edu est gov info isla name net org pro prof ',\n      'ps':' com edu gov net org plo sec ',\n      'pw':' belau co ed go ne or ',\n      'ro':' arts com firm info nom nt org rec store tm www ',\n      'rs':' ac co edu gov in org ',\n      'sb':' com edu gov net org ',\n      'sc':' com edu gov net org ',\n      'sh':' co com edu gov net nom org ',\n      'sl':' com edu gov net org ',\n      'st':' co com consulado edu embaixada gov mil net org principe saotome store ',\n      'sv':' com edu gob org red ',\n      'sz':' ac co org ',\n      'tr':' av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ',\n      'tt':' aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ',\n      'tw':' club com ebiz edu game gov idv mil net org ',\n      'mu':' ac co com gov net or org ',\n      'mz':' ac co edu gov org ',\n      'na':' co com ',\n      'nz':' ac co cri geek gen govt health iwi maori mil net org parliament school ',\n      'pa':' abo ac com edu gob ing med net nom org sld ',\n      'pt':' com edu gov int net nome org publ ',\n      'py':' com edu gov mil net org ',\n      'qa':' com edu gov mil net org ',\n      're':' asso com nom ',\n      'ru':' ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ',\n      'rw':' ac co com edu gouv gov int mil net ',\n      'sa':' com edu gov med net org pub sch ',\n      'sd':' com edu gov info med net org tv ',\n      'se':' a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ',\n      'sg':' com edu gov idn net org per ',\n      'sn':' art com edu gouv org perso univ ',\n      'sy':' com edu gov mil net news org ',\n      'th':' ac co go in mi net or ',\n      'tj':' ac biz co com edu go gov info int mil name net nic org test web ',\n      'tn':' agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ',\n      'tz':' ac co go ne or ',\n      'ua':' biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ',\n      'ug':' ac co go ne or org sc ',\n      'uk':' ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ',\n      'us':' dni fed isa kids nsn ',\n      'uy':' com edu gub mil net org ',\n      've':' co com edu gob info mil net org web ',\n      'vi':' co com k12 net org ',\n      'vn':' ac biz com edu gov health info int name net org pro ',\n      'ye':' co com gov ltd me net org plc ',\n      'yu':' ac co edu gov org ',\n      'za':' ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ',\n      'zm':' ac co com edu gov net org sch '\n    },\n    // gorhill 2013-10-25: Using indexOf() instead Regexp(). Significant boost\n    // in both performance and memory footprint. No initialization required.\n    // http://jsperf.com/uri-js-sld-regex-vs-binary-search/4\n    // Following methods use lastIndexOf() rather than array.split() in order\n    // to avoid any memory allocations.\n    has: function(domain) {\n      var tldOffset = domain.lastIndexOf('.');\n      if (tldOffset <= 0 || tldOffset >= (domain.length-1)) {\n        return false;\n      }\n      var sldOffset = domain.lastIndexOf('.', tldOffset-1);\n      if (sldOffset <= 0 || sldOffset >= (tldOffset-1)) {\n        return false;\n      }\n      var sldList = SLD.list[domain.slice(tldOffset+1)];\n      if (!sldList) {\n        return false;\n      }\n      return sldList.indexOf(' ' + domain.slice(sldOffset+1, tldOffset) + ' ') >= 0;\n    },\n    is: function(domain) {\n      var tldOffset = domain.lastIndexOf('.');\n      if (tldOffset <= 0 || tldOffset >= (domain.length-1)) {\n        return false;\n      }\n      var sldOffset = domain.lastIndexOf('.', tldOffset-1);\n      if (sldOffset >= 0) {\n        return false;\n      }\n      var sldList = SLD.list[domain.slice(tldOffset+1)];\n      if (!sldList) {\n        return false;\n      }\n      return sldList.indexOf(' ' + domain.slice(0, tldOffset) + ' ') >= 0;\n    },\n    get: function(domain) {\n      var tldOffset = domain.lastIndexOf('.');\n      if (tldOffset <= 0 || tldOffset >= (domain.length-1)) {\n        return null;\n      }\n      var sldOffset = domain.lastIndexOf('.', tldOffset-1);\n      if (sldOffset <= 0 || sldOffset >= (tldOffset-1)) {\n        return null;\n      }\n      var sldList = SLD.list[domain.slice(tldOffset+1)];\n      if (!sldList) {\n        return null;\n      }\n      if (sldList.indexOf(' ' + domain.slice(sldOffset+1, tldOffset) + ' ') < 0) {\n        return null;\n      }\n      return domain.slice(sldOffset+1);\n    },\n    noConflict: function(){\n      if (root.SecondLevelDomains === this) {\n        root.SecondLevelDomains = _SecondLevelDomains;\n      }\n      return this;\n    }\n  };\n\n  return SLD;\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/urijs/src/SecondLevelDomains.js\n// module id = 5247\n// module chunks = 7","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar BootstrapButton = require('react-bootstrap/lib/Button');\n\n//*------------------------------------------------------------------*\n\nvar ExperimentsList = React.createClass({\n    propTypes: {\n        profiles: React.PropTypes.shape({\n            rows: React.PropTypes.array.isRequired\n        }).isRequired,\n        atlasBaseURL: React.PropTypes.string.isRequired,\n        linksAtlasBaseURL: React.PropTypes.string.isRequired,\n        geneQuery: React.PropTypes.string.isRequired\n    },\n\n    getInitialState: function() {\n        return {\"displayAll\": this.props.profiles.rows.length < 10};\n    },\n\n    _getRowsToDisplay: function() {\n        var rows = this.props.profiles.rows.sort(this._lexicalSort);\n        return this.state.displayAll ? rows : rows.slice(0,10);\n    },\n\n    _displayAll :function() {\n      this.setState({\"displayAll\" : true});\n    },\n\n    _lexicalSort: function(thisProfile, thatProfile) {\n        if (thisProfile.name > thatProfile.name) {\n            return 1;\n        }\n        if (thisProfile.name < thatProfile.name) {\n            return -1;\n        }\n        return 0;\n    },\n\n    _renderListItem: function (profile) {\n        var experimentURL =\n            this.props.linksAtlasBaseURL +\n            \"/experiments/\" + profile.id + \"?geneQuery=\" + this.props.geneQuery +\n            (profile.serializedFilterFactors ?\n            \"&serializedFilterFactors=\" + encodeURIComponent(profile.serializedFilterFactors) : \"\");\n\n        return (\n            <li key={profile.name}>\n                <a target=\"_blank\" href={experimentURL}>{profile.name}</a>\n            </li>\n        );\n    },\n\n    _renderListItems: function(options) {\n        return this._getRowsToDisplay().map(this._renderListItem);\n    },\n\n    render: function() {\n        return (\n            <ul style={{listStyleType: \"none\", paddingLeft: \"0\"}}>\n                {this._renderListItems()}\n                {this.state.displayAll? <a/> : <BootstrapButton bsStyle=\"default\" bsSize=\"xsmall\" onClick={this._displayAll}>More</BootstrapButton> }\n            </ul>\n        );\n    }\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = ExperimentsList;\n\n\n// WEBPACK FOOTER //\n// ./atlas_bundles/heatmap/src/ExperimentsList.jsx","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./HeatmapAnatomogramContainer.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./HeatmapAnatomogramContainer.css\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./HeatmapAnatomogramContainer.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/src/HeatmapAnatomogramContainer.css\n// module id = 5249\n// module chunks = 7","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaHeatmapAnatomogramRow {\\n    position: relative;\\n}\\n\\n.gxaHeatmapAnatomogramRow:after {\\n    clear: both;\\n    content: \\\".\\\";\\n    display: block;\\n    visibility: hidden;\\n}\\n\\n.gxaAside {\\n    float: left;\\n}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./atlas_bundles/heatmap/~/css-loader!./atlas_bundles/heatmap/src/HeatmapAnatomogramContainer.css\n// module id = 5250\n// module chunks = 7"],"sourceRoot":""}